function Pv(i,a){for(var r=0;r<a.length;r++){const l=a[r];if(typeof l!="string"&&!Array.isArray(l)){for(const u in l)if(u!=="default"&&!(u in i)){const c=Object.getOwnPropertyDescriptor(l,u);c&&Object.defineProperty(i,u,c.get?c:{enumerable:!0,get:()=>l[u]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))l(u);new MutationObserver(u=>{for(const c of u)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&l(h)}).observe(document,{childList:!0,subtree:!0});function r(u){const c={};return u.integrity&&(c.integrity=u.integrity),u.referrerPolicy&&(c.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?c.credentials="include":u.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function l(u){if(u.ep)return;u.ep=!0;const c=r(u);fetch(u.href,c)}})();function Zm(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function Qv(i){if(Object.prototype.hasOwnProperty.call(i,"__esModule"))return i;var a=i.default;if(typeof a=="function"){var r=function l(){var u=!1;try{u=this instanceof l}catch{}return u?Reflect.construct(a,arguments,this.constructor):a.apply(this,arguments)};r.prototype=a.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(i).forEach(function(l){var u=Object.getOwnPropertyDescriptor(i,l);Object.defineProperty(r,l,u.get?u:{enumerable:!0,get:function(){return i[l]}})}),r}var ec={exports:{}},Os={};var am;function Jv(){if(am)return Os;am=1;var i=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function r(l,u,c){var h=null;if(c!==void 0&&(h=""+c),u.key!==void 0&&(h=""+u.key),"key"in u){c={};for(var m in u)m!=="key"&&(c[m]=u[m])}else c=u;return u=c.ref,{$$typeof:i,type:l,key:h,ref:u!==void 0?u:null,props:c}}return Os.Fragment=a,Os.jsx=r,Os.jsxs=r,Os}var rm;function Xv(){return rm||(rm=1,ec.exports=Jv()),ec.exports}var f=Xv(),tc={exports:{}},he={};var sm;function Iv(){if(sm)return he;sm=1;var i=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),w=Symbol.iterator;function _(E){return E===null||typeof E!="object"?null:(E=w&&E[w]||E["@@iterator"],typeof E=="function"?E:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,T={};function k(E,G,Q){this.props=E,this.context=G,this.refs=T,this.updater=Q||j}k.prototype.isReactComponent={},k.prototype.setState=function(E,G){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,G,"setState")},k.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function z(){}z.prototype=k.prototype;function C(E,G,Q){this.props=E,this.context=G,this.refs=T,this.updater=Q||j}var K=C.prototype=new z;K.constructor=C,O(K,k.prototype),K.isPureReactComponent=!0;var W=Array.isArray;function J(){}var P={H:null,A:null,T:null,S:null},ye=Object.prototype.hasOwnProperty;function ne(E,G,Q){var X=Q.ref;return{$$typeof:i,type:E,key:G,ref:X!==void 0?X:null,props:Q}}function ce(E,G){return ne(E.type,G,E.props)}function Se(E){return typeof E=="object"&&E!==null&&E.$$typeof===i}function de(E){var G={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(Q){return G[Q]})}var ut=/\/+/g;function I(E,G){return typeof E=="object"&&E!==null&&E.key!=null?de(""+E.key):G.toString(36)}function ae(E){switch(E.status){case"fulfilled":return E.value;case"rejected":throw E.reason;default:switch(typeof E.status=="string"?E.then(J,J):(E.status="pending",E.then(function(G){E.status==="pending"&&(E.status="fulfilled",E.value=G)},function(G){E.status==="pending"&&(E.status="rejected",E.reason=G)})),E.status){case"fulfilled":return E.value;case"rejected":throw E.reason}}throw E}function A(E,G,Q,X,se){var le=typeof E;(le==="undefined"||le==="boolean")&&(E=null);var Oe=!1;if(E===null)Oe=!0;else switch(le){case"bigint":case"string":case"number":Oe=!0;break;case"object":switch(E.$$typeof){case i:case a:Oe=!0;break;case x:return Oe=E._init,A(Oe(E._payload),G,Q,X,se)}}if(Oe)return se=se(E),Oe=X===""?"."+I(E,0):X,W(se)?(Q="",Oe!=null&&(Q=Oe.replace(ut,"$&/")+"/"),A(se,G,Q,"",function(Dr){return Dr})):se!=null&&(Se(se)&&(se=ce(se,Q+(se.key==null||E&&E.key===se.key?"":(""+se.key).replace(ut,"$&/")+"/")+Oe)),G.push(se)),1;Oe=0;var ht=X===""?".":X+":";if(W(E))for(var Ke=0;Ke<E.length;Ke++)X=E[Ke],le=ht+I(X,Ke),Oe+=A(X,G,Q,le,se);else if(Ke=_(E),typeof Ke=="function")for(E=Ke.call(E),Ke=0;!(X=E.next()).done;)X=X.value,le=ht+I(X,Ke++),Oe+=A(X,G,Q,le,se);else if(le==="object"){if(typeof E.then=="function")return A(ae(E),G,Q,X,se);throw G=String(E),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return Oe}function q(E,G,Q){if(E==null)return E;var X=[],se=0;return A(E,X,"","",function(le){return G.call(Q,le,se++)}),X}function Y(E){if(E._status===-1){var G=E._result;G=G(),G.then(function(Q){(E._status===0||E._status===-1)&&(E._status=1,E._result=Q)},function(Q){(E._status===0||E._status===-1)&&(E._status=2,E._result=Q)}),E._status===-1&&(E._status=0,E._result=G)}if(E._status===1)return E._result.default;throw E._result}var ee=typeof reportError=="function"?reportError:function(E){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof E=="object"&&E!==null&&typeof E.message=="string"?String(E.message):String(E),error:E});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",E);return}console.error(E)},fe={map:q,forEach:function(E,G,Q){q(E,function(){G.apply(this,arguments)},Q)},count:function(E){var G=0;return q(E,function(){G++}),G},toArray:function(E){return q(E,function(G){return G})||[]},only:function(E){if(!Se(E))throw Error("React.Children.only expected to receive a single React element child.");return E}};return he.Activity=v,he.Children=fe,he.Component=k,he.Fragment=r,he.Profiler=u,he.PureComponent=C,he.StrictMode=l,he.Suspense=g,he.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,he.__COMPILER_RUNTIME={__proto__:null,c:function(E){return P.H.useMemoCache(E)}},he.cache=function(E){return function(){return E.apply(null,arguments)}},he.cacheSignal=function(){return null},he.cloneElement=function(E,G,Q){if(E==null)throw Error("The argument must be a React element, but you passed "+E+".");var X=O({},E.props),se=E.key;if(G!=null)for(le in G.key!==void 0&&(se=""+G.key),G)!ye.call(G,le)||le==="key"||le==="__self"||le==="__source"||le==="ref"&&G.ref===void 0||(X[le]=G[le]);var le=arguments.length-2;if(le===1)X.children=Q;else if(1<le){for(var Oe=Array(le),ht=0;ht<le;ht++)Oe[ht]=arguments[ht+2];X.children=Oe}return ne(E.type,se,X)},he.createContext=function(E){return E={$$typeof:h,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null},E.Provider=E,E.Consumer={$$typeof:c,_context:E},E},he.createElement=function(E,G,Q){var X,se={},le=null;if(G!=null)for(X in G.key!==void 0&&(le=""+G.key),G)ye.call(G,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(se[X]=G[X]);var Oe=arguments.length-2;if(Oe===1)se.children=Q;else if(1<Oe){for(var ht=Array(Oe),Ke=0;Ke<Oe;Ke++)ht[Ke]=arguments[Ke+2];se.children=ht}if(E&&E.defaultProps)for(X in Oe=E.defaultProps,Oe)se[X]===void 0&&(se[X]=Oe[X]);return ne(E,le,se)},he.createRef=function(){return{current:null}},he.forwardRef=function(E){return{$$typeof:m,render:E}},he.isValidElement=Se,he.lazy=function(E){return{$$typeof:x,_payload:{_status:-1,_result:E},_init:Y}},he.memo=function(E,G){return{$$typeof:p,type:E,compare:G===void 0?null:G}},he.startTransition=function(E){var G=P.T,Q={};P.T=Q;try{var X=E(),se=P.S;se!==null&&se(Q,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(J,ee)}catch(le){ee(le)}finally{G!==null&&Q.types!==null&&(G.types=Q.types),P.T=G}},he.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},he.use=function(E){return P.H.use(E)},he.useActionState=function(E,G,Q){return P.H.useActionState(E,G,Q)},he.useCallback=function(E,G){return P.H.useCallback(E,G)},he.useContext=function(E){return P.H.useContext(E)},he.useDebugValue=function(){},he.useDeferredValue=function(E,G){return P.H.useDeferredValue(E,G)},he.useEffect=function(E,G){return P.H.useEffect(E,G)},he.useEffectEvent=function(E){return P.H.useEffectEvent(E)},he.useId=function(){return P.H.useId()},he.useImperativeHandle=function(E,G,Q){return P.H.useImperativeHandle(E,G,Q)},he.useInsertionEffect=function(E,G){return P.H.useInsertionEffect(E,G)},he.useLayoutEffect=function(E,G){return P.H.useLayoutEffect(E,G)},he.useMemo=function(E,G){return P.H.useMemo(E,G)},he.useOptimistic=function(E,G){return P.H.useOptimistic(E,G)},he.useReducer=function(E,G,Q){return P.H.useReducer(E,G,Q)},he.useRef=function(E){return P.H.useRef(E)},he.useState=function(E){return P.H.useState(E)},he.useSyncExternalStore=function(E,G,Q){return P.H.useSyncExternalStore(E,G,Q)},he.useTransition=function(){return P.H.useTransition()},he.version="19.2.0",he}var im;function Lc(){return im||(im=1,tc.exports=Iv()),tc.exports}var U=Lc();const Fm=Zm(U);var nc={exports:{}},As={},ac={exports:{}},rc={};var lm;function Zv(){return lm||(lm=1,(function(i){function a(A,q){var Y=A.length;A.push(q);e:for(;0<Y;){var ee=Y-1>>>1,fe=A[ee];if(0<u(fe,q))A[ee]=q,A[Y]=fe,Y=ee;else break e}}function r(A){return A.length===0?null:A[0]}function l(A){if(A.length===0)return null;var q=A[0],Y=A.pop();if(Y!==q){A[0]=Y;e:for(var ee=0,fe=A.length,E=fe>>>1;ee<E;){var G=2*(ee+1)-1,Q=A[G],X=G+1,se=A[X];if(0>u(Q,Y))X<fe&&0>u(se,Q)?(A[ee]=se,A[X]=Y,ee=X):(A[ee]=Q,A[G]=Y,ee=G);else if(X<fe&&0>u(se,Y))A[ee]=se,A[X]=Y,ee=X;else break e}}return q}function u(A,q){var Y=A.sortIndex-q.sortIndex;return Y!==0?Y:A.id-q.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var h=Date,m=h.now();i.unstable_now=function(){return h.now()-m}}var g=[],p=[],x=1,v=null,w=3,_=!1,j=!1,O=!1,T=!1,k=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function K(A){for(var q=r(p);q!==null;){if(q.callback===null)l(p);else if(q.startTime<=A)l(p),q.sortIndex=q.expirationTime,a(g,q);else break;q=r(p)}}function W(A){if(O=!1,K(A),!j)if(r(g)!==null)j=!0,J||(J=!0,de());else{var q=r(p);q!==null&&ae(W,q.startTime-A)}}var J=!1,P=-1,ye=5,ne=-1;function ce(){return T?!0:!(i.unstable_now()-ne<ye)}function Se(){if(T=!1,J){var A=i.unstable_now();ne=A;var q=!0;try{e:{j=!1,O&&(O=!1,z(P),P=-1),_=!0;var Y=w;try{t:{for(K(A),v=r(g);v!==null&&!(v.expirationTime>A&&ce());){var ee=v.callback;if(typeof ee=="function"){v.callback=null,w=v.priorityLevel;var fe=ee(v.expirationTime<=A);if(A=i.unstable_now(),typeof fe=="function"){v.callback=fe,K(A),q=!0;break t}v===r(g)&&l(g),K(A)}else l(g);v=r(g)}if(v!==null)q=!0;else{var E=r(p);E!==null&&ae(W,E.startTime-A),q=!1}}break e}finally{v=null,w=Y,_=!1}q=void 0}}finally{q?de():J=!1}}}var de;if(typeof C=="function")de=function(){C(Se)};else if(typeof MessageChannel<"u"){var ut=new MessageChannel,I=ut.port2;ut.port1.onmessage=Se,de=function(){I.postMessage(null)}}else de=function(){k(Se,0)};function ae(A,q){P=k(function(){A(i.unstable_now())},q)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(A){A.callback=null},i.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ye=0<A?Math.floor(1e3/A):5},i.unstable_getCurrentPriorityLevel=function(){return w},i.unstable_next=function(A){switch(w){case 1:case 2:case 3:var q=3;break;default:q=w}var Y=w;w=q;try{return A()}finally{w=Y}},i.unstable_requestPaint=function(){T=!0},i.unstable_runWithPriority=function(A,q){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var Y=w;w=A;try{return q()}finally{w=Y}},i.unstable_scheduleCallback=function(A,q,Y){var ee=i.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?ee+Y:ee):Y=ee,A){case 1:var fe=-1;break;case 2:fe=250;break;case 5:fe=1073741823;break;case 4:fe=1e4;break;default:fe=5e3}return fe=Y+fe,A={id:x++,callback:q,priorityLevel:A,startTime:Y,expirationTime:fe,sortIndex:-1},Y>ee?(A.sortIndex=Y,a(p,A),r(g)===null&&A===r(p)&&(O?(z(P),P=-1):O=!0,ae(W,Y-ee))):(A.sortIndex=fe,a(g,A),j||_||(j=!0,J||(J=!0,de()))),A},i.unstable_shouldYield=ce,i.unstable_wrapCallback=function(A){var q=w;return function(){var Y=w;w=q;try{return A.apply(this,arguments)}finally{w=Y}}}})(rc)),rc}var om;function Fv(){return om||(om=1,ac.exports=Zv()),ac.exports}var sc={exports:{}},ct={};var um;function Wv(){if(um)return ct;um=1;var i=Lc();function a(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)p+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var l={d:{f:r,r:function(){throw Error(a(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},u=Symbol.for("react.portal");function c(g,p,x){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:v==null?null:""+v,children:g,containerInfo:p,implementation:x}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return ct.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,ct.createPortal=function(g,p){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(a(299));return c(g,p,null,x)},ct.flushSync=function(g){var p=h.T,x=l.p;try{if(h.T=null,l.p=2,g)return g()}finally{h.T=p,l.p=x,l.d.f()}},ct.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,l.d.C(g,p))},ct.prefetchDNS=function(g){typeof g=="string"&&l.d.D(g)},ct.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var x=p.as,v=m(x,p.crossOrigin),w=typeof p.integrity=="string"?p.integrity:void 0,_=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;x==="style"?l.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:v,integrity:w,fetchPriority:_}):x==="script"&&l.d.X(g,{crossOrigin:v,integrity:w,fetchPriority:_,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},ct.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var x=m(p.as,p.crossOrigin);l.d.M(g,{crossOrigin:x,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&l.d.M(g)},ct.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var x=p.as,v=m(x,p.crossOrigin);l.d.L(g,x,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},ct.preloadModule=function(g,p){if(typeof g=="string")if(p){var x=m(p.as,p.crossOrigin);l.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:x,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else l.d.m(g)},ct.requestFormReset=function(g){l.d.r(g)},ct.unstable_batchedUpdates=function(g,p){return g(p)},ct.useFormState=function(g,p,x){return h.H.useFormState(g,p,x)},ct.useFormStatus=function(){return h.H.useHostTransitionStatus()},ct.version="19.2.0",ct}var cm;function eb(){if(cm)return sc.exports;cm=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(a){console.error(a)}}return i(),sc.exports=Wv(),sc.exports}var dm;function tb(){if(dm)return As;dm=1;var i=Fv(),a=Lc(),r=eb();function l(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(c(e)!==e)throw Error(l(188))}function p(e){var t=e.alternate;if(!t){if(t=c(e),t===null)throw Error(l(188));return t!==e?null:e}for(var n=e,s=t;;){var o=n.return;if(o===null)break;var d=o.alternate;if(d===null){if(s=o.return,s!==null){n=s;continue}break}if(o.child===d.child){for(d=o.child;d;){if(d===n)return g(o),e;if(d===s)return g(o),t;d=d.sibling}throw Error(l(188))}if(n.return!==s.return)n=o,s=d;else{for(var y=!1,b=o.child;b;){if(b===n){y=!0,n=o,s=d;break}if(b===s){y=!0,s=o,n=d;break}b=b.sibling}if(!y){for(b=d.child;b;){if(b===n){y=!0,n=d,s=o;break}if(b===s){y=!0,s=d,n=o;break}b=b.sibling}if(!y)throw Error(l(189))}}if(n.alternate!==s)throw Error(l(190))}if(n.tag!==3)throw Error(l(188));return n.stateNode.current===n?e:t}function x(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=x(e),t!==null)return t;e=e.sibling}return null}var v=Object.assign,w=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),z=Symbol.for("react.consumer"),C=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),J=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),ye=Symbol.for("react.lazy"),ne=Symbol.for("react.activity"),ce=Symbol.for("react.memo_cache_sentinel"),Se=Symbol.iterator;function de(e){return e===null||typeof e!="object"?null:(e=Se&&e[Se]||e["@@iterator"],typeof e=="function"?e:null)}var ut=Symbol.for("react.client.reference");function I(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ut?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case O:return"Fragment";case k:return"Profiler";case T:return"StrictMode";case W:return"Suspense";case J:return"SuspenseList";case ne:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case j:return"Portal";case C:return e.displayName||"Context";case z:return(e._context.displayName||"Context")+".Consumer";case K:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case P:return t=e.displayName||null,t!==null?t:I(e.type)||"Memo";case ye:t=e._payload,e=e._init;try{return I(e(t))}catch{}}return null}var ae=Array.isArray,A=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y={pending:!1,data:null,method:null,action:null},ee=[],fe=-1;function E(e){return{current:e}}function G(e){0>fe||(e.current=ee[fe],ee[fe]=null,fe--)}function Q(e,t){fe++,ee[fe]=e.current,e.current=t}var X=E(null),se=E(null),le=E(null),Oe=E(null);function ht(e,t){switch(Q(le,t),Q(se,e),Q(X,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?T0(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=T0(t),e=N0(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}G(X),Q(X,e)}function Ke(){G(X),G(se),G(le)}function Dr(e){e.memoizedState!==null&&Q(Oe,e);var t=X.current,n=N0(t,e.type);t!==n&&(Q(se,e),Q(X,n))}function Qs(e){se.current===e&&(G(X),G(se)),Oe.current===e&&(G(Oe),js._currentValue=Y)}var Dl,td;function sa(e){if(Dl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Dl=t&&t[1]||"",td=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Dl+e+td}var Ml=!1;function Bl(e,t){if(!e||Ml)return"";Ml=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var V=function(){throw Error()};if(Object.defineProperty(V.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(V,[])}catch(L){var B=L}Reflect.construct(e,[],V)}else{try{V.call()}catch(L){B=L}e.call(V.prototype)}}else{try{throw Error()}catch(L){B=L}(V=e())&&typeof V.catch=="function"&&V.catch(function(){})}}catch(L){if(L&&B&&typeof L.stack=="string")return[L.stack,B.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=s.DetermineComponentFrameRoot(),y=d[0],b=d[1];if(y&&b){var S=y.split(`
`),M=b.split(`
`);for(o=s=0;s<S.length&&!S[s].includes("DetermineComponentFrameRoot");)s++;for(;o<M.length&&!M[o].includes("DetermineComponentFrameRoot");)o++;if(s===S.length||o===M.length)for(s=S.length-1,o=M.length-1;1<=s&&0<=o&&S[s]!==M[o];)o--;for(;1<=s&&0<=o;s--,o--)if(S[s]!==M[o]){if(s!==1||o!==1)do if(s--,o--,0>o||S[s]!==M[o]){var H=`
`+S[s].replace(" at new "," at ");return e.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",e.displayName)),H}while(1<=s&&0<=o);break}}}finally{Ml=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?sa(n):""}function Sp(e,t){switch(e.tag){case 26:case 27:case 5:return sa(e.type);case 16:return sa("Lazy");case 13:return e.child!==t&&t!==null?sa("Suspense Fallback"):sa("Suspense");case 19:return sa("SuspenseList");case 0:case 15:return Bl(e.type,!1);case 11:return Bl(e.type.render,!1);case 1:return Bl(e.type,!0);case 31:return sa("Activity");default:return""}}function nd(e){try{var t="",n=null;do t+=Sp(e,n),n=e,e=e.return;while(e);return t}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var Ll=Object.prototype.hasOwnProperty,ql=i.unstable_scheduleCallback,Hl=i.unstable_cancelCallback,jp=i.unstable_shouldYield,Ep=i.unstable_requestPaint,wt=i.unstable_now,Tp=i.unstable_getCurrentPriorityLevel,ad=i.unstable_ImmediatePriority,rd=i.unstable_UserBlockingPriority,Js=i.unstable_NormalPriority,Np=i.unstable_LowPriority,sd=i.unstable_IdlePriority,Op=i.log,Ap=i.unstable_setDisableYieldValue,Mr=null,_t=null;function On(e){if(typeof Op=="function"&&Ap(e),_t&&typeof _t.setStrictMode=="function")try{_t.setStrictMode(Mr,e)}catch{}}var St=Math.clz32?Math.clz32:kp,Rp=Math.log,Cp=Math.LN2;function kp(e){return e>>>=0,e===0?32:31-(Rp(e)/Cp|0)|0}var Xs=256,Is=262144,Zs=4194304;function ia(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Fs(e,t,n){var s=e.pendingLanes;if(s===0)return 0;var o=0,d=e.suspendedLanes,y=e.pingedLanes;e=e.warmLanes;var b=s&134217727;return b!==0?(s=b&~d,s!==0?o=ia(s):(y&=b,y!==0?o=ia(y):n||(n=b&~e,n!==0&&(o=ia(n))))):(b=s&~d,b!==0?o=ia(b):y!==0?o=ia(y):n||(n=s&~e,n!==0&&(o=ia(n)))),o===0?0:t!==0&&t!==o&&(t&d)===0&&(d=o&-o,n=t&-t,d>=n||d===32&&(n&4194048)!==0)?t:o}function Br(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function zp(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function id(){var e=Zs;return Zs<<=1,(Zs&62914560)===0&&(Zs=4194304),e}function $l(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Lr(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Up(e,t,n,s,o,d){var y=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var b=e.entanglements,S=e.expirationTimes,M=e.hiddenUpdates;for(n=y&~n;0<n;){var H=31-St(n),V=1<<H;b[H]=0,S[H]=-1;var B=M[H];if(B!==null)for(M[H]=null,H=0;H<B.length;H++){var L=B[H];L!==null&&(L.lane&=-536870913)}n&=~V}s!==0&&ld(e,s,0),d!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=d&~(y&~t))}function ld(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-St(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|n&261930}function od(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-St(n),o=1<<s;o&t|e[s]&t&&(e[s]|=t),n&=~o}}function ud(e,t){var n=t&-t;return n=(n&42)!==0?1:Vl(n),(n&(e.suspendedLanes|t))!==0?0:n}function Vl(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Gl(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function cd(){var e=q.p;return e!==0?e:(e=window.event,e===void 0?32:I0(e.type))}function dd(e,t){var n=q.p;try{return q.p=e,t()}finally{q.p=n}}var An=Math.random().toString(36).slice(2),at="__reactFiber$"+An,mt="__reactProps$"+An,Ca="__reactContainer$"+An,Yl="__reactEvents$"+An,Dp="__reactListeners$"+An,Mp="__reactHandles$"+An,hd="__reactResources$"+An,qr="__reactMarker$"+An;function Kl(e){delete e[at],delete e[mt],delete e[Yl],delete e[Dp],delete e[Mp]}function ka(e){var t=e[at];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ca]||n[at]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=U0(e);e!==null;){if(n=e[at])return n;e=U0(e)}return t}e=n,n=e.parentNode}return null}function za(e){if(e=e[at]||e[Ca]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Hr(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(l(33))}function Ua(e){var t=e[hd];return t||(t=e[hd]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function tt(e){e[qr]=!0}var fd=new Set,md={};function la(e,t){Da(e,t),Da(e+"Capture",t)}function Da(e,t){for(md[e]=t,e=0;e<t.length;e++)fd.add(t[e])}var Bp=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),gd={},pd={};function Lp(e){return Ll.call(pd,e)?!0:Ll.call(gd,e)?!1:Bp.test(e)?pd[e]=!0:(gd[e]=!0,!1)}function Ws(e,t,n){if(Lp(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function ei(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function rn(e,t,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+s)}}function Dt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function yd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function qp(e,t,n){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var o=s.get,d=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(y){n=""+y,d.call(this,y)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return n},setValue:function(y){n=""+y},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Pl(e){if(!e._valueTracker){var t=yd(e)?"checked":"value";e._valueTracker=qp(e,t,""+e[t])}}function vd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=yd(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function ti(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Hp=/[\n"\\]/g;function Mt(e){return e.replace(Hp,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Ql(e,t,n,s,o,d,y,b){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),t!=null?y==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Dt(t)):e.value!==""+Dt(t)&&(e.value=""+Dt(t)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),t!=null?Jl(e,y,Dt(t)):n!=null?Jl(e,y,Dt(n)):s!=null&&e.removeAttribute("value"),o==null&&d!=null&&(e.defaultChecked=!!d),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.name=""+Dt(b):e.removeAttribute("name")}function bd(e,t,n,s,o,d,y,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),t!=null||n!=null){if(!(d!=="submit"&&d!=="reset"||t!=null)){Pl(e);return}n=n!=null?""+Dt(n):"",t=t!=null?""+Dt(t):n,b||t===e.value||(e.value=t),e.defaultValue=t}s=s??o,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=b?e.checked:!!s,e.defaultChecked=!!s,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y),Pl(e)}function Jl(e,t,n){t==="number"&&ti(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Ma(e,t,n,s){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&s&&(e[n].defaultSelected=!0)}else{for(n=""+Dt(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,s&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function xd(e,t,n){if(t!=null&&(t=""+Dt(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Dt(n):""}function wd(e,t,n,s){if(t==null){if(s!=null){if(n!=null)throw Error(l(92));if(ae(s)){if(1<s.length)throw Error(l(93));s=s[0]}n=s}n==null&&(n=""),t=n}n=Dt(t),e.defaultValue=n,s=e.textContent,s===n&&s!==""&&s!==null&&(e.value=s),Pl(e)}function Ba(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var $p=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function _d(e,t,n){var s=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,n):typeof n!="number"||n===0||$p.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Sd(e,t,n){if(t!=null&&typeof t!="object")throw Error(l(62));if(e=e.style,n!=null){for(var s in n)!n.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var o in t)s=t[o],t.hasOwnProperty(o)&&n[o]!==s&&_d(e,o,s)}else for(var d in t)t.hasOwnProperty(d)&&_d(e,d,t[d])}function Xl(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Gp=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ni(e){return Gp.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function sn(){}var Il=null;function Zl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var La=null,qa=null;function jd(e){var t=za(e);if(t&&(e=t.stateNode)){var n=e[mt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Ql(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Mt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var o=s[mt]||null;if(!o)throw Error(l(90));Ql(s,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<n.length;t++)s=n[t],s.form===e.form&&vd(s)}break e;case"textarea":xd(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Ma(e,!!n.multiple,t,!1)}}}var Fl=!1;function Ed(e,t,n){if(Fl)return e(t,n);Fl=!0;try{var s=e(t);return s}finally{if(Fl=!1,(La!==null||qa!==null)&&(Gi(),La&&(t=La,e=qa,qa=La=null,jd(t),e)))for(t=0;t<e.length;t++)jd(e[t])}}function $r(e,t){var n=e.stateNode;if(n===null)return null;var s=n[mt]||null;if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(l(231,t,typeof n));return n}var ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wl=!1;if(ln)try{var Vr={};Object.defineProperty(Vr,"passive",{get:function(){Wl=!0}}),window.addEventListener("test",Vr,Vr),window.removeEventListener("test",Vr,Vr)}catch{Wl=!1}var Rn=null,eo=null,ai=null;function Td(){if(ai)return ai;var e,t=eo,n=t.length,s,o="value"in Rn?Rn.value:Rn.textContent,d=o.length;for(e=0;e<n&&t[e]===o[e];e++);var y=n-e;for(s=1;s<=y&&t[n-s]===o[d-s];s++);return ai=o.slice(e,1<s?1-s:void 0)}function ri(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function si(){return!0}function Nd(){return!1}function gt(e){function t(n,s,o,d,y){this._reactName=n,this._targetInst=o,this.type=s,this.nativeEvent=d,this.target=y,this.currentTarget=null;for(var b in e)e.hasOwnProperty(b)&&(n=e[b],this[b]=n?n(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?si:Nd,this.isPropagationStopped=Nd,this}return v(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=si)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=si)},persist:function(){},isPersistent:si}),t}var oa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ii=gt(oa),Gr=v({},oa,{view:0,detail:0}),Yp=gt(Gr),to,no,Yr,li=v({},Gr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ro,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Yr&&(Yr&&e.type==="mousemove"?(to=e.screenX-Yr.screenX,no=e.screenY-Yr.screenY):no=to=0,Yr=e),to)},movementY:function(e){return"movementY"in e?e.movementY:no}}),Od=gt(li),Kp=v({},li,{dataTransfer:0}),Pp=gt(Kp),Qp=v({},Gr,{relatedTarget:0}),ao=gt(Qp),Jp=v({},oa,{animationName:0,elapsedTime:0,pseudoElement:0}),Xp=gt(Jp),Ip=v({},oa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Zp=gt(Ip),Fp=v({},oa,{data:0}),Ad=gt(Fp),Wp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ey={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ty={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ny(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ty[e])?!!t[e]:!1}function ro(){return ny}var ay=v({},Gr,{key:function(e){if(e.key){var t=Wp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ri(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ey[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ro,charCode:function(e){return e.type==="keypress"?ri(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ri(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ry=gt(ay),sy=v({},li,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rd=gt(sy),iy=v({},Gr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ro}),ly=gt(iy),oy=v({},oa,{propertyName:0,elapsedTime:0,pseudoElement:0}),uy=gt(oy),cy=v({},li,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),dy=gt(cy),hy=v({},oa,{newState:0,oldState:0}),fy=gt(hy),my=[9,13,27,32],so=ln&&"CompositionEvent"in window,Kr=null;ln&&"documentMode"in document&&(Kr=document.documentMode);var gy=ln&&"TextEvent"in window&&!Kr,Cd=ln&&(!so||Kr&&8<Kr&&11>=Kr),kd=" ",zd=!1;function Ud(e,t){switch(e){case"keyup":return my.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Dd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ha=!1;function py(e,t){switch(e){case"compositionend":return Dd(t);case"keypress":return t.which!==32?null:(zd=!0,kd);case"textInput":return e=t.data,e===kd&&zd?null:e;default:return null}}function yy(e,t){if(Ha)return e==="compositionend"||!so&&Ud(e,t)?(e=Td(),ai=eo=Rn=null,Ha=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Cd&&t.locale!=="ko"?null:t.data;default:return null}}var vy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Md(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!vy[e.type]:t==="textarea"}function Bd(e,t,n,s){La?qa?qa.push(s):qa=[s]:La=s,t=Ii(t,"onChange"),0<t.length&&(n=new ii("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var Pr=null,Qr=null;function by(e){x0(e,0)}function oi(e){var t=Hr(e);if(vd(t))return e}function Ld(e,t){if(e==="change")return t}var qd=!1;if(ln){var io;if(ln){var lo="oninput"in document;if(!lo){var Hd=document.createElement("div");Hd.setAttribute("oninput","return;"),lo=typeof Hd.oninput=="function"}io=lo}else io=!1;qd=io&&(!document.documentMode||9<document.documentMode)}function $d(){Pr&&(Pr.detachEvent("onpropertychange",Vd),Qr=Pr=null)}function Vd(e){if(e.propertyName==="value"&&oi(Qr)){var t=[];Bd(t,Qr,e,Zl(e)),Ed(by,t)}}function xy(e,t,n){e==="focusin"?($d(),Pr=t,Qr=n,Pr.attachEvent("onpropertychange",Vd)):e==="focusout"&&$d()}function wy(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return oi(Qr)}function _y(e,t){if(e==="click")return oi(t)}function Sy(e,t){if(e==="input"||e==="change")return oi(t)}function jy(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var jt=typeof Object.is=="function"?Object.is:jy;function Jr(e,t){if(jt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var o=n[s];if(!Ll.call(t,o)||!jt(e[o],t[o]))return!1}return!0}function Gd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Yd(e,t){var n=Gd(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Gd(n)}}function Kd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Kd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Pd(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=ti(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ti(e.document)}return t}function oo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Ey=ln&&"documentMode"in document&&11>=document.documentMode,$a=null,uo=null,Xr=null,co=!1;function Qd(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;co||$a==null||$a!==ti(s)||(s=$a,"selectionStart"in s&&oo(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Xr&&Jr(Xr,s)||(Xr=s,s=Ii(uo,"onSelect"),0<s.length&&(t=new ii("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=$a)))}function ua(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Va={animationend:ua("Animation","AnimationEnd"),animationiteration:ua("Animation","AnimationIteration"),animationstart:ua("Animation","AnimationStart"),transitionrun:ua("Transition","TransitionRun"),transitionstart:ua("Transition","TransitionStart"),transitioncancel:ua("Transition","TransitionCancel"),transitionend:ua("Transition","TransitionEnd")},ho={},Jd={};ln&&(Jd=document.createElement("div").style,"AnimationEvent"in window||(delete Va.animationend.animation,delete Va.animationiteration.animation,delete Va.animationstart.animation),"TransitionEvent"in window||delete Va.transitionend.transition);function ca(e){if(ho[e])return ho[e];if(!Va[e])return e;var t=Va[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Jd)return ho[e]=t[n];return e}var Xd=ca("animationend"),Id=ca("animationiteration"),Zd=ca("animationstart"),Ty=ca("transitionrun"),Ny=ca("transitionstart"),Oy=ca("transitioncancel"),Fd=ca("transitionend"),Wd=new Map,fo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");fo.push("scrollEnd");function Kt(e,t){Wd.set(e,t),la(t,[e])}var ui=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Bt=[],Ga=0,mo=0;function ci(){for(var e=Ga,t=mo=Ga=0;t<e;){var n=Bt[t];Bt[t++]=null;var s=Bt[t];Bt[t++]=null;var o=Bt[t];Bt[t++]=null;var d=Bt[t];if(Bt[t++]=null,s!==null&&o!==null){var y=s.pending;y===null?o.next=o:(o.next=y.next,y.next=o),s.pending=o}d!==0&&eh(n,o,d)}}function di(e,t,n,s){Bt[Ga++]=e,Bt[Ga++]=t,Bt[Ga++]=n,Bt[Ga++]=s,mo|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function go(e,t,n,s){return di(e,t,n,s),hi(e)}function da(e,t){return di(e,null,null,t),hi(e)}function eh(e,t,n){e.lanes|=n;var s=e.alternate;s!==null&&(s.lanes|=n);for(var o=!1,d=e.return;d!==null;)d.childLanes|=n,s=d.alternate,s!==null&&(s.childLanes|=n),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(o=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,o&&t!==null&&(o=31-St(n),e=d.hiddenUpdates,s=e[o],s===null?e[o]=[t]:s.push(t),t.lane=n|536870912),d):null}function hi(e){if(50<ys)throw ys=0,ju=null,Error(l(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ya={};function Ay(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Et(e,t,n,s){return new Ay(e,t,n,s)}function po(e){return e=e.prototype,!(!e||!e.isReactComponent)}function on(e,t){var n=e.alternate;return n===null?(n=Et(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function th(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function fi(e,t,n,s,o,d){var y=0;if(s=e,typeof e=="function")po(e)&&(y=1);else if(typeof e=="string")y=Uv(e,n,X.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ne:return e=Et(31,n,t,o),e.elementType=ne,e.lanes=d,e;case O:return ha(n.children,o,d,t);case T:y=8,o|=24;break;case k:return e=Et(12,n,t,o|2),e.elementType=k,e.lanes=d,e;case W:return e=Et(13,n,t,o),e.elementType=W,e.lanes=d,e;case J:return e=Et(19,n,t,o),e.elementType=J,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case C:y=10;break e;case z:y=9;break e;case K:y=11;break e;case P:y=14;break e;case ye:y=16,s=null;break e}y=29,n=Error(l(130,e===null?"null":typeof e,"")),s=null}return t=Et(y,n,t,o),t.elementType=e,t.type=s,t.lanes=d,t}function ha(e,t,n,s){return e=Et(7,e,s,t),e.lanes=n,e}function yo(e,t,n){return e=Et(6,e,null,t),e.lanes=n,e}function nh(e){var t=Et(18,null,null,0);return t.stateNode=e,t}function vo(e,t,n){return t=Et(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var ah=new WeakMap;function Lt(e,t){if(typeof e=="object"&&e!==null){var n=ah.get(e);return n!==void 0?n:(t={value:e,source:t,stack:nd(t)},ah.set(e,t),t)}return{value:e,source:t,stack:nd(t)}}var Ka=[],Pa=0,mi=null,Ir=0,qt=[],Ht=0,Cn=null,Wt=1,en="";function un(e,t){Ka[Pa++]=Ir,Ka[Pa++]=mi,mi=e,Ir=t}function rh(e,t,n){qt[Ht++]=Wt,qt[Ht++]=en,qt[Ht++]=Cn,Cn=e;var s=Wt;e=en;var o=32-St(s)-1;s&=~(1<<o),n+=1;var d=32-St(t)+o;if(30<d){var y=o-o%5;d=(s&(1<<y)-1).toString(32),s>>=y,o-=y,Wt=1<<32-St(t)+o|n<<o|s,en=d+e}else Wt=1<<d|n<<o|s,en=e}function bo(e){e.return!==null&&(un(e,1),rh(e,1,0))}function xo(e){for(;e===mi;)mi=Ka[--Pa],Ka[Pa]=null,Ir=Ka[--Pa],Ka[Pa]=null;for(;e===Cn;)Cn=qt[--Ht],qt[Ht]=null,en=qt[--Ht],qt[Ht]=null,Wt=qt[--Ht],qt[Ht]=null}function sh(e,t){qt[Ht++]=Wt,qt[Ht++]=en,qt[Ht++]=Cn,Wt=t.id,en=t.overflow,Cn=e}var rt=null,Be=null,_e=!1,kn=null,$t=!1,wo=Error(l(519));function zn(e){var t=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Zr(Lt(t,e)),wo}function ih(e){var t=e.stateNode,n=e.type,s=e.memoizedProps;switch(t[at]=e,t[mt]=s,n){case"dialog":be("cancel",t),be("close",t);break;case"iframe":case"object":case"embed":be("load",t);break;case"video":case"audio":for(n=0;n<bs.length;n++)be(bs[n],t);break;case"source":be("error",t);break;case"img":case"image":case"link":be("error",t),be("load",t);break;case"details":be("toggle",t);break;case"input":be("invalid",t),bd(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":be("invalid",t);break;case"textarea":be("invalid",t),wd(t,s.value,s.defaultValue,s.children)}n=s.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||s.suppressHydrationWarning===!0||j0(t.textContent,n)?(s.popover!=null&&(be("beforetoggle",t),be("toggle",t)),s.onScroll!=null&&be("scroll",t),s.onScrollEnd!=null&&be("scrollend",t),s.onClick!=null&&(t.onclick=sn),t=!0):t=!1,t||zn(e,!0)}function lh(e){for(rt=e.return;rt;)switch(rt.tag){case 5:case 31:case 13:$t=!1;return;case 27:case 3:$t=!0;return;default:rt=rt.return}}function Qa(e){if(e!==rt)return!1;if(!_e)return lh(e),_e=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||qu(e.type,e.memoizedProps)),n=!n),n&&Be&&zn(e),lh(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));Be=z0(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));Be=z0(e)}else t===27?(t=Be,Qn(e.type)?(e=Yu,Yu=null,Be=e):Be=t):Be=rt?Gt(e.stateNode.nextSibling):null;return!0}function fa(){Be=rt=null,_e=!1}function _o(){var e=kn;return e!==null&&(bt===null?bt=e:bt.push.apply(bt,e),kn=null),e}function Zr(e){kn===null?kn=[e]:kn.push(e)}var So=E(null),ma=null,cn=null;function Un(e,t,n){Q(So,t._currentValue),t._currentValue=n}function dn(e){e._currentValue=So.current,G(So)}function jo(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function Eo(e,t,n,s){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var d=o.dependencies;if(d!==null){var y=o.child;d=d.firstContext;e:for(;d!==null;){var b=d;d=o;for(var S=0;S<t.length;S++)if(b.context===t[S]){d.lanes|=n,b=d.alternate,b!==null&&(b.lanes|=n),jo(d.return,n,e),s||(y=null);break e}d=b.next}}else if(o.tag===18){if(y=o.return,y===null)throw Error(l(341));y.lanes|=n,d=y.alternate,d!==null&&(d.lanes|=n),jo(y,n,e),y=null}else y=o.child;if(y!==null)y.return=o;else for(y=o;y!==null;){if(y===e){y=null;break}if(o=y.sibling,o!==null){o.return=y.return,y=o;break}y=y.return}o=y}}function Ja(e,t,n,s){e=null;for(var o=t,d=!1;o!==null;){if(!d){if((o.flags&524288)!==0)d=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var y=o.alternate;if(y===null)throw Error(l(387));if(y=y.memoizedProps,y!==null){var b=o.type;jt(o.pendingProps.value,y.value)||(e!==null?e.push(b):e=[b])}}else if(o===Oe.current){if(y=o.alternate,y===null)throw Error(l(387));y.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(js):e=[js])}o=o.return}e!==null&&Eo(t,e,n,s),t.flags|=262144}function gi(e){for(e=e.firstContext;e!==null;){if(!jt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ga(e){ma=e,cn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function st(e){return oh(ma,e)}function pi(e,t){return ma===null&&ga(e),oh(e,t)}function oh(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},cn===null){if(e===null)throw Error(l(308));cn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else cn=cn.next=t;return n}var Ry=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},Cy=i.unstable_scheduleCallback,ky=i.unstable_NormalPriority,Je={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function To(){return{controller:new Ry,data:new Map,refCount:0}}function Fr(e){e.refCount--,e.refCount===0&&Cy(ky,function(){e.controller.abort()})}var Wr=null,No=0,Xa=0,Ia=null;function zy(e,t){if(Wr===null){var n=Wr=[];No=0,Xa=Ru(),Ia={status:"pending",value:void 0,then:function(s){n.push(s)}}}return No++,t.then(uh,uh),t}function uh(){if(--No===0&&Wr!==null){Ia!==null&&(Ia.status="fulfilled");var e=Wr;Wr=null,Xa=0,Ia=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Uy(e,t){var n=[],s={status:"pending",value:null,reason:null,then:function(o){n.push(o)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var o=0;o<n.length;o++)(0,n[o])(t)},function(o){for(s.status="rejected",s.reason=o,o=0;o<n.length;o++)(0,n[o])(void 0)}),s}var ch=A.S;A.S=function(e,t){Jf=wt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&zy(e,t),ch!==null&&ch(e,t)};var pa=E(null);function Oo(){var e=pa.current;return e!==null?e:De.pooledCache}function yi(e,t){t===null?Q(pa,pa.current):Q(pa,t.pool)}function dh(){var e=Oo();return e===null?null:{parent:Je._currentValue,pool:e}}var Za=Error(l(460)),Ao=Error(l(474)),vi=Error(l(542)),bi={then:function(){}};function hh(e){return e=e.status,e==="fulfilled"||e==="rejected"}function fh(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(sn,sn),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,gh(e),e;default:if(typeof t.status=="string")t.then(sn,sn);else{if(e=De,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=s}},function(s){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,gh(e),e}throw va=t,Za}}function ya(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(va=n,Za):n}}var va=null;function mh(){if(va===null)throw Error(l(459));var e=va;return va=null,e}function gh(e){if(e===Za||e===vi)throw Error(l(483))}var Fa=null,es=0;function xi(e){var t=es;return es+=1,Fa===null&&(Fa=[]),fh(Fa,e,t)}function ts(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function wi(e,t){throw t.$$typeof===w?Error(l(525)):(e=Object.prototype.toString.call(t),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function ph(e){function t(R,N){if(e){var D=R.deletions;D===null?(R.deletions=[N],R.flags|=16):D.push(N)}}function n(R,N){if(!e)return null;for(;N!==null;)t(R,N),N=N.sibling;return null}function s(R){for(var N=new Map;R!==null;)R.key!==null?N.set(R.key,R):N.set(R.index,R),R=R.sibling;return N}function o(R,N){return R=on(R,N),R.index=0,R.sibling=null,R}function d(R,N,D){return R.index=D,e?(D=R.alternate,D!==null?(D=D.index,D<N?(R.flags|=67108866,N):D):(R.flags|=67108866,N)):(R.flags|=1048576,N)}function y(R){return e&&R.alternate===null&&(R.flags|=67108866),R}function b(R,N,D,$){return N===null||N.tag!==6?(N=yo(D,R.mode,$),N.return=R,N):(N=o(N,D),N.return=R,N)}function S(R,N,D,$){var ie=D.type;return ie===O?H(R,N,D.props.children,$,D.key):N!==null&&(N.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===ye&&ya(ie)===N.type)?(N=o(N,D.props),ts(N,D),N.return=R,N):(N=fi(D.type,D.key,D.props,null,R.mode,$),ts(N,D),N.return=R,N)}function M(R,N,D,$){return N===null||N.tag!==4||N.stateNode.containerInfo!==D.containerInfo||N.stateNode.implementation!==D.implementation?(N=vo(D,R.mode,$),N.return=R,N):(N=o(N,D.children||[]),N.return=R,N)}function H(R,N,D,$,ie){return N===null||N.tag!==7?(N=ha(D,R.mode,$,ie),N.return=R,N):(N=o(N,D),N.return=R,N)}function V(R,N,D){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=yo(""+N,R.mode,D),N.return=R,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case _:return D=fi(N.type,N.key,N.props,null,R.mode,D),ts(D,N),D.return=R,D;case j:return N=vo(N,R.mode,D),N.return=R,N;case ye:return N=ya(N),V(R,N,D)}if(ae(N)||de(N))return N=ha(N,R.mode,D,null),N.return=R,N;if(typeof N.then=="function")return V(R,xi(N),D);if(N.$$typeof===C)return V(R,pi(R,N),D);wi(R,N)}return null}function B(R,N,D,$){var ie=N!==null?N.key:null;if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return ie!==null?null:b(R,N,""+D,$);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case _:return D.key===ie?S(R,N,D,$):null;case j:return D.key===ie?M(R,N,D,$):null;case ye:return D=ya(D),B(R,N,D,$)}if(ae(D)||de(D))return ie!==null?null:H(R,N,D,$,null);if(typeof D.then=="function")return B(R,N,xi(D),$);if(D.$$typeof===C)return B(R,N,pi(R,D),$);wi(R,D)}return null}function L(R,N,D,$,ie){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return R=R.get(D)||null,b(N,R,""+$,ie);if(typeof $=="object"&&$!==null){switch($.$$typeof){case _:return R=R.get($.key===null?D:$.key)||null,S(N,R,$,ie);case j:return R=R.get($.key===null?D:$.key)||null,M(N,R,$,ie);case ye:return $=ya($),L(R,N,D,$,ie)}if(ae($)||de($))return R=R.get(D)||null,H(N,R,$,ie,null);if(typeof $.then=="function")return L(R,N,D,xi($),ie);if($.$$typeof===C)return L(R,N,D,pi(N,$),ie);wi(N,$)}return null}function Z(R,N,D,$){for(var ie=null,je=null,te=N,ge=N=0,we=null;te!==null&&ge<D.length;ge++){te.index>ge?(we=te,te=null):we=te.sibling;var Ee=B(R,te,D[ge],$);if(Ee===null){te===null&&(te=we);break}e&&te&&Ee.alternate===null&&t(R,te),N=d(Ee,N,ge),je===null?ie=Ee:je.sibling=Ee,je=Ee,te=we}if(ge===D.length)return n(R,te),_e&&un(R,ge),ie;if(te===null){for(;ge<D.length;ge++)te=V(R,D[ge],$),te!==null&&(N=d(te,N,ge),je===null?ie=te:je.sibling=te,je=te);return _e&&un(R,ge),ie}for(te=s(te);ge<D.length;ge++)we=L(te,R,ge,D[ge],$),we!==null&&(e&&we.alternate!==null&&te.delete(we.key===null?ge:we.key),N=d(we,N,ge),je===null?ie=we:je.sibling=we,je=we);return e&&te.forEach(function(Fn){return t(R,Fn)}),_e&&un(R,ge),ie}function oe(R,N,D,$){if(D==null)throw Error(l(151));for(var ie=null,je=null,te=N,ge=N=0,we=null,Ee=D.next();te!==null&&!Ee.done;ge++,Ee=D.next()){te.index>ge?(we=te,te=null):we=te.sibling;var Fn=B(R,te,Ee.value,$);if(Fn===null){te===null&&(te=we);break}e&&te&&Fn.alternate===null&&t(R,te),N=d(Fn,N,ge),je===null?ie=Fn:je.sibling=Fn,je=Fn,te=we}if(Ee.done)return n(R,te),_e&&un(R,ge),ie;if(te===null){for(;!Ee.done;ge++,Ee=D.next())Ee=V(R,Ee.value,$),Ee!==null&&(N=d(Ee,N,ge),je===null?ie=Ee:je.sibling=Ee,je=Ee);return _e&&un(R,ge),ie}for(te=s(te);!Ee.done;ge++,Ee=D.next())Ee=L(te,R,ge,Ee.value,$),Ee!==null&&(e&&Ee.alternate!==null&&te.delete(Ee.key===null?ge:Ee.key),N=d(Ee,N,ge),je===null?ie=Ee:je.sibling=Ee,je=Ee);return e&&te.forEach(function(Kv){return t(R,Kv)}),_e&&un(R,ge),ie}function Ue(R,N,D,$){if(typeof D=="object"&&D!==null&&D.type===O&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case _:e:{for(var ie=D.key;N!==null;){if(N.key===ie){if(ie=D.type,ie===O){if(N.tag===7){n(R,N.sibling),$=o(N,D.props.children),$.return=R,R=$;break e}}else if(N.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===ye&&ya(ie)===N.type){n(R,N.sibling),$=o(N,D.props),ts($,D),$.return=R,R=$;break e}n(R,N);break}else t(R,N);N=N.sibling}D.type===O?($=ha(D.props.children,R.mode,$,D.key),$.return=R,R=$):($=fi(D.type,D.key,D.props,null,R.mode,$),ts($,D),$.return=R,R=$)}return y(R);case j:e:{for(ie=D.key;N!==null;){if(N.key===ie)if(N.tag===4&&N.stateNode.containerInfo===D.containerInfo&&N.stateNode.implementation===D.implementation){n(R,N.sibling),$=o(N,D.children||[]),$.return=R,R=$;break e}else{n(R,N);break}else t(R,N);N=N.sibling}$=vo(D,R.mode,$),$.return=R,R=$}return y(R);case ye:return D=ya(D),Ue(R,N,D,$)}if(ae(D))return Z(R,N,D,$);if(de(D)){if(ie=de(D),typeof ie!="function")throw Error(l(150));return D=ie.call(D),oe(R,N,D,$)}if(typeof D.then=="function")return Ue(R,N,xi(D),$);if(D.$$typeof===C)return Ue(R,N,pi(R,D),$);wi(R,D)}return typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint"?(D=""+D,N!==null&&N.tag===6?(n(R,N.sibling),$=o(N,D),$.return=R,R=$):(n(R,N),$=yo(D,R.mode,$),$.return=R,R=$),y(R)):n(R,N)}return function(R,N,D,$){try{es=0;var ie=Ue(R,N,D,$);return Fa=null,ie}catch(te){if(te===Za||te===vi)throw te;var je=Et(29,te,null,R.mode);return je.lanes=$,je.return=R,je}finally{}}}var ba=ph(!0),yh=ph(!1),Dn=!1;function Ro(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Co(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Mn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Bn(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Te&2)!==0){var o=s.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),s.pending=t,t=hi(e),eh(e,null,n),t}return di(e,s,t,n),hi(e)}function ns(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,od(e,n)}}function ko(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var o=null,d=null;if(n=n.firstBaseUpdate,n!==null){do{var y={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};d===null?o=d=y:d=d.next=y,n=n.next}while(n!==null);d===null?o=d=t:d=d.next=t}else o=d=t;n={baseState:s.baseState,firstBaseUpdate:o,lastBaseUpdate:d,shared:s.shared,callbacks:s.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var zo=!1;function as(){if(zo){var e=Ia;if(e!==null)throw e}}function rs(e,t,n,s){zo=!1;var o=e.updateQueue;Dn=!1;var d=o.firstBaseUpdate,y=o.lastBaseUpdate,b=o.shared.pending;if(b!==null){o.shared.pending=null;var S=b,M=S.next;S.next=null,y===null?d=M:y.next=M,y=S;var H=e.alternate;H!==null&&(H=H.updateQueue,b=H.lastBaseUpdate,b!==y&&(b===null?H.firstBaseUpdate=M:b.next=M,H.lastBaseUpdate=S))}if(d!==null){var V=o.baseState;y=0,H=M=S=null,b=d;do{var B=b.lane&-536870913,L=B!==b.lane;if(L?(xe&B)===B:(s&B)===B){B!==0&&B===Xa&&(zo=!0),H!==null&&(H=H.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var Z=e,oe=b;B=t;var Ue=n;switch(oe.tag){case 1:if(Z=oe.payload,typeof Z=="function"){V=Z.call(Ue,V,B);break e}V=Z;break e;case 3:Z.flags=Z.flags&-65537|128;case 0:if(Z=oe.payload,B=typeof Z=="function"?Z.call(Ue,V,B):Z,B==null)break e;V=v({},V,B);break e;case 2:Dn=!0}}B=b.callback,B!==null&&(e.flags|=64,L&&(e.flags|=8192),L=o.callbacks,L===null?o.callbacks=[B]:L.push(B))}else L={lane:B,tag:b.tag,payload:b.payload,callback:b.callback,next:null},H===null?(M=H=L,S=V):H=H.next=L,y|=B;if(b=b.next,b===null){if(b=o.shared.pending,b===null)break;L=b,b=L.next,L.next=null,o.lastBaseUpdate=L,o.shared.pending=null}}while(!0);H===null&&(S=V),o.baseState=S,o.firstBaseUpdate=M,o.lastBaseUpdate=H,d===null&&(o.shared.lanes=0),Vn|=y,e.lanes=y,e.memoizedState=V}}function vh(e,t){if(typeof e!="function")throw Error(l(191,e));e.call(t)}function bh(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)vh(n[e],t)}var Wa=E(null),_i=E(0);function xh(e,t){e=xn,Q(_i,e),Q(Wa,t),xn=e|t.baseLanes}function Uo(){Q(_i,xn),Q(Wa,Wa.current)}function Do(){xn=_i.current,G(Wa),G(_i)}var Tt=E(null),Vt=null;function Ln(e){var t=e.alternate;Q(Pe,Pe.current&1),Q(Tt,e),Vt===null&&(t===null||Wa.current!==null||t.memoizedState!==null)&&(Vt=e)}function Mo(e){Q(Pe,Pe.current),Q(Tt,e),Vt===null&&(Vt=e)}function wh(e){e.tag===22?(Q(Pe,Pe.current),Q(Tt,e),Vt===null&&(Vt=e)):qn()}function qn(){Q(Pe,Pe.current),Q(Tt,Tt.current)}function Nt(e){G(Tt),Vt===e&&(Vt=null),G(Pe)}var Pe=E(0);function Si(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Vu(n)||Gu(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var hn=0,me=null,ke=null,Xe=null,ji=!1,er=!1,xa=!1,Ei=0,ss=0,tr=null,Dy=0;function Ge(){throw Error(l(321))}function Bo(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!jt(e[n],t[n]))return!1;return!0}function Lo(e,t,n,s,o,d){return hn=d,me=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,A.H=e===null||e.memoizedState===null?rf:Wo,xa=!1,d=n(s,o),xa=!1,er&&(d=Sh(t,n,s,o)),_h(e),d}function _h(e){A.H=os;var t=ke!==null&&ke.next!==null;if(hn=0,Xe=ke=me=null,ji=!1,ss=0,tr=null,t)throw Error(l(300));e===null||Ie||(e=e.dependencies,e!==null&&gi(e)&&(Ie=!0))}function Sh(e,t,n,s){me=e;var o=0;do{if(er&&(tr=null),ss=0,er=!1,25<=o)throw Error(l(301));if(o+=1,Xe=ke=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}A.H=sf,d=t(n,s)}while(er);return d}function My(){var e=A.H,t=e.useState()[0];return t=typeof t.then=="function"?is(t):t,e=e.useState()[0],(ke!==null?ke.memoizedState:null)!==e&&(me.flags|=1024),t}function qo(){var e=Ei!==0;return Ei=0,e}function Ho(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function $o(e){if(ji){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}ji=!1}hn=0,Xe=ke=me=null,er=!1,ss=Ei=0,tr=null}function ft(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xe===null?me.memoizedState=Xe=e:Xe=Xe.next=e,Xe}function Qe(){if(ke===null){var e=me.alternate;e=e!==null?e.memoizedState:null}else e=ke.next;var t=Xe===null?me.memoizedState:Xe.next;if(t!==null)Xe=t,ke=e;else{if(e===null)throw me.alternate===null?Error(l(467)):Error(l(310));ke=e,e={memoizedState:ke.memoizedState,baseState:ke.baseState,baseQueue:ke.baseQueue,queue:ke.queue,next:null},Xe===null?me.memoizedState=Xe=e:Xe=Xe.next=e}return Xe}function Ti(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function is(e){var t=ss;return ss+=1,tr===null&&(tr=[]),e=fh(tr,e,t),t=me,(Xe===null?t.memoizedState:Xe.next)===null&&(t=t.alternate,A.H=t===null||t.memoizedState===null?rf:Wo),e}function Ni(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return is(e);if(e.$$typeof===C)return st(e)}throw Error(l(438,String(e)))}function Vo(e){var t=null,n=me.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var s=me.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Ti(),me.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),s=0;s<e;s++)n[s]=ce;return t.index++,n}function fn(e,t){return typeof t=="function"?t(e):t}function Oi(e){var t=Qe();return Go(t,ke,e)}function Go(e,t,n){var s=e.queue;if(s===null)throw Error(l(311));s.lastRenderedReducer=n;var o=e.baseQueue,d=s.pending;if(d!==null){if(o!==null){var y=o.next;o.next=d.next,d.next=y}t.baseQueue=o=d,s.pending=null}if(d=e.baseState,o===null)e.memoizedState=d;else{t=o.next;var b=y=null,S=null,M=t,H=!1;do{var V=M.lane&-536870913;if(V!==M.lane?(xe&V)===V:(hn&V)===V){var B=M.revertLane;if(B===0)S!==null&&(S=S.next={lane:0,revertLane:0,gesture:null,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null}),V===Xa&&(H=!0);else if((hn&B)===B){M=M.next,B===Xa&&(H=!0);continue}else V={lane:0,revertLane:M.revertLane,gesture:null,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null},S===null?(b=S=V,y=d):S=S.next=V,me.lanes|=B,Vn|=B;V=M.action,xa&&n(d,V),d=M.hasEagerState?M.eagerState:n(d,V)}else B={lane:V,revertLane:M.revertLane,gesture:M.gesture,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null},S===null?(b=S=B,y=d):S=S.next=B,me.lanes|=V,Vn|=V;M=M.next}while(M!==null&&M!==t);if(S===null?y=d:S.next=b,!jt(d,e.memoizedState)&&(Ie=!0,H&&(n=Ia,n!==null)))throw n;e.memoizedState=d,e.baseState=y,e.baseQueue=S,s.lastRenderedState=d}return o===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function Yo(e){var t=Qe(),n=t.queue;if(n===null)throw Error(l(311));n.lastRenderedReducer=e;var s=n.dispatch,o=n.pending,d=t.memoizedState;if(o!==null){n.pending=null;var y=o=o.next;do d=e(d,y.action),y=y.next;while(y!==o);jt(d,t.memoizedState)||(Ie=!0),t.memoizedState=d,t.baseQueue===null&&(t.baseState=d),n.lastRenderedState=d}return[d,s]}function jh(e,t,n){var s=me,o=Qe(),d=_e;if(d){if(n===void 0)throw Error(l(407));n=n()}else n=t();var y=!jt((ke||o).memoizedState,n);if(y&&(o.memoizedState=n,Ie=!0),o=o.queue,Qo(Nh.bind(null,s,o,e),[e]),o.getSnapshot!==t||y||Xe!==null&&Xe.memoizedState.tag&1){if(s.flags|=2048,nr(9,{destroy:void 0},Th.bind(null,s,o,n,t),null),De===null)throw Error(l(349));d||(hn&127)!==0||Eh(s,t,n)}return n}function Eh(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=me.updateQueue,t===null?(t=Ti(),me.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Th(e,t,n,s){t.value=n,t.getSnapshot=s,Oh(t)&&Ah(e)}function Nh(e,t,n){return n(function(){Oh(t)&&Ah(e)})}function Oh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!jt(e,n)}catch{return!0}}function Ah(e){var t=da(e,2);t!==null&&xt(t,e,2)}function Ko(e){var t=ft();if(typeof e=="function"){var n=e;if(e=n(),xa){On(!0);try{n()}finally{On(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fn,lastRenderedState:e},t}function Rh(e,t,n,s){return e.baseState=n,Go(e,ke,typeof s=="function"?s:fn)}function By(e,t,n,s,o){if(Ci(e))throw Error(l(485));if(e=t.action,e!==null){var d={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){d.listeners.push(y)}};A.T!==null?n(!0):d.isTransition=!1,s(d),n=t.pending,n===null?(d.next=t.pending=d,Ch(t,d)):(d.next=n.next,t.pending=n.next=d)}}function Ch(e,t){var n=t.action,s=t.payload,o=e.state;if(t.isTransition){var d=A.T,y={};A.T=y;try{var b=n(o,s),S=A.S;S!==null&&S(y,b),kh(e,t,b)}catch(M){Po(e,t,M)}finally{d!==null&&y.types!==null&&(d.types=y.types),A.T=d}}else try{d=n(o,s),kh(e,t,d)}catch(M){Po(e,t,M)}}function kh(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(s){zh(e,t,s)},function(s){return Po(e,t,s)}):zh(e,t,n)}function zh(e,t,n){t.status="fulfilled",t.value=n,Uh(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Ch(e,n)))}function Po(e,t,n){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=n,Uh(t),t=t.next;while(t!==s)}e.action=null}function Uh(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Dh(e,t){return t}function Mh(e,t){if(_e){var n=De.formState;if(n!==null){e:{var s=me;if(_e){if(Be){t:{for(var o=Be,d=$t;o.nodeType!==8;){if(!d){o=null;break t}if(o=Gt(o.nextSibling),o===null){o=null;break t}}d=o.data,o=d==="F!"||d==="F"?o:null}if(o){Be=Gt(o.nextSibling),s=o.data==="F!";break e}}zn(s)}s=!1}s&&(t=n[0])}}return n=ft(),n.memoizedState=n.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dh,lastRenderedState:t},n.queue=s,n=tf.bind(null,me,s),s.dispatch=n,s=Ko(!1),d=Fo.bind(null,me,!1,s.queue),s=ft(),o={state:t,dispatch:null,action:e,pending:null},s.queue=o,n=By.bind(null,me,o,d,n),o.dispatch=n,s.memoizedState=e,[t,n,!1]}function Bh(e){var t=Qe();return Lh(t,ke,e)}function Lh(e,t,n){if(t=Go(e,t,Dh)[0],e=Oi(fn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=is(t)}catch(y){throw y===Za?vi:y}else s=t;t=Qe();var o=t.queue,d=o.dispatch;return n!==t.memoizedState&&(me.flags|=2048,nr(9,{destroy:void 0},Ly.bind(null,o,n),null)),[s,d,e]}function Ly(e,t){e.action=t}function qh(e){var t=Qe(),n=ke;if(n!==null)return Lh(t,n,e);Qe(),t=t.memoizedState,n=Qe();var s=n.queue.dispatch;return n.memoizedState=e,[t,s,!1]}function nr(e,t,n,s){return e={tag:e,create:n,deps:s,inst:t,next:null},t=me.updateQueue,t===null&&(t=Ti(),me.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e),e}function Hh(){return Qe().memoizedState}function Ai(e,t,n,s){var o=ft();me.flags|=e,o.memoizedState=nr(1|t,{destroy:void 0},n,s===void 0?null:s)}function Ri(e,t,n,s){var o=Qe();s=s===void 0?null:s;var d=o.memoizedState.inst;ke!==null&&s!==null&&Bo(s,ke.memoizedState.deps)?o.memoizedState=nr(t,d,n,s):(me.flags|=e,o.memoizedState=nr(1|t,d,n,s))}function $h(e,t){Ai(8390656,8,e,t)}function Qo(e,t){Ri(2048,8,e,t)}function qy(e){me.flags|=4;var t=me.updateQueue;if(t===null)t=Ti(),me.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function Vh(e){var t=Qe().memoizedState;return qy({ref:t,nextImpl:e}),function(){if((Te&2)!==0)throw Error(l(440));return t.impl.apply(void 0,arguments)}}function Gh(e,t){return Ri(4,2,e,t)}function Yh(e,t){return Ri(4,4,e,t)}function Kh(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ph(e,t,n){n=n!=null?n.concat([e]):null,Ri(4,4,Kh.bind(null,t,e),n)}function Jo(){}function Qh(e,t){var n=Qe();t=t===void 0?null:t;var s=n.memoizedState;return t!==null&&Bo(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function Jh(e,t){var n=Qe();t=t===void 0?null:t;var s=n.memoizedState;if(t!==null&&Bo(t,s[1]))return s[0];if(s=e(),xa){On(!0);try{e()}finally{On(!1)}}return n.memoizedState=[s,t],s}function Xo(e,t,n){return n===void 0||(hn&1073741824)!==0&&(xe&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=If(),me.lanes|=e,Vn|=e,n)}function Xh(e,t,n,s){return jt(n,t)?n:Wa.current!==null?(e=Xo(e,n,s),jt(e,t)||(Ie=!0),e):(hn&42)===0||(hn&1073741824)!==0&&(xe&261930)===0?(Ie=!0,e.memoizedState=n):(e=If(),me.lanes|=e,Vn|=e,t)}function Ih(e,t,n,s,o){var d=q.p;q.p=d!==0&&8>d?d:8;var y=A.T,b={};A.T=b,Fo(e,!1,t,n);try{var S=o(),M=A.S;if(M!==null&&M(b,S),S!==null&&typeof S=="object"&&typeof S.then=="function"){var H=Uy(S,s);ls(e,t,H,Rt(e))}else ls(e,t,s,Rt(e))}catch(V){ls(e,t,{then:function(){},status:"rejected",reason:V},Rt())}finally{q.p=d,y!==null&&b.types!==null&&(y.types=b.types),A.T=y}}function Hy(){}function Io(e,t,n,s){if(e.tag!==5)throw Error(l(476));var o=Zh(e).queue;Ih(e,o,t,Y,n===null?Hy:function(){return Fh(e),n(s)})}function Zh(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Y,baseState:Y,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fn,lastRenderedState:Y},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fn,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Fh(e){var t=Zh(e);t.next===null&&(t=e.alternate.memoizedState),ls(e,t.next.queue,{},Rt())}function Zo(){return st(js)}function Wh(){return Qe().memoizedState}function ef(){return Qe().memoizedState}function $y(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Rt();e=Mn(n);var s=Bn(t,e,n);s!==null&&(xt(s,t,n),ns(s,t,n)),t={cache:To()},e.payload=t;return}t=t.return}}function Vy(e,t,n){var s=Rt();n={lane:s,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Ci(e)?nf(t,n):(n=go(e,t,n,s),n!==null&&(xt(n,e,s),af(n,t,s)))}function tf(e,t,n){var s=Rt();ls(e,t,n,s)}function ls(e,t,n,s){var o={lane:s,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ci(e))nf(t,o);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=t.lastRenderedReducer,d!==null))try{var y=t.lastRenderedState,b=d(y,n);if(o.hasEagerState=!0,o.eagerState=b,jt(b,y))return di(e,t,o,0),De===null&&ci(),!1}catch{}finally{}if(n=go(e,t,o,s),n!==null)return xt(n,e,s),af(n,t,s),!0}return!1}function Fo(e,t,n,s){if(s={lane:2,revertLane:Ru(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Ci(e)){if(t)throw Error(l(479))}else t=go(e,n,s,2),t!==null&&xt(t,e,2)}function Ci(e){var t=e.alternate;return e===me||t!==null&&t===me}function nf(e,t){er=ji=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function af(e,t,n){if((n&4194048)!==0){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,od(e,n)}}var os={readContext:st,use:Ni,useCallback:Ge,useContext:Ge,useEffect:Ge,useImperativeHandle:Ge,useLayoutEffect:Ge,useInsertionEffect:Ge,useMemo:Ge,useReducer:Ge,useRef:Ge,useState:Ge,useDebugValue:Ge,useDeferredValue:Ge,useTransition:Ge,useSyncExternalStore:Ge,useId:Ge,useHostTransitionStatus:Ge,useFormState:Ge,useActionState:Ge,useOptimistic:Ge,useMemoCache:Ge,useCacheRefresh:Ge};os.useEffectEvent=Ge;var rf={readContext:st,use:Ni,useCallback:function(e,t){return ft().memoizedState=[e,t===void 0?null:t],e},useContext:st,useEffect:$h,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Ai(4194308,4,Kh.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ai(4194308,4,e,t)},useInsertionEffect:function(e,t){Ai(4,2,e,t)},useMemo:function(e,t){var n=ft();t=t===void 0?null:t;var s=e();if(xa){On(!0);try{e()}finally{On(!1)}}return n.memoizedState=[s,t],s},useReducer:function(e,t,n){var s=ft();if(n!==void 0){var o=n(t);if(xa){On(!0);try{n(t)}finally{On(!1)}}}else o=t;return s.memoizedState=s.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},s.queue=e,e=e.dispatch=Vy.bind(null,me,e),[s.memoizedState,e]},useRef:function(e){var t=ft();return e={current:e},t.memoizedState=e},useState:function(e){e=Ko(e);var t=e.queue,n=tf.bind(null,me,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Jo,useDeferredValue:function(e,t){var n=ft();return Xo(n,e,t)},useTransition:function(){var e=Ko(!1);return e=Ih.bind(null,me,e.queue,!0,!1),ft().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var s=me,o=ft();if(_e){if(n===void 0)throw Error(l(407));n=n()}else{if(n=t(),De===null)throw Error(l(349));(xe&127)!==0||Eh(s,t,n)}o.memoizedState=n;var d={value:n,getSnapshot:t};return o.queue=d,$h(Nh.bind(null,s,d,e),[e]),s.flags|=2048,nr(9,{destroy:void 0},Th.bind(null,s,d,n,t),null),n},useId:function(){var e=ft(),t=De.identifierPrefix;if(_e){var n=en,s=Wt;n=(s&~(1<<32-St(s)-1)).toString(32)+n,t="_"+t+"R_"+n,n=Ei++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=Dy++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Zo,useFormState:Mh,useActionState:Mh,useOptimistic:function(e){var t=ft();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Fo.bind(null,me,!0,n),n.dispatch=t,[e,t]},useMemoCache:Vo,useCacheRefresh:function(){return ft().memoizedState=$y.bind(null,me)},useEffectEvent:function(e){var t=ft(),n={impl:e};return t.memoizedState=n,function(){if((Te&2)!==0)throw Error(l(440));return n.impl.apply(void 0,arguments)}}},Wo={readContext:st,use:Ni,useCallback:Qh,useContext:st,useEffect:Qo,useImperativeHandle:Ph,useInsertionEffect:Gh,useLayoutEffect:Yh,useMemo:Jh,useReducer:Oi,useRef:Hh,useState:function(){return Oi(fn)},useDebugValue:Jo,useDeferredValue:function(e,t){var n=Qe();return Xh(n,ke.memoizedState,e,t)},useTransition:function(){var e=Oi(fn)[0],t=Qe().memoizedState;return[typeof e=="boolean"?e:is(e),t]},useSyncExternalStore:jh,useId:Wh,useHostTransitionStatus:Zo,useFormState:Bh,useActionState:Bh,useOptimistic:function(e,t){var n=Qe();return Rh(n,ke,e,t)},useMemoCache:Vo,useCacheRefresh:ef};Wo.useEffectEvent=Vh;var sf={readContext:st,use:Ni,useCallback:Qh,useContext:st,useEffect:Qo,useImperativeHandle:Ph,useInsertionEffect:Gh,useLayoutEffect:Yh,useMemo:Jh,useReducer:Yo,useRef:Hh,useState:function(){return Yo(fn)},useDebugValue:Jo,useDeferredValue:function(e,t){var n=Qe();return ke===null?Xo(n,e,t):Xh(n,ke.memoizedState,e,t)},useTransition:function(){var e=Yo(fn)[0],t=Qe().memoizedState;return[typeof e=="boolean"?e:is(e),t]},useSyncExternalStore:jh,useId:Wh,useHostTransitionStatus:Zo,useFormState:qh,useActionState:qh,useOptimistic:function(e,t){var n=Qe();return ke!==null?Rh(n,ke,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Vo,useCacheRefresh:ef};sf.useEffectEvent=Vh;function eu(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:v({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var tu={enqueueSetState:function(e,t,n){e=e._reactInternals;var s=Rt(),o=Mn(s);o.payload=t,n!=null&&(o.callback=n),t=Bn(e,o,s),t!==null&&(xt(t,e,s),ns(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=Rt(),o=Mn(s);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Bn(e,o,s),t!==null&&(xt(t,e,s),ns(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Rt(),s=Mn(n);s.tag=2,t!=null&&(s.callback=t),t=Bn(e,s,n),t!==null&&(xt(t,e,n),ns(t,e,n))}};function lf(e,t,n,s,o,d,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,d,y):t.prototype&&t.prototype.isPureReactComponent?!Jr(n,s)||!Jr(o,d):!0}function of(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&tu.enqueueReplaceState(t,t.state,null)}function wa(e,t){var n=t;if("ref"in t){n={};for(var s in t)s!=="ref"&&(n[s]=t[s])}if(e=e.defaultProps){n===t&&(n=v({},n));for(var o in e)n[o]===void 0&&(n[o]=e[o])}return n}function uf(e){ui(e)}function cf(e){console.error(e)}function df(e){ui(e)}function ki(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function hf(e,t,n){try{var s=e.onCaughtError;s(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function nu(e,t,n){return n=Mn(n),n.tag=3,n.payload={element:null},n.callback=function(){ki(e,t)},n}function ff(e){return e=Mn(e),e.tag=3,e}function mf(e,t,n,s){var o=n.type.getDerivedStateFromError;if(typeof o=="function"){var d=s.value;e.payload=function(){return o(d)},e.callback=function(){hf(t,n,s)}}var y=n.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){hf(t,n,s),typeof o!="function"&&(Gn===null?Gn=new Set([this]):Gn.add(this));var b=s.stack;this.componentDidCatch(s.value,{componentStack:b!==null?b:""})})}function Gy(e,t,n,s,o){if(n.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=n.alternate,t!==null&&Ja(t,n,o,!0),n=Tt.current,n!==null){switch(n.tag){case 31:case 13:return Vt===null?Yi():n.alternate===null&&Ye===0&&(Ye=3),n.flags&=-257,n.flags|=65536,n.lanes=o,s===bi?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([s]):t.add(s),Nu(e,s,o)),!1;case 22:return n.flags|=65536,s===bi?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([s]):n.add(s)),Nu(e,s,o)),!1}throw Error(l(435,n.tag))}return Nu(e,s,o),Yi(),!1}if(_e)return t=Tt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,s!==wo&&(e=Error(l(422),{cause:s}),Zr(Lt(e,n)))):(s!==wo&&(t=Error(l(423),{cause:s}),Zr(Lt(t,n))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,s=Lt(s,n),o=nu(e.stateNode,s,o),ko(e,o),Ye!==4&&(Ye=2)),!1;var d=Error(l(520),{cause:s});if(d=Lt(d,n),ps===null?ps=[d]:ps.push(d),Ye!==4&&(Ye=2),t===null)return!0;s=Lt(s,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=o&-o,n.lanes|=e,e=nu(n.stateNode,s,e),ko(n,e),!1;case 1:if(t=n.type,d=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Gn===null||!Gn.has(d))))return n.flags|=65536,o&=-o,n.lanes|=o,o=ff(o),mf(o,e,n,s),ko(n,o),!1}n=n.return}while(n!==null);return!1}var au=Error(l(461)),Ie=!1;function it(e,t,n,s){t.child=e===null?yh(t,null,n,s):ba(t,e.child,n,s)}function gf(e,t,n,s,o){n=n.render;var d=t.ref;if("ref"in s){var y={};for(var b in s)b!=="ref"&&(y[b]=s[b])}else y=s;return ga(t),s=Lo(e,t,n,y,d,o),b=qo(),e!==null&&!Ie?(Ho(e,t,o),mn(e,t,o)):(_e&&b&&bo(t),t.flags|=1,it(e,t,s,o),t.child)}function pf(e,t,n,s,o){if(e===null){var d=n.type;return typeof d=="function"&&!po(d)&&d.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=d,yf(e,t,d,s,o)):(e=fi(n.type,null,s,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(d=e.child,!du(e,o)){var y=d.memoizedProps;if(n=n.compare,n=n!==null?n:Jr,n(y,s)&&e.ref===t.ref)return mn(e,t,o)}return t.flags|=1,e=on(d,s),e.ref=t.ref,e.return=t,t.child=e}function yf(e,t,n,s,o){if(e!==null){var d=e.memoizedProps;if(Jr(d,s)&&e.ref===t.ref)if(Ie=!1,t.pendingProps=s=d,du(e,o))(e.flags&131072)!==0&&(Ie=!0);else return t.lanes=e.lanes,mn(e,t,o)}return ru(e,t,n,s,o)}function vf(e,t,n,s){var o=s.children,d=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((t.flags&128)!==0){if(d=d!==null?d.baseLanes|n:n,e!==null){for(s=t.child=e.child,o=0;s!==null;)o=o|s.lanes|s.childLanes,s=s.sibling;s=o&~d}else s=0,t.child=null;return bf(e,t,d,n,s)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&yi(t,d!==null?d.cachePool:null),d!==null?xh(t,d):Uo(),wh(t);else return s=t.lanes=536870912,bf(e,t,d!==null?d.baseLanes|n:n,n,s)}else d!==null?(yi(t,d.cachePool),xh(t,d),qn(),t.memoizedState=null):(e!==null&&yi(t,null),Uo(),qn());return it(e,t,o,n),t.child}function us(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function bf(e,t,n,s,o){var d=Oo();return d=d===null?null:{parent:Je._currentValue,pool:d},t.memoizedState={baseLanes:n,cachePool:d},e!==null&&yi(t,null),Uo(),wh(t),e!==null&&Ja(e,t,s,!0),t.childLanes=o,null}function zi(e,t){return t=Di({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function xf(e,t,n){return ba(t,e.child,null,n),e=zi(t,t.pendingProps),e.flags|=2,Nt(t),t.memoizedState=null,e}function Yy(e,t,n){var s=t.pendingProps,o=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(_e){if(s.mode==="hidden")return e=zi(t,s),t.lanes=536870912,us(null,e);if(Mo(t),(e=Be)?(e=k0(e,$t),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Cn!==null?{id:Wt,overflow:en}:null,retryLane:536870912,hydrationErrors:null},n=nh(e),n.return=t,t.child=n,rt=t,Be=null)):e=null,e===null)throw zn(t);return t.lanes=536870912,null}return zi(t,s)}var d=e.memoizedState;if(d!==null){var y=d.dehydrated;if(Mo(t),o)if(t.flags&256)t.flags&=-257,t=xf(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(l(558));else if(Ie||Ja(e,t,n,!1),o=(n&e.childLanes)!==0,Ie||o){if(s=De,s!==null&&(y=ud(s,n),y!==0&&y!==d.retryLane))throw d.retryLane=y,da(e,y),xt(s,e,y),au;Yi(),t=xf(e,t,n)}else e=d.treeContext,Be=Gt(y.nextSibling),rt=t,_e=!0,kn=null,$t=!1,e!==null&&sh(t,e),t=zi(t,s),t.flags|=4096;return t}return e=on(e.child,{mode:s.mode,children:s.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Ui(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(l(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function ru(e,t,n,s,o){return ga(t),n=Lo(e,t,n,s,void 0,o),s=qo(),e!==null&&!Ie?(Ho(e,t,o),mn(e,t,o)):(_e&&s&&bo(t),t.flags|=1,it(e,t,n,o),t.child)}function wf(e,t,n,s,o,d){return ga(t),t.updateQueue=null,n=Sh(t,s,n,o),_h(e),s=qo(),e!==null&&!Ie?(Ho(e,t,d),mn(e,t,d)):(_e&&s&&bo(t),t.flags|=1,it(e,t,n,d),t.child)}function _f(e,t,n,s,o){if(ga(t),t.stateNode===null){var d=Ya,y=n.contextType;typeof y=="object"&&y!==null&&(d=st(y)),d=new n(s,d),t.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=tu,t.stateNode=d,d._reactInternals=t,d=t.stateNode,d.props=s,d.state=t.memoizedState,d.refs={},Ro(t),y=n.contextType,d.context=typeof y=="object"&&y!==null?st(y):Ya,d.state=t.memoizedState,y=n.getDerivedStateFromProps,typeof y=="function"&&(eu(t,n,y,s),d.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(y=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),y!==d.state&&tu.enqueueReplaceState(d,d.state,null),rs(t,s,d,o),as(),d.state=t.memoizedState),typeof d.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){d=t.stateNode;var b=t.memoizedProps,S=wa(n,b);d.props=S;var M=d.context,H=n.contextType;y=Ya,typeof H=="object"&&H!==null&&(y=st(H));var V=n.getDerivedStateFromProps;H=typeof V=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=t.pendingProps!==b,H||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||M!==y)&&of(t,d,s,y),Dn=!1;var B=t.memoizedState;d.state=B,rs(t,s,d,o),as(),M=t.memoizedState,b||B!==M||Dn?(typeof V=="function"&&(eu(t,n,V,s),M=t.memoizedState),(S=Dn||lf(t,n,S,s,B,M,y))?(H||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(t.flags|=4194308)):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=M),d.props=s,d.state=M,d.context=y,s=S):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{d=t.stateNode,Co(e,t),y=t.memoizedProps,H=wa(n,y),d.props=H,V=t.pendingProps,B=d.context,M=n.contextType,S=Ya,typeof M=="object"&&M!==null&&(S=st(M)),b=n.getDerivedStateFromProps,(M=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(y!==V||B!==S)&&of(t,d,s,S),Dn=!1,B=t.memoizedState,d.state=B,rs(t,s,d,o),as();var L=t.memoizedState;y!==V||B!==L||Dn||e!==null&&e.dependencies!==null&&gi(e.dependencies)?(typeof b=="function"&&(eu(t,n,b,s),L=t.memoizedState),(H=Dn||lf(t,n,H,s,B,L,S)||e!==null&&e.dependencies!==null&&gi(e.dependencies))?(M||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(s,L,S),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(s,L,S)),typeof d.componentDidUpdate=="function"&&(t.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof d.componentDidUpdate!="function"||y===e.memoizedProps&&B===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&B===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=L),d.props=s,d.state=L,d.context=S,s=H):(typeof d.componentDidUpdate!="function"||y===e.memoizedProps&&B===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&B===e.memoizedState||(t.flags|=1024),s=!1)}return d=s,Ui(e,t),s=(t.flags&128)!==0,d||s?(d=t.stateNode,n=s&&typeof n.getDerivedStateFromError!="function"?null:d.render(),t.flags|=1,e!==null&&s?(t.child=ba(t,e.child,null,o),t.child=ba(t,null,n,o)):it(e,t,n,o),t.memoizedState=d.state,e=t.child):e=mn(e,t,o),e}function Sf(e,t,n,s){return fa(),t.flags|=256,it(e,t,n,s),t.child}var su={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function iu(e){return{baseLanes:e,cachePool:dh()}}function lu(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=At),e}function jf(e,t,n){var s=t.pendingProps,o=!1,d=(t.flags&128)!==0,y;if((y=d)||(y=e!==null&&e.memoizedState===null?!1:(Pe.current&2)!==0),y&&(o=!0,t.flags&=-129),y=(t.flags&32)!==0,t.flags&=-33,e===null){if(_e){if(o?Ln(t):qn(),(e=Be)?(e=k0(e,$t),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Cn!==null?{id:Wt,overflow:en}:null,retryLane:536870912,hydrationErrors:null},n=nh(e),n.return=t,t.child=n,rt=t,Be=null)):e=null,e===null)throw zn(t);return Gu(e)?t.lanes=32:t.lanes=536870912,null}var b=s.children;return s=s.fallback,o?(qn(),o=t.mode,b=Di({mode:"hidden",children:b},o),s=ha(s,o,n,null),b.return=t,s.return=t,b.sibling=s,t.child=b,s=t.child,s.memoizedState=iu(n),s.childLanes=lu(e,y,n),t.memoizedState=su,us(null,s)):(Ln(t),ou(t,b))}var S=e.memoizedState;if(S!==null&&(b=S.dehydrated,b!==null)){if(d)t.flags&256?(Ln(t),t.flags&=-257,t=uu(e,t,n)):t.memoizedState!==null?(qn(),t.child=e.child,t.flags|=128,t=null):(qn(),b=s.fallback,o=t.mode,s=Di({mode:"visible",children:s.children},o),b=ha(b,o,n,null),b.flags|=2,s.return=t,b.return=t,s.sibling=b,t.child=s,ba(t,e.child,null,n),s=t.child,s.memoizedState=iu(n),s.childLanes=lu(e,y,n),t.memoizedState=su,t=us(null,s));else if(Ln(t),Gu(b)){if(y=b.nextSibling&&b.nextSibling.dataset,y)var M=y.dgst;y=M,s=Error(l(419)),s.stack="",s.digest=y,Zr({value:s,source:null,stack:null}),t=uu(e,t,n)}else if(Ie||Ja(e,t,n,!1),y=(n&e.childLanes)!==0,Ie||y){if(y=De,y!==null&&(s=ud(y,n),s!==0&&s!==S.retryLane))throw S.retryLane=s,da(e,s),xt(y,e,s),au;Vu(b)||Yi(),t=uu(e,t,n)}else Vu(b)?(t.flags|=192,t.child=e.child,t=null):(e=S.treeContext,Be=Gt(b.nextSibling),rt=t,_e=!0,kn=null,$t=!1,e!==null&&sh(t,e),t=ou(t,s.children),t.flags|=4096);return t}return o?(qn(),b=s.fallback,o=t.mode,S=e.child,M=S.sibling,s=on(S,{mode:"hidden",children:s.children}),s.subtreeFlags=S.subtreeFlags&65011712,M!==null?b=on(M,b):(b=ha(b,o,n,null),b.flags|=2),b.return=t,s.return=t,s.sibling=b,t.child=s,us(null,s),s=t.child,b=e.child.memoizedState,b===null?b=iu(n):(o=b.cachePool,o!==null?(S=Je._currentValue,o=o.parent!==S?{parent:S,pool:S}:o):o=dh(),b={baseLanes:b.baseLanes|n,cachePool:o}),s.memoizedState=b,s.childLanes=lu(e,y,n),t.memoizedState=su,us(e.child,s)):(Ln(t),n=e.child,e=n.sibling,n=on(n,{mode:"visible",children:s.children}),n.return=t,n.sibling=null,e!==null&&(y=t.deletions,y===null?(t.deletions=[e],t.flags|=16):y.push(e)),t.child=n,t.memoizedState=null,n)}function ou(e,t){return t=Di({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Di(e,t){return e=Et(22,e,null,t),e.lanes=0,e}function uu(e,t,n){return ba(t,e.child,null,n),e=ou(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ef(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),jo(e.return,t,n)}function cu(e,t,n,s,o,d){var y=e.memoizedState;y===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:o,treeForkCount:d}:(y.isBackwards=t,y.rendering=null,y.renderingStartTime=0,y.last=s,y.tail=n,y.tailMode=o,y.treeForkCount=d)}function Tf(e,t,n){var s=t.pendingProps,o=s.revealOrder,d=s.tail;s=s.children;var y=Pe.current,b=(y&2)!==0;if(b?(y=y&1|2,t.flags|=128):y&=1,Q(Pe,y),it(e,t,s,n),s=_e?Ir:0,!b&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ef(e,n,t);else if(e.tag===19)Ef(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&Si(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),cu(t,!1,o,n,d,s);break;case"backwards":case"unstable_legacy-backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Si(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}cu(t,!0,n,null,d,s);break;case"together":cu(t,!1,null,null,void 0,s);break;default:t.memoizedState=null}return t.child}function mn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Vn|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(Ja(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(l(153));if(t.child!==null){for(e=t.child,n=on(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=on(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function du(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&gi(e)))}function Ky(e,t,n){switch(t.tag){case 3:ht(t,t.stateNode.containerInfo),Un(t,Je,e.memoizedState.cache),fa();break;case 27:case 5:Dr(t);break;case 4:ht(t,t.stateNode.containerInfo);break;case 10:Un(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Mo(t),null;break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(Ln(t),t.flags|=128,null):(n&t.child.childLanes)!==0?jf(e,t,n):(Ln(t),e=mn(e,t,n),e!==null?e.sibling:null);Ln(t);break;case 19:var o=(e.flags&128)!==0;if(s=(n&t.childLanes)!==0,s||(Ja(e,t,n,!1),s=(n&t.childLanes)!==0),o){if(s)return Tf(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),Q(Pe,Pe.current),s)break;return null;case 22:return t.lanes=0,vf(e,t,n,t.pendingProps);case 24:Un(t,Je,e.memoizedState.cache)}return mn(e,t,n)}function Nf(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Ie=!0;else{if(!du(e,n)&&(t.flags&128)===0)return Ie=!1,Ky(e,t,n);Ie=(e.flags&131072)!==0}else Ie=!1,_e&&(t.flags&1048576)!==0&&rh(t,Ir,t.index);switch(t.lanes=0,t.tag){case 16:e:{var s=t.pendingProps;if(e=ya(t.elementType),t.type=e,typeof e=="function")po(e)?(s=wa(e,s),t.tag=1,t=_f(null,t,e,s,n)):(t.tag=0,t=ru(null,t,e,s,n));else{if(e!=null){var o=e.$$typeof;if(o===K){t.tag=11,t=gf(null,t,e,s,n);break e}else if(o===P){t.tag=14,t=pf(null,t,e,s,n);break e}}throw t=I(e)||e,Error(l(306,t,""))}}return t;case 0:return ru(e,t,t.type,t.pendingProps,n);case 1:return s=t.type,o=wa(s,t.pendingProps),_f(e,t,s,o,n);case 3:e:{if(ht(t,t.stateNode.containerInfo),e===null)throw Error(l(387));s=t.pendingProps;var d=t.memoizedState;o=d.element,Co(e,t),rs(t,s,null,n);var y=t.memoizedState;if(s=y.cache,Un(t,Je,s),s!==d.cache&&Eo(t,[Je],n,!0),as(),s=y.element,d.isDehydrated)if(d={element:s,isDehydrated:!1,cache:y.cache},t.updateQueue.baseState=d,t.memoizedState=d,t.flags&256){t=Sf(e,t,s,n);break e}else if(s!==o){o=Lt(Error(l(424)),t),Zr(o),t=Sf(e,t,s,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Be=Gt(e.firstChild),rt=t,_e=!0,kn=null,$t=!0,n=yh(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(fa(),s===o){t=mn(e,t,n);break e}it(e,t,s,n)}t=t.child}return t;case 26:return Ui(e,t),e===null?(n=L0(t.type,null,t.pendingProps,null))?t.memoizedState=n:_e||(n=t.type,e=t.pendingProps,s=Zi(le.current).createElement(n),s[at]=t,s[mt]=e,lt(s,n,e),tt(s),t.stateNode=s):t.memoizedState=L0(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Dr(t),e===null&&_e&&(s=t.stateNode=D0(t.type,t.pendingProps,le.current),rt=t,$t=!0,o=Be,Qn(t.type)?(Yu=o,Be=Gt(s.firstChild)):Be=o),it(e,t,t.pendingProps.children,n),Ui(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&_e&&((o=s=Be)&&(s=wv(s,t.type,t.pendingProps,$t),s!==null?(t.stateNode=s,rt=t,Be=Gt(s.firstChild),$t=!1,o=!0):o=!1),o||zn(t)),Dr(t),o=t.type,d=t.pendingProps,y=e!==null?e.memoizedProps:null,s=d.children,qu(o,d)?s=null:y!==null&&qu(o,y)&&(t.flags|=32),t.memoizedState!==null&&(o=Lo(e,t,My,null,null,n),js._currentValue=o),Ui(e,t),it(e,t,s,n),t.child;case 6:return e===null&&_e&&((e=n=Be)&&(n=_v(n,t.pendingProps,$t),n!==null?(t.stateNode=n,rt=t,Be=null,e=!0):e=!1),e||zn(t)),null;case 13:return jf(e,t,n);case 4:return ht(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=ba(t,null,s,n):it(e,t,s,n),t.child;case 11:return gf(e,t,t.type,t.pendingProps,n);case 7:return it(e,t,t.pendingProps,n),t.child;case 8:return it(e,t,t.pendingProps.children,n),t.child;case 12:return it(e,t,t.pendingProps.children,n),t.child;case 10:return s=t.pendingProps,Un(t,t.type,s.value),it(e,t,s.children,n),t.child;case 9:return o=t.type._context,s=t.pendingProps.children,ga(t),o=st(o),s=s(o),t.flags|=1,it(e,t,s,n),t.child;case 14:return pf(e,t,t.type,t.pendingProps,n);case 15:return yf(e,t,t.type,t.pendingProps,n);case 19:return Tf(e,t,n);case 31:return Yy(e,t,n);case 22:return vf(e,t,n,t.pendingProps);case 24:return ga(t),s=st(Je),e===null?(o=Oo(),o===null&&(o=De,d=To(),o.pooledCache=d,d.refCount++,d!==null&&(o.pooledCacheLanes|=n),o=d),t.memoizedState={parent:s,cache:o},Ro(t),Un(t,Je,o)):((e.lanes&n)!==0&&(Co(e,t),rs(t,null,null,n),as()),o=e.memoizedState,d=t.memoizedState,o.parent!==s?(o={parent:s,cache:s},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),Un(t,Je,s)):(s=d.cache,Un(t,Je,s),s!==o.cache&&Eo(t,[Je],n,!0))),it(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(l(156,t.tag))}function gn(e){e.flags|=4}function hu(e,t,n,s,o){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(o&335544128)===o)if(e.stateNode.complete)e.flags|=8192;else if(e0())e.flags|=8192;else throw va=bi,Ao}else e.flags&=-16777217}function Of(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!G0(t))if(e0())e.flags|=8192;else throw va=bi,Ao}function Mi(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?id():536870912,e.lanes|=t,ir|=t)}function cs(e,t){if(!_e)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Le(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,s|=o.subtreeFlags&65011712,s|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,s|=o.subtreeFlags,s|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function Py(e,t,n){var s=t.pendingProps;switch(xo(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Le(t),null;case 1:return Le(t),null;case 3:return n=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),dn(Je),Ke(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Qa(t)?gn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,_o())),Le(t),null;case 26:var o=t.type,d=t.memoizedState;return e===null?(gn(t),d!==null?(Le(t),Of(t,d)):(Le(t),hu(t,o,null,s,n))):d?d!==e.memoizedState?(gn(t),Le(t),Of(t,d)):(Le(t),t.flags&=-16777217):(e=e.memoizedProps,e!==s&&gn(t),Le(t),hu(t,o,e,s,n)),null;case 27:if(Qs(t),n=le.current,o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&gn(t);else{if(!s){if(t.stateNode===null)throw Error(l(166));return Le(t),null}e=X.current,Qa(t)?ih(t):(e=D0(o,s,n),t.stateNode=e,gn(t))}return Le(t),null;case 5:if(Qs(t),o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&gn(t);else{if(!s){if(t.stateNode===null)throw Error(l(166));return Le(t),null}if(d=X.current,Qa(t))ih(t);else{var y=Zi(le.current);switch(d){case 1:d=y.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:d=y.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":d=y.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":d=y.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":d=y.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof s.is=="string"?y.createElement("select",{is:s.is}):y.createElement("select"),s.multiple?d.multiple=!0:s.size&&(d.size=s.size);break;default:d=typeof s.is=="string"?y.createElement(o,{is:s.is}):y.createElement(o)}}d[at]=t,d[mt]=s;e:for(y=t.child;y!==null;){if(y.tag===5||y.tag===6)d.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===t)break e;for(;y.sibling===null;){if(y.return===null||y.return===t)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}t.stateNode=d;e:switch(lt(d,o,s),o){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&gn(t)}}return Le(t),hu(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&gn(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(l(166));if(e=le.current,Qa(t)){if(e=t.stateNode,n=t.memoizedProps,s=null,o=rt,o!==null)switch(o.tag){case 27:case 5:s=o.memoizedProps}e[at]=t,e=!!(e.nodeValue===n||s!==null&&s.suppressHydrationWarning===!0||j0(e.nodeValue,n)),e||zn(t,!0)}else e=Zi(e).createTextNode(s),e[at]=t,t.stateNode=e}return Le(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(s=Qa(t),n!==null){if(e===null){if(!s)throw Error(l(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(557));e[at]=t}else fa(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Le(t),e=!1}else n=_o(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(Nt(t),t):(Nt(t),null);if((t.flags&128)!==0)throw Error(l(558))}return Le(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=Qa(t),s!==null&&s.dehydrated!==null){if(e===null){if(!o)throw Error(l(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(l(317));o[at]=t}else fa(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Le(t),o=!1}else o=_o(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return t.flags&256?(Nt(t),t):(Nt(t),null)}return Nt(t),(t.flags&128)!==0?(t.lanes=n,t):(n=s!==null,e=e!==null&&e.memoizedState!==null,n&&(s=t.child,o=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(o=s.alternate.memoizedState.cachePool.pool),d=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),d!==o&&(s.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Mi(t,t.updateQueue),Le(t),null);case 4:return Ke(),e===null&&Uu(t.stateNode.containerInfo),Le(t),null;case 10:return dn(t.type),Le(t),null;case 19:if(G(Pe),s=t.memoizedState,s===null)return Le(t),null;if(o=(t.flags&128)!==0,d=s.rendering,d===null)if(o)cs(s,!1);else{if(Ye!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(d=Si(e),d!==null){for(t.flags|=128,cs(s,!1),e=d.updateQueue,t.updateQueue=e,Mi(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)th(n,e),n=n.sibling;return Q(Pe,Pe.current&1|2),_e&&un(t,s.treeForkCount),t.child}e=e.sibling}s.tail!==null&&wt()>$i&&(t.flags|=128,o=!0,cs(s,!1),t.lanes=4194304)}else{if(!o)if(e=Si(d),e!==null){if(t.flags|=128,o=!0,e=e.updateQueue,t.updateQueue=e,Mi(t,e),cs(s,!0),s.tail===null&&s.tailMode==="hidden"&&!d.alternate&&!_e)return Le(t),null}else 2*wt()-s.renderingStartTime>$i&&n!==536870912&&(t.flags|=128,o=!0,cs(s,!1),t.lanes=4194304);s.isBackwards?(d.sibling=t.child,t.child=d):(e=s.last,e!==null?e.sibling=d:t.child=d,s.last=d)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=wt(),e.sibling=null,n=Pe.current,Q(Pe,o?n&1|2:n&1),_e&&un(t,s.treeForkCount),e):(Le(t),null);case 22:case 23:return Nt(t),Do(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?(n&536870912)!==0&&(t.flags&128)===0&&(Le(t),t.subtreeFlags&6&&(t.flags|=8192)):Le(t),n=t.updateQueue,n!==null&&Mi(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==n&&(t.flags|=2048),e!==null&&G(pa),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),dn(Je),Le(t),null;case 25:return null;case 30:return null}throw Error(l(156,t.tag))}function Qy(e,t){switch(xo(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return dn(Je),Ke(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Qs(t),null;case 31:if(t.memoizedState!==null){if(Nt(t),t.alternate===null)throw Error(l(340));fa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Nt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(l(340));fa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return G(Pe),null;case 4:return Ke(),null;case 10:return dn(t.type),null;case 22:case 23:return Nt(t),Do(),e!==null&&G(pa),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return dn(Je),null;case 25:return null;default:return null}}function Af(e,t){switch(xo(t),t.tag){case 3:dn(Je),Ke();break;case 26:case 27:case 5:Qs(t);break;case 4:Ke();break;case 31:t.memoizedState!==null&&Nt(t);break;case 13:Nt(t);break;case 19:G(Pe);break;case 10:dn(t.type);break;case 22:case 23:Nt(t),Do(),e!==null&&G(pa);break;case 24:dn(Je)}}function ds(e,t){try{var n=t.updateQueue,s=n!==null?n.lastEffect:null;if(s!==null){var o=s.next;n=o;do{if((n.tag&e)===e){s=void 0;var d=n.create,y=n.inst;s=d(),y.destroy=s}n=n.next}while(n!==o)}}catch(b){Ce(t,t.return,b)}}function Hn(e,t,n){try{var s=t.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var d=o.next;s=d;do{if((s.tag&e)===e){var y=s.inst,b=y.destroy;if(b!==void 0){y.destroy=void 0,o=t;var S=n,M=b;try{M()}catch(H){Ce(o,S,H)}}}s=s.next}while(s!==d)}}catch(H){Ce(t,t.return,H)}}function Rf(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{bh(t,n)}catch(s){Ce(e,e.return,s)}}}function Cf(e,t,n){n.props=wa(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(s){Ce(e,t,s)}}function hs(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof n=="function"?e.refCleanup=n(s):n.current=s}}catch(o){Ce(e,t,o)}}function tn(e,t){var n=e.ref,s=e.refCleanup;if(n!==null)if(typeof s=="function")try{s()}catch(o){Ce(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(o){Ce(e,t,o)}else n.current=null}function kf(e){var t=e.type,n=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&s.focus();break e;case"img":n.src?s.src=n.src:n.srcSet&&(s.srcset=n.srcSet)}}catch(o){Ce(e,e.return,o)}}function fu(e,t,n){try{var s=e.stateNode;gv(s,e.type,n,t),s[mt]=t}catch(o){Ce(e,e.return,o)}}function zf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Qn(e.type)||e.tag===4}function mu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||zf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Qn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function gu(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=sn));else if(s!==4&&(s===27&&Qn(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(gu(e,t,n),e=e.sibling;e!==null;)gu(e,t,n),e=e.sibling}function Bi(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(s===27&&Qn(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Bi(e,t,n),e=e.sibling;e!==null;)Bi(e,t,n),e=e.sibling}function Uf(e){var t=e.stateNode,n=e.memoizedProps;try{for(var s=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);lt(t,s,n),t[at]=e,t[mt]=n}catch(d){Ce(e,e.return,d)}}var pn=!1,Ze=!1,pu=!1,Df=typeof WeakSet=="function"?WeakSet:Set,nt=null;function Jy(e,t){if(e=e.containerInfo,Bu=rl,e=Pd(e),oo(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var o=s.anchorOffset,d=s.focusNode;s=s.focusOffset;try{n.nodeType,d.nodeType}catch{n=null;break e}var y=0,b=-1,S=-1,M=0,H=0,V=e,B=null;t:for(;;){for(var L;V!==n||o!==0&&V.nodeType!==3||(b=y+o),V!==d||s!==0&&V.nodeType!==3||(S=y+s),V.nodeType===3&&(y+=V.nodeValue.length),(L=V.firstChild)!==null;)B=V,V=L;for(;;){if(V===e)break t;if(B===n&&++M===o&&(b=y),B===d&&++H===s&&(S=y),(L=V.nextSibling)!==null)break;V=B,B=V.parentNode}V=L}n=b===-1||S===-1?null:{start:b,end:S}}else n=null}n=n||{start:0,end:0}}else n=null;for(Lu={focusedElem:e,selectionRange:n},rl=!1,nt=t;nt!==null;)if(t=nt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,nt=e;else for(;nt!==null;){switch(t=nt,d=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)o=e[n],o.ref.impl=o.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,n=t,o=d.memoizedProps,d=d.memoizedState,s=n.stateNode;try{var Z=wa(n.type,o);e=s.getSnapshotBeforeUpdate(Z,d),s.__reactInternalSnapshotBeforeUpdate=e}catch(oe){Ce(n,n.return,oe)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)$u(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":$u(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=t.sibling,e!==null){e.return=t.return,nt=e;break}nt=t.return}}function Mf(e,t,n){var s=n.flags;switch(n.tag){case 0:case 11:case 15:vn(e,n),s&4&&ds(5,n);break;case 1:if(vn(e,n),s&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(y){Ce(n,n.return,y)}else{var o=wa(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(y){Ce(n,n.return,y)}}s&64&&Rf(n),s&512&&hs(n,n.return);break;case 3:if(vn(e,n),s&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{bh(e,t)}catch(y){Ce(n,n.return,y)}}break;case 27:t===null&&s&4&&Uf(n);case 26:case 5:vn(e,n),t===null&&s&4&&kf(n),s&512&&hs(n,n.return);break;case 12:vn(e,n);break;case 31:vn(e,n),s&4&&qf(e,n);break;case 13:vn(e,n),s&4&&Hf(e,n),s&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=av.bind(null,n),Sv(e,n))));break;case 22:if(s=n.memoizedState!==null||pn,!s){t=t!==null&&t.memoizedState!==null||Ze,o=pn;var d=Ze;pn=s,(Ze=t)&&!d?bn(e,n,(n.subtreeFlags&8772)!==0):vn(e,n),pn=o,Ze=d}break;case 30:break;default:vn(e,n)}}function Bf(e){var t=e.alternate;t!==null&&(e.alternate=null,Bf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Kl(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var He=null,pt=!1;function yn(e,t,n){for(n=n.child;n!==null;)Lf(e,t,n),n=n.sibling}function Lf(e,t,n){if(_t&&typeof _t.onCommitFiberUnmount=="function")try{_t.onCommitFiberUnmount(Mr,n)}catch{}switch(n.tag){case 26:Ze||tn(n,t),yn(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Ze||tn(n,t);var s=He,o=pt;Qn(n.type)&&(He=n.stateNode,pt=!1),yn(e,t,n),ws(n.stateNode),He=s,pt=o;break;case 5:Ze||tn(n,t);case 6:if(s=He,o=pt,He=null,yn(e,t,n),He=s,pt=o,He!==null)if(pt)try{(He.nodeType===9?He.body:He.nodeName==="HTML"?He.ownerDocument.body:He).removeChild(n.stateNode)}catch(d){Ce(n,t,d)}else try{He.removeChild(n.stateNode)}catch(d){Ce(n,t,d)}break;case 18:He!==null&&(pt?(e=He,R0(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),mr(e)):R0(He,n.stateNode));break;case 4:s=He,o=pt,He=n.stateNode.containerInfo,pt=!0,yn(e,t,n),He=s,pt=o;break;case 0:case 11:case 14:case 15:Hn(2,n,t),Ze||Hn(4,n,t),yn(e,t,n);break;case 1:Ze||(tn(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"&&Cf(n,t,s)),yn(e,t,n);break;case 21:yn(e,t,n);break;case 22:Ze=(s=Ze)||n.memoizedState!==null,yn(e,t,n),Ze=s;break;default:yn(e,t,n)}}function qf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{mr(e)}catch(n){Ce(t,t.return,n)}}}function Hf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{mr(e)}catch(n){Ce(t,t.return,n)}}function Xy(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Df),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Df),t;default:throw Error(l(435,e.tag))}}function Li(e,t){var n=Xy(e);t.forEach(function(s){if(!n.has(s)){n.add(s);var o=rv.bind(null,e,s);s.then(o,o)}})}function yt(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var o=n[s],d=e,y=t,b=y;e:for(;b!==null;){switch(b.tag){case 27:if(Qn(b.type)){He=b.stateNode,pt=!1;break e}break;case 5:He=b.stateNode,pt=!1;break e;case 3:case 4:He=b.stateNode.containerInfo,pt=!0;break e}b=b.return}if(He===null)throw Error(l(160));Lf(d,y,o),He=null,pt=!1,d=o.alternate,d!==null&&(d.return=null),o.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)$f(t,e),t=t.sibling}var Pt=null;function $f(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:yt(t,e),vt(e),s&4&&(Hn(3,e,e.return),ds(3,e),Hn(5,e,e.return));break;case 1:yt(t,e),vt(e),s&512&&(Ze||n===null||tn(n,n.return)),s&64&&pn&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?s:n.concat(s))));break;case 26:var o=Pt;if(yt(t,e),vt(e),s&512&&(Ze||n===null||tn(n,n.return)),s&4){var d=n!==null?n.memoizedState:null;if(s=e.memoizedState,n===null)if(s===null)if(e.stateNode===null){e:{s=e.type,n=e.memoizedProps,o=o.ownerDocument||o;t:switch(s){case"title":d=o.getElementsByTagName("title")[0],(!d||d[qr]||d[at]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=o.createElement(s),o.head.insertBefore(d,o.querySelector("head > title"))),lt(d,s,n),d[at]=e,tt(d),s=d;break e;case"link":var y=$0("link","href",o).get(s+(n.href||""));if(y){for(var b=0;b<y.length;b++)if(d=y[b],d.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&d.getAttribute("rel")===(n.rel==null?null:n.rel)&&d.getAttribute("title")===(n.title==null?null:n.title)&&d.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){y.splice(b,1);break t}}d=o.createElement(s),lt(d,s,n),o.head.appendChild(d);break;case"meta":if(y=$0("meta","content",o).get(s+(n.content||""))){for(b=0;b<y.length;b++)if(d=y[b],d.getAttribute("content")===(n.content==null?null:""+n.content)&&d.getAttribute("name")===(n.name==null?null:n.name)&&d.getAttribute("property")===(n.property==null?null:n.property)&&d.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&d.getAttribute("charset")===(n.charSet==null?null:n.charSet)){y.splice(b,1);break t}}d=o.createElement(s),lt(d,s,n),o.head.appendChild(d);break;default:throw Error(l(468,s))}d[at]=e,tt(d),s=d}e.stateNode=s}else V0(o,e.type,e.stateNode);else e.stateNode=H0(o,s,e.memoizedProps);else d!==s?(d===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):d.count--,s===null?V0(o,e.type,e.stateNode):H0(o,s,e.memoizedProps)):s===null&&e.stateNode!==null&&fu(e,e.memoizedProps,n.memoizedProps)}break;case 27:yt(t,e),vt(e),s&512&&(Ze||n===null||tn(n,n.return)),n!==null&&s&4&&fu(e,e.memoizedProps,n.memoizedProps);break;case 5:if(yt(t,e),vt(e),s&512&&(Ze||n===null||tn(n,n.return)),e.flags&32){o=e.stateNode;try{Ba(o,"")}catch(Z){Ce(e,e.return,Z)}}s&4&&e.stateNode!=null&&(o=e.memoizedProps,fu(e,o,n!==null?n.memoizedProps:o)),s&1024&&(pu=!0);break;case 6:if(yt(t,e),vt(e),s&4){if(e.stateNode===null)throw Error(l(162));s=e.memoizedProps,n=e.stateNode;try{n.nodeValue=s}catch(Z){Ce(e,e.return,Z)}}break;case 3:if(el=null,o=Pt,Pt=Fi(t.containerInfo),yt(t,e),Pt=o,vt(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{mr(t.containerInfo)}catch(Z){Ce(e,e.return,Z)}pu&&(pu=!1,Vf(e));break;case 4:s=Pt,Pt=Fi(e.stateNode.containerInfo),yt(t,e),vt(e),Pt=s;break;case 12:yt(t,e),vt(e);break;case 31:yt(t,e),vt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Li(e,s)));break;case 13:yt(t,e),vt(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Hi=wt()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Li(e,s)));break;case 22:o=e.memoizedState!==null;var S=n!==null&&n.memoizedState!==null,M=pn,H=Ze;if(pn=M||o,Ze=H||S,yt(t,e),Ze=H,pn=M,vt(e),s&8192)e:for(t=e.stateNode,t._visibility=o?t._visibility&-2:t._visibility|1,o&&(n===null||S||pn||Ze||_a(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){S=n=t;try{if(d=S.stateNode,o)y=d.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{b=S.stateNode;var V=S.memoizedProps.style,B=V!=null&&V.hasOwnProperty("display")?V.display:null;b.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(Z){Ce(S,S.return,Z)}}}else if(t.tag===6){if(n===null){S=t;try{S.stateNode.nodeValue=o?"":S.memoizedProps}catch(Z){Ce(S,S.return,Z)}}}else if(t.tag===18){if(n===null){S=t;try{var L=S.stateNode;o?C0(L,!0):C0(S.stateNode,!1)}catch(Z){Ce(S,S.return,Z)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(n=s.retryQueue,n!==null&&(s.retryQueue=null,Li(e,n))));break;case 19:yt(t,e),vt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Li(e,s)));break;case 30:break;case 21:break;default:yt(t,e),vt(e)}}function vt(e){var t=e.flags;if(t&2){try{for(var n,s=e.return;s!==null;){if(zf(s)){n=s;break}s=s.return}if(n==null)throw Error(l(160));switch(n.tag){case 27:var o=n.stateNode,d=mu(e);Bi(e,d,o);break;case 5:var y=n.stateNode;n.flags&32&&(Ba(y,""),n.flags&=-33);var b=mu(e);Bi(e,b,y);break;case 3:case 4:var S=n.stateNode.containerInfo,M=mu(e);gu(e,M,S);break;default:throw Error(l(161))}}catch(H){Ce(e,e.return,H)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Vf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Vf(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function vn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Mf(e,t.alternate,t),t=t.sibling}function _a(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Hn(4,t,t.return),_a(t);break;case 1:tn(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&Cf(t,t.return,n),_a(t);break;case 27:ws(t.stateNode);case 26:case 5:tn(t,t.return),_a(t);break;case 22:t.memoizedState===null&&_a(t);break;case 30:_a(t);break;default:_a(t)}e=e.sibling}}function bn(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,o=e,d=t,y=d.flags;switch(d.tag){case 0:case 11:case 15:bn(o,d,n),ds(4,d);break;case 1:if(bn(o,d,n),s=d,o=s.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(M){Ce(s,s.return,M)}if(s=d,o=s.updateQueue,o!==null){var b=s.stateNode;try{var S=o.shared.hiddenCallbacks;if(S!==null)for(o.shared.hiddenCallbacks=null,o=0;o<S.length;o++)vh(S[o],b)}catch(M){Ce(s,s.return,M)}}n&&y&64&&Rf(d),hs(d,d.return);break;case 27:Uf(d);case 26:case 5:bn(o,d,n),n&&s===null&&y&4&&kf(d),hs(d,d.return);break;case 12:bn(o,d,n);break;case 31:bn(o,d,n),n&&y&4&&qf(o,d);break;case 13:bn(o,d,n),n&&y&4&&Hf(o,d);break;case 22:d.memoizedState===null&&bn(o,d,n),hs(d,d.return);break;case 30:break;default:bn(o,d,n)}t=t.sibling}}function yu(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Fr(n))}function vu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Fr(e))}function Qt(e,t,n,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Gf(e,t,n,s),t=t.sibling}function Gf(e,t,n,s){var o=t.flags;switch(t.tag){case 0:case 11:case 15:Qt(e,t,n,s),o&2048&&ds(9,t);break;case 1:Qt(e,t,n,s);break;case 3:Qt(e,t,n,s),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Fr(e)));break;case 12:if(o&2048){Qt(e,t,n,s),e=t.stateNode;try{var d=t.memoizedProps,y=d.id,b=d.onPostCommit;typeof b=="function"&&b(y,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(S){Ce(t,t.return,S)}}else Qt(e,t,n,s);break;case 31:Qt(e,t,n,s);break;case 13:Qt(e,t,n,s);break;case 23:break;case 22:d=t.stateNode,y=t.alternate,t.memoizedState!==null?d._visibility&2?Qt(e,t,n,s):fs(e,t):d._visibility&2?Qt(e,t,n,s):(d._visibility|=2,ar(e,t,n,s,(t.subtreeFlags&10256)!==0||!1)),o&2048&&yu(y,t);break;case 24:Qt(e,t,n,s),o&2048&&vu(t.alternate,t);break;default:Qt(e,t,n,s)}}function ar(e,t,n,s,o){for(o=o&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var d=e,y=t,b=n,S=s,M=y.flags;switch(y.tag){case 0:case 11:case 15:ar(d,y,b,S,o),ds(8,y);break;case 23:break;case 22:var H=y.stateNode;y.memoizedState!==null?H._visibility&2?ar(d,y,b,S,o):fs(d,y):(H._visibility|=2,ar(d,y,b,S,o)),o&&M&2048&&yu(y.alternate,y);break;case 24:ar(d,y,b,S,o),o&&M&2048&&vu(y.alternate,y);break;default:ar(d,y,b,S,o)}t=t.sibling}}function fs(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,s=t,o=s.flags;switch(s.tag){case 22:fs(n,s),o&2048&&yu(s.alternate,s);break;case 24:fs(n,s),o&2048&&vu(s.alternate,s);break;default:fs(n,s)}t=t.sibling}}var ms=8192;function rr(e,t,n){if(e.subtreeFlags&ms)for(e=e.child;e!==null;)Yf(e,t,n),e=e.sibling}function Yf(e,t,n){switch(e.tag){case 26:rr(e,t,n),e.flags&ms&&e.memoizedState!==null&&Dv(n,Pt,e.memoizedState,e.memoizedProps);break;case 5:rr(e,t,n);break;case 3:case 4:var s=Pt;Pt=Fi(e.stateNode.containerInfo),rr(e,t,n),Pt=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=ms,ms=16777216,rr(e,t,n),ms=s):rr(e,t,n));break;default:rr(e,t,n)}}function Kf(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function gs(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var s=t[n];nt=s,Qf(s,e)}Kf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Pf(e),e=e.sibling}function Pf(e){switch(e.tag){case 0:case 11:case 15:gs(e),e.flags&2048&&Hn(9,e,e.return);break;case 3:gs(e);break;case 12:gs(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,qi(e)):gs(e);break;default:gs(e)}}function qi(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var s=t[n];nt=s,Qf(s,e)}Kf(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Hn(8,t,t.return),qi(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,qi(t));break;default:qi(t)}e=e.sibling}}function Qf(e,t){for(;nt!==null;){var n=nt;switch(n.tag){case 0:case 11:case 15:Hn(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var s=n.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Fr(n.memoizedState.cache)}if(s=n.child,s!==null)s.return=n,nt=s;else e:for(n=e;nt!==null;){s=nt;var o=s.sibling,d=s.return;if(Bf(s),s===n){nt=null;break e}if(o!==null){o.return=d,nt=o;break e}nt=d}}}var Iy={getCacheForType:function(e){var t=st(Je),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return st(Je).controller.signal}},Zy=typeof WeakMap=="function"?WeakMap:Map,Te=0,De=null,ve=null,xe=0,Re=0,Ot=null,$n=!1,sr=!1,bu=!1,xn=0,Ye=0,Vn=0,Sa=0,xu=0,At=0,ir=0,ps=null,bt=null,wu=!1,Hi=0,Jf=0,$i=1/0,Vi=null,Gn=null,We=0,Yn=null,lr=null,wn=0,_u=0,Su=null,Xf=null,ys=0,ju=null;function Rt(){return(Te&2)!==0&&xe!==0?xe&-xe:A.T!==null?Ru():cd()}function If(){if(At===0)if((xe&536870912)===0||_e){var e=Is;Is<<=1,(Is&3932160)===0&&(Is=262144),At=e}else At=536870912;return e=Tt.current,e!==null&&(e.flags|=32),At}function xt(e,t,n){(e===De&&(Re===2||Re===9)||e.cancelPendingCommit!==null)&&(or(e,0),Kn(e,xe,At,!1)),Lr(e,n),((Te&2)===0||e!==De)&&(e===De&&((Te&2)===0&&(Sa|=n),Ye===4&&Kn(e,xe,At,!1)),nn(e))}function Zf(e,t,n){if((Te&6)!==0)throw Error(l(327));var s=!n&&(t&127)===0&&(t&e.expiredLanes)===0||Br(e,t),o=s?ev(e,t):Tu(e,t,!0),d=s;do{if(o===0){sr&&!s&&Kn(e,t,0,!1);break}else{if(n=e.current.alternate,d&&!Fy(n)){o=Tu(e,t,!1),d=!1;continue}if(o===2){if(d=t,e.errorRecoveryDisabledLanes&d)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){t=y;e:{var b=e;o=ps;var S=b.current.memoizedState.isDehydrated;if(S&&(or(b,y).flags|=256),y=Tu(b,y,!1),y!==2){if(bu&&!S){b.errorRecoveryDisabledLanes|=d,Sa|=d,o=4;break e}d=bt,bt=o,d!==null&&(bt===null?bt=d:bt.push.apply(bt,d))}o=y}if(d=!1,o!==2)continue}}if(o===1){or(e,0),Kn(e,t,0,!0);break}e:{switch(s=e,d=o,d){case 0:case 1:throw Error(l(345));case 4:if((t&4194048)!==t)break;case 6:Kn(s,t,At,!$n);break e;case 2:bt=null;break;case 3:case 5:break;default:throw Error(l(329))}if((t&62914560)===t&&(o=Hi+300-wt(),10<o)){if(Kn(s,t,At,!$n),Fs(s,0,!0)!==0)break e;wn=t,s.timeoutHandle=O0(Ff.bind(null,s,n,bt,Vi,wu,t,At,Sa,ir,$n,d,"Throttled",-0,0),o);break e}Ff(s,n,bt,Vi,wu,t,At,Sa,ir,$n,d,null,-0,0)}}break}while(!0);nn(e)}function Ff(e,t,n,s,o,d,y,b,S,M,H,V,B,L){if(e.timeoutHandle=-1,V=t.subtreeFlags,V&8192||(V&16785408)===16785408){V={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:sn},Yf(t,d,V);var Z=(d&62914560)===d?Hi-wt():(d&4194048)===d?Jf-wt():0;if(Z=Mv(V,Z),Z!==null){wn=d,e.cancelPendingCommit=Z(i0.bind(null,e,t,d,n,s,o,y,b,S,H,V,null,B,L)),Kn(e,d,y,!M);return}}i0(e,t,d,n,s,o,y,b,S)}function Fy(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var s=0;s<n.length;s++){var o=n[s],d=o.getSnapshot;o=o.value;try{if(!jt(d(),o))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Kn(e,t,n,s){t&=~xu,t&=~Sa,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var o=t;0<o;){var d=31-St(o),y=1<<d;s[d]=-1,o&=~y}n!==0&&ld(e,n,t)}function Gi(){return(Te&6)===0?(vs(0),!1):!0}function Eu(){if(ve!==null){if(Re===0)var e=ve.return;else e=ve,cn=ma=null,$o(e),Fa=null,es=0,e=ve;for(;e!==null;)Af(e.alternate,e),e=e.return;ve=null}}function or(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,vv(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),wn=0,Eu(),De=e,ve=n=on(e.current,null),xe=t,Re=0,Ot=null,$n=!1,sr=Br(e,t),bu=!1,ir=At=xu=Sa=Vn=Ye=0,bt=ps=null,wu=!1,(t&8)!==0&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var o=31-St(s),d=1<<o;t|=e[o],s&=~d}return xn=t,ci(),n}function Wf(e,t){me=null,A.H=os,t===Za||t===vi?(t=mh(),Re=3):t===Ao?(t=mh(),Re=4):Re=t===au?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Ot=t,ve===null&&(Ye=1,ki(e,Lt(t,e.current)))}function e0(){var e=Tt.current;return e===null?!0:(xe&4194048)===xe?Vt===null:(xe&62914560)===xe||(xe&536870912)!==0?e===Vt:!1}function t0(){var e=A.H;return A.H=os,e===null?os:e}function n0(){var e=A.A;return A.A=Iy,e}function Yi(){Ye=4,$n||(xe&4194048)!==xe&&Tt.current!==null||(sr=!0),(Vn&134217727)===0&&(Sa&134217727)===0||De===null||Kn(De,xe,At,!1)}function Tu(e,t,n){var s=Te;Te|=2;var o=t0(),d=n0();(De!==e||xe!==t)&&(Vi=null,or(e,t)),t=!1;var y=Ye;e:do try{if(Re!==0&&ve!==null){var b=ve,S=Ot;switch(Re){case 8:Eu(),y=6;break e;case 3:case 2:case 9:case 6:Tt.current===null&&(t=!0);var M=Re;if(Re=0,Ot=null,ur(e,b,S,M),n&&sr){y=0;break e}break;default:M=Re,Re=0,Ot=null,ur(e,b,S,M)}}Wy(),y=Ye;break}catch(H){Wf(e,H)}while(!0);return t&&e.shellSuspendCounter++,cn=ma=null,Te=s,A.H=o,A.A=d,ve===null&&(De=null,xe=0,ci()),y}function Wy(){for(;ve!==null;)a0(ve)}function ev(e,t){var n=Te;Te|=2;var s=t0(),o=n0();De!==e||xe!==t?(Vi=null,$i=wt()+500,or(e,t)):sr=Br(e,t);e:do try{if(Re!==0&&ve!==null){t=ve;var d=Ot;t:switch(Re){case 1:Re=0,Ot=null,ur(e,t,d,1);break;case 2:case 9:if(hh(d)){Re=0,Ot=null,r0(t);break}t=function(){Re!==2&&Re!==9||De!==e||(Re=7),nn(e)},d.then(t,t);break e;case 3:Re=7;break e;case 4:Re=5;break e;case 7:hh(d)?(Re=0,Ot=null,r0(t)):(Re=0,Ot=null,ur(e,t,d,7));break;case 5:var y=null;switch(ve.tag){case 26:y=ve.memoizedState;case 5:case 27:var b=ve;if(y?G0(y):b.stateNode.complete){Re=0,Ot=null;var S=b.sibling;if(S!==null)ve=S;else{var M=b.return;M!==null?(ve=M,Ki(M)):ve=null}break t}}Re=0,Ot=null,ur(e,t,d,5);break;case 6:Re=0,Ot=null,ur(e,t,d,6);break;case 8:Eu(),Ye=6;break e;default:throw Error(l(462))}}tv();break}catch(H){Wf(e,H)}while(!0);return cn=ma=null,A.H=s,A.A=o,Te=n,ve!==null?0:(De=null,xe=0,ci(),Ye)}function tv(){for(;ve!==null&&!jp();)a0(ve)}function a0(e){var t=Nf(e.alternate,e,xn);e.memoizedProps=e.pendingProps,t===null?Ki(e):ve=t}function r0(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=wf(n,t,t.pendingProps,t.type,void 0,xe);break;case 11:t=wf(n,t,t.pendingProps,t.type.render,t.ref,xe);break;case 5:$o(t);default:Af(n,t),t=ve=th(t,xn),t=Nf(n,t,xn)}e.memoizedProps=e.pendingProps,t===null?Ki(e):ve=t}function ur(e,t,n,s){cn=ma=null,$o(t),Fa=null,es=0;var o=t.return;try{if(Gy(e,o,t,n,xe)){Ye=1,ki(e,Lt(n,e.current)),ve=null;return}}catch(d){if(o!==null)throw ve=o,d;Ye=1,ki(e,Lt(n,e.current)),ve=null;return}t.flags&32768?(_e||s===1?e=!0:sr||(xe&536870912)!==0?e=!1:($n=e=!0,(s===2||s===9||s===3||s===6)&&(s=Tt.current,s!==null&&s.tag===13&&(s.flags|=16384))),s0(t,e)):Ki(t)}function Ki(e){var t=e;do{if((t.flags&32768)!==0){s0(t,$n);return}e=t.return;var n=Py(t.alternate,t,xn);if(n!==null){ve=n;return}if(t=t.sibling,t!==null){ve=t;return}ve=t=e}while(t!==null);Ye===0&&(Ye=5)}function s0(e,t){do{var n=Qy(e.alternate,e);if(n!==null){n.flags&=32767,ve=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){ve=e;return}ve=e=n}while(e!==null);Ye=6,ve=null}function i0(e,t,n,s,o,d,y,b,S){e.cancelPendingCommit=null;do Pi();while(We!==0);if((Te&6)!==0)throw Error(l(327));if(t!==null){if(t===e.current)throw Error(l(177));if(d=t.lanes|t.childLanes,d|=mo,Up(e,n,d,y,b,S),e===De&&(ve=De=null,xe=0),lr=t,Yn=e,wn=n,_u=d,Su=o,Xf=s,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,sv(Js,function(){return d0(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||s){s=A.T,A.T=null,o=q.p,q.p=2,y=Te,Te|=4;try{Jy(e,t,n)}finally{Te=y,q.p=o,A.T=s}}We=1,l0(),o0(),u0()}}function l0(){if(We===1){We=0;var e=Yn,t=lr,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=A.T,A.T=null;var s=q.p;q.p=2;var o=Te;Te|=4;try{$f(t,e);var d=Lu,y=Pd(e.containerInfo),b=d.focusedElem,S=d.selectionRange;if(y!==b&&b&&b.ownerDocument&&Kd(b.ownerDocument.documentElement,b)){if(S!==null&&oo(b)){var M=S.start,H=S.end;if(H===void 0&&(H=M),"selectionStart"in b)b.selectionStart=M,b.selectionEnd=Math.min(H,b.value.length);else{var V=b.ownerDocument||document,B=V&&V.defaultView||window;if(B.getSelection){var L=B.getSelection(),Z=b.textContent.length,oe=Math.min(S.start,Z),Ue=S.end===void 0?oe:Math.min(S.end,Z);!L.extend&&oe>Ue&&(y=Ue,Ue=oe,oe=y);var R=Yd(b,oe),N=Yd(b,Ue);if(R&&N&&(L.rangeCount!==1||L.anchorNode!==R.node||L.anchorOffset!==R.offset||L.focusNode!==N.node||L.focusOffset!==N.offset)){var D=V.createRange();D.setStart(R.node,R.offset),L.removeAllRanges(),oe>Ue?(L.addRange(D),L.extend(N.node,N.offset)):(D.setEnd(N.node,N.offset),L.addRange(D))}}}}for(V=[],L=b;L=L.parentNode;)L.nodeType===1&&V.push({element:L,left:L.scrollLeft,top:L.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<V.length;b++){var $=V[b];$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}rl=!!Bu,Lu=Bu=null}finally{Te=o,q.p=s,A.T=n}}e.current=t,We=2}}function o0(){if(We===2){We=0;var e=Yn,t=lr,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=A.T,A.T=null;var s=q.p;q.p=2;var o=Te;Te|=4;try{Mf(e,t.alternate,t)}finally{Te=o,q.p=s,A.T=n}}We=3}}function u0(){if(We===4||We===3){We=0,Ep();var e=Yn,t=lr,n=wn,s=Xf;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?We=5:(We=0,lr=Yn=null,c0(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&(Gn=null),Gl(n),t=t.stateNode,_t&&typeof _t.onCommitFiberRoot=="function")try{_t.onCommitFiberRoot(Mr,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=A.T,o=q.p,q.p=2,A.T=null;try{for(var d=e.onRecoverableError,y=0;y<s.length;y++){var b=s[y];d(b.value,{componentStack:b.stack})}}finally{A.T=t,q.p=o}}(wn&3)!==0&&Pi(),nn(e),o=e.pendingLanes,(n&261930)!==0&&(o&42)!==0?e===ju?ys++:(ys=0,ju=e):ys=0,vs(0)}}function c0(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Fr(t)))}function Pi(){return l0(),o0(),u0(),d0()}function d0(){if(We!==5)return!1;var e=Yn,t=_u;_u=0;var n=Gl(wn),s=A.T,o=q.p;try{q.p=32>n?32:n,A.T=null,n=Su,Su=null;var d=Yn,y=wn;if(We=0,lr=Yn=null,wn=0,(Te&6)!==0)throw Error(l(331));var b=Te;if(Te|=4,Pf(d.current),Gf(d,d.current,y,n),Te=b,vs(0,!1),_t&&typeof _t.onPostCommitFiberRoot=="function")try{_t.onPostCommitFiberRoot(Mr,d)}catch{}return!0}finally{q.p=o,A.T=s,c0(e,t)}}function h0(e,t,n){t=Lt(n,t),t=nu(e.stateNode,t,2),e=Bn(e,t,2),e!==null&&(Lr(e,2),nn(e))}function Ce(e,t,n){if(e.tag===3)h0(e,e,n);else for(;t!==null;){if(t.tag===3){h0(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Gn===null||!Gn.has(s))){e=Lt(n,e),n=ff(2),s=Bn(t,n,2),s!==null&&(mf(n,s,t,e),Lr(s,2),nn(s));break}}t=t.return}}function Nu(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new Zy;var o=new Set;s.set(t,o)}else o=s.get(t),o===void 0&&(o=new Set,s.set(t,o));o.has(n)||(bu=!0,o.add(n),e=nv.bind(null,e,t,n),t.then(e,e))}function nv(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,De===e&&(xe&n)===n&&(Ye===4||Ye===3&&(xe&62914560)===xe&&300>wt()-Hi?(Te&2)===0&&or(e,0):xu|=n,ir===xe&&(ir=0)),nn(e)}function f0(e,t){t===0&&(t=id()),e=da(e,t),e!==null&&(Lr(e,t),nn(e))}function av(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),f0(e,n)}function rv(e,t){var n=0;switch(e.tag){case 31:case 13:var s=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(l(314))}s!==null&&s.delete(t),f0(e,n)}function sv(e,t){return ql(e,t)}var Qi=null,cr=null,Ou=!1,Ji=!1,Au=!1,Pn=0;function nn(e){e!==cr&&e.next===null&&(cr===null?Qi=cr=e:cr=cr.next=e),Ji=!0,Ou||(Ou=!0,lv())}function vs(e,t){if(!Au&&Ji){Au=!0;do for(var n=!1,s=Qi;s!==null;){if(e!==0){var o=s.pendingLanes;if(o===0)var d=0;else{var y=s.suspendedLanes,b=s.pingedLanes;d=(1<<31-St(42|e)+1)-1,d&=o&~(y&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(n=!0,y0(s,d))}else d=xe,d=Fs(s,s===De?d:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(d&3)===0||Br(s,d)||(n=!0,y0(s,d));s=s.next}while(n);Au=!1}}function iv(){m0()}function m0(){Ji=Ou=!1;var e=0;Pn!==0&&yv()&&(e=Pn);for(var t=wt(),n=null,s=Qi;s!==null;){var o=s.next,d=g0(s,t);d===0?(s.next=null,n===null?Qi=o:n.next=o,o===null&&(cr=n)):(n=s,(e!==0||(d&3)!==0)&&(Ji=!0)),s=o}We!==0&&We!==5||vs(e),Pn!==0&&(Pn=0)}function g0(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,o=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var y=31-St(d),b=1<<y,S=o[y];S===-1?((b&n)===0||(b&s)!==0)&&(o[y]=zp(b,t)):S<=t&&(e.expiredLanes|=b),d&=~b}if(t=De,n=xe,n=Fs(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,n===0||e===t&&(Re===2||Re===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&Hl(s),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||Br(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(s!==null&&Hl(s),Gl(n)){case 2:case 8:n=rd;break;case 32:n=Js;break;case 268435456:n=sd;break;default:n=Js}return s=p0.bind(null,e),n=ql(n,s),e.callbackPriority=t,e.callbackNode=n,t}return s!==null&&s!==null&&Hl(s),e.callbackPriority=2,e.callbackNode=null,2}function p0(e,t){if(We!==0&&We!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Pi()&&e.callbackNode!==n)return null;var s=xe;return s=Fs(e,e===De?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(Zf(e,s,t),g0(e,wt()),e.callbackNode!=null&&e.callbackNode===n?p0.bind(null,e):null)}function y0(e,t){if(Pi())return null;Zf(e,t,!0)}function lv(){bv(function(){(Te&6)!==0?ql(ad,iv):m0()})}function Ru(){if(Pn===0){var e=Xa;e===0&&(e=Xs,Xs<<=1,(Xs&261888)===0&&(Xs=256)),Pn=e}return Pn}function v0(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ni(""+e)}function b0(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function ov(e,t,n,s,o){if(t==="submit"&&n&&n.stateNode===o){var d=v0((o[mt]||null).action),y=s.submitter;y&&(t=(t=y[mt]||null)?v0(t.formAction):y.getAttribute("formAction"),t!==null&&(d=t,y=null));var b=new ii("action","action",null,s,o);e.push({event:b,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(Pn!==0){var S=y?b0(o,y):new FormData(o);Io(n,{pending:!0,data:S,method:o.method,action:d},null,S)}}else typeof d=="function"&&(b.preventDefault(),S=y?b0(o,y):new FormData(o),Io(n,{pending:!0,data:S,method:o.method,action:d},d,S))},currentTarget:o}]})}}for(var Cu=0;Cu<fo.length;Cu++){var ku=fo[Cu],uv=ku.toLowerCase(),cv=ku[0].toUpperCase()+ku.slice(1);Kt(uv,"on"+cv)}Kt(Xd,"onAnimationEnd"),Kt(Id,"onAnimationIteration"),Kt(Zd,"onAnimationStart"),Kt("dblclick","onDoubleClick"),Kt("focusin","onFocus"),Kt("focusout","onBlur"),Kt(Ty,"onTransitionRun"),Kt(Ny,"onTransitionStart"),Kt(Oy,"onTransitionCancel"),Kt(Fd,"onTransitionEnd"),Da("onMouseEnter",["mouseout","mouseover"]),Da("onMouseLeave",["mouseout","mouseover"]),Da("onPointerEnter",["pointerout","pointerover"]),Da("onPointerLeave",["pointerout","pointerover"]),la("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),la("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),la("onBeforeInput",["compositionend","keypress","textInput","paste"]),la("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),la("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),la("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(bs));function x0(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],o=s.event;s=s.listeners;e:{var d=void 0;if(t)for(var y=s.length-1;0<=y;y--){var b=s[y],S=b.instance,M=b.currentTarget;if(b=b.listener,S!==d&&o.isPropagationStopped())break e;d=b,o.currentTarget=M;try{d(o)}catch(H){ui(H)}o.currentTarget=null,d=S}else for(y=0;y<s.length;y++){if(b=s[y],S=b.instance,M=b.currentTarget,b=b.listener,S!==d&&o.isPropagationStopped())break e;d=b,o.currentTarget=M;try{d(o)}catch(H){ui(H)}o.currentTarget=null,d=S}}}}function be(e,t){var n=t[Yl];n===void 0&&(n=t[Yl]=new Set);var s=e+"__bubble";n.has(s)||(w0(t,e,2,!1),n.add(s))}function zu(e,t,n){var s=0;t&&(s|=4),w0(n,e,s,t)}var Xi="_reactListening"+Math.random().toString(36).slice(2);function Uu(e){if(!e[Xi]){e[Xi]=!0,fd.forEach(function(n){n!=="selectionchange"&&(dv.has(n)||zu(n,!1,e),zu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Xi]||(t[Xi]=!0,zu("selectionchange",!1,t))}}function w0(e,t,n,s){switch(I0(t)){case 2:var o=qv;break;case 8:o=Hv;break;default:o=Xu}n=o.bind(null,t,n,e),o=void 0,!Wl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),s?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Du(e,t,n,s,o){var d=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var y=s.tag;if(y===3||y===4){var b=s.stateNode.containerInfo;if(b===o)break;if(y===4)for(y=s.return;y!==null;){var S=y.tag;if((S===3||S===4)&&y.stateNode.containerInfo===o)return;y=y.return}for(;b!==null;){if(y=ka(b),y===null)return;if(S=y.tag,S===5||S===6||S===26||S===27){s=d=y;continue e}b=b.parentNode}}s=s.return}Ed(function(){var M=d,H=Zl(n),V=[];e:{var B=Wd.get(e);if(B!==void 0){var L=ii,Z=e;switch(e){case"keypress":if(ri(n)===0)break e;case"keydown":case"keyup":L=ry;break;case"focusin":Z="focus",L=ao;break;case"focusout":Z="blur",L=ao;break;case"beforeblur":case"afterblur":L=ao;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":L=Od;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":L=Pp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":L=ly;break;case Xd:case Id:case Zd:L=Xp;break;case Fd:L=uy;break;case"scroll":case"scrollend":L=Yp;break;case"wheel":L=dy;break;case"copy":case"cut":case"paste":L=Zp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":L=Rd;break;case"toggle":case"beforetoggle":L=fy}var oe=(t&4)!==0,Ue=!oe&&(e==="scroll"||e==="scrollend"),R=oe?B!==null?B+"Capture":null:B;oe=[];for(var N=M,D;N!==null;){var $=N;if(D=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||D===null||R===null||($=$r(N,R),$!=null&&oe.push(xs(N,$,D))),Ue)break;N=N.return}0<oe.length&&(B=new L(B,Z,null,n,H),V.push({event:B,listeners:oe}))}}if((t&7)===0){e:{if(B=e==="mouseover"||e==="pointerover",L=e==="mouseout"||e==="pointerout",B&&n!==Il&&(Z=n.relatedTarget||n.fromElement)&&(ka(Z)||Z[Ca]))break e;if((L||B)&&(B=H.window===H?H:(B=H.ownerDocument)?B.defaultView||B.parentWindow:window,L?(Z=n.relatedTarget||n.toElement,L=M,Z=Z?ka(Z):null,Z!==null&&(Ue=c(Z),oe=Z.tag,Z!==Ue||oe!==5&&oe!==27&&oe!==6)&&(Z=null)):(L=null,Z=M),L!==Z)){if(oe=Od,$="onMouseLeave",R="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(oe=Rd,$="onPointerLeave",R="onPointerEnter",N="pointer"),Ue=L==null?B:Hr(L),D=Z==null?B:Hr(Z),B=new oe($,N+"leave",L,n,H),B.target=Ue,B.relatedTarget=D,$=null,ka(H)===M&&(oe=new oe(R,N+"enter",Z,n,H),oe.target=D,oe.relatedTarget=Ue,$=oe),Ue=$,L&&Z)t:{for(oe=hv,R=L,N=Z,D=0,$=R;$;$=oe($))D++;$=0;for(var ie=N;ie;ie=oe(ie))$++;for(;0<D-$;)R=oe(R),D--;for(;0<$-D;)N=oe(N),$--;for(;D--;){if(R===N||N!==null&&R===N.alternate){oe=R;break t}R=oe(R),N=oe(N)}oe=null}else oe=null;L!==null&&_0(V,B,L,oe,!1),Z!==null&&Ue!==null&&_0(V,Ue,Z,oe,!0)}}e:{if(B=M?Hr(M):window,L=B.nodeName&&B.nodeName.toLowerCase(),L==="select"||L==="input"&&B.type==="file")var je=Ld;else if(Md(B))if(qd)je=Sy;else{je=wy;var te=xy}else L=B.nodeName,!L||L.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?M&&Xl(M.elementType)&&(je=Ld):je=_y;if(je&&(je=je(e,M))){Bd(V,je,n,H);break e}te&&te(e,B,M),e==="focusout"&&M&&B.type==="number"&&M.memoizedProps.value!=null&&Jl(B,"number",B.value)}switch(te=M?Hr(M):window,e){case"focusin":(Md(te)||te.contentEditable==="true")&&($a=te,uo=M,Xr=null);break;case"focusout":Xr=uo=$a=null;break;case"mousedown":co=!0;break;case"contextmenu":case"mouseup":case"dragend":co=!1,Qd(V,n,H);break;case"selectionchange":if(Ey)break;case"keydown":case"keyup":Qd(V,n,H)}var ge;if(so)e:{switch(e){case"compositionstart":var we="onCompositionStart";break e;case"compositionend":we="onCompositionEnd";break e;case"compositionupdate":we="onCompositionUpdate";break e}we=void 0}else Ha?Ud(e,n)&&(we="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(we="onCompositionStart");we&&(Cd&&n.locale!=="ko"&&(Ha||we!=="onCompositionStart"?we==="onCompositionEnd"&&Ha&&(ge=Td()):(Rn=H,eo="value"in Rn?Rn.value:Rn.textContent,Ha=!0)),te=Ii(M,we),0<te.length&&(we=new Ad(we,e,null,n,H),V.push({event:we,listeners:te}),ge?we.data=ge:(ge=Dd(n),ge!==null&&(we.data=ge)))),(ge=gy?py(e,n):yy(e,n))&&(we=Ii(M,"onBeforeInput"),0<we.length&&(te=new Ad("onBeforeInput","beforeinput",null,n,H),V.push({event:te,listeners:we}),te.data=ge)),ov(V,e,M,n,H)}x0(V,t)})}function xs(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ii(e,t){for(var n=t+"Capture",s=[];e!==null;){var o=e,d=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||d===null||(o=$r(e,n),o!=null&&s.unshift(xs(e,o,d)),o=$r(e,t),o!=null&&s.push(xs(e,o,d))),e.tag===3)return s;e=e.return}return[]}function hv(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function _0(e,t,n,s,o){for(var d=t._reactName,y=[];n!==null&&n!==s;){var b=n,S=b.alternate,M=b.stateNode;if(b=b.tag,S!==null&&S===s)break;b!==5&&b!==26&&b!==27||M===null||(S=M,o?(M=$r(n,d),M!=null&&y.unshift(xs(n,M,S))):o||(M=$r(n,d),M!=null&&y.push(xs(n,M,S)))),n=n.return}y.length!==0&&e.push({event:t,listeners:y})}var fv=/\r\n?/g,mv=/\u0000|\uFFFD/g;function S0(e){return(typeof e=="string"?e:""+e).replace(fv,`
`).replace(mv,"")}function j0(e,t){return t=S0(t),S0(e)===t}function ze(e,t,n,s,o,d){switch(n){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||Ba(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&Ba(e,""+s);break;case"className":ei(e,"class",s);break;case"tabIndex":ei(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":ei(e,n,s);break;case"style":Sd(e,s,d);break;case"data":if(t!=="object"){ei(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(n);break}s=ni(""+s),e.setAttribute(n,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(n==="formAction"?(t!=="input"&&ze(e,t,"name",o.name,o,null),ze(e,t,"formEncType",o.formEncType,o,null),ze(e,t,"formMethod",o.formMethod,o,null),ze(e,t,"formTarget",o.formTarget,o,null)):(ze(e,t,"encType",o.encType,o,null),ze(e,t,"method",o.method,o,null),ze(e,t,"target",o.target,o,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(n);break}s=ni(""+s),e.setAttribute(n,s);break;case"onClick":s!=null&&(e.onclick=sn);break;case"onScroll":s!=null&&be("scroll",e);break;case"onScrollEnd":s!=null&&be("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(l(61));if(n=s.__html,n!=null){if(o.children!=null)throw Error(l(60));e.innerHTML=n}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}n=ni(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(n,""+s):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":s===!0?e.setAttribute(n,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(n,s):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(n,s):e.removeAttribute(n);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(n):e.setAttribute(n,s);break;case"popover":be("beforetoggle",e),be("toggle",e),Ws(e,"popover",s);break;case"xlinkActuate":rn(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":rn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":rn(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":rn(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":rn(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":rn(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":rn(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":rn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":rn(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":Ws(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Vp.get(n)||n,Ws(e,n,s))}}function Mu(e,t,n,s,o,d){switch(n){case"style":Sd(e,s,d);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(l(61));if(n=s.__html,n!=null){if(o.children!=null)throw Error(l(60));e.innerHTML=n}}break;case"children":typeof s=="string"?Ba(e,s):(typeof s=="number"||typeof s=="bigint")&&Ba(e,""+s);break;case"onScroll":s!=null&&be("scroll",e);break;case"onScrollEnd":s!=null&&be("scrollend",e);break;case"onClick":s!=null&&(e.onclick=sn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!md.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(o=n.endsWith("Capture"),t=n.slice(2,o?n.length-7:void 0),d=e[mt]||null,d=d!=null?d[n]:null,typeof d=="function"&&e.removeEventListener(t,d,o),typeof s=="function")){typeof d!="function"&&d!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,s,o);break e}n in e?e[n]=s:s===!0?e.setAttribute(n,""):Ws(e,n,s)}}}function lt(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":be("error",e),be("load",e);var s=!1,o=!1,d;for(d in n)if(n.hasOwnProperty(d)){var y=n[d];if(y!=null)switch(d){case"src":s=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:ze(e,t,d,y,n,null)}}o&&ze(e,t,"srcSet",n.srcSet,n,null),s&&ze(e,t,"src",n.src,n,null);return;case"input":be("invalid",e);var b=d=y=o=null,S=null,M=null;for(s in n)if(n.hasOwnProperty(s)){var H=n[s];if(H!=null)switch(s){case"name":o=H;break;case"type":y=H;break;case"checked":S=H;break;case"defaultChecked":M=H;break;case"value":d=H;break;case"defaultValue":b=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(l(137,t));break;default:ze(e,t,s,H,n,null)}}bd(e,d,b,S,M,y,o,!1);return;case"select":be("invalid",e),s=y=d=null;for(o in n)if(n.hasOwnProperty(o)&&(b=n[o],b!=null))switch(o){case"value":d=b;break;case"defaultValue":y=b;break;case"multiple":s=b;default:ze(e,t,o,b,n,null)}t=d,n=y,e.multiple=!!s,t!=null?Ma(e,!!s,t,!1):n!=null&&Ma(e,!!s,n,!0);return;case"textarea":be("invalid",e),d=o=s=null;for(y in n)if(n.hasOwnProperty(y)&&(b=n[y],b!=null))switch(y){case"value":s=b;break;case"defaultValue":o=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(l(91));break;default:ze(e,t,y,b,n,null)}wd(e,s,o,d);return;case"option":for(S in n)if(n.hasOwnProperty(S)&&(s=n[S],s!=null))switch(S){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:ze(e,t,S,s,n,null)}return;case"dialog":be("beforetoggle",e),be("toggle",e),be("cancel",e),be("close",e);break;case"iframe":case"object":be("load",e);break;case"video":case"audio":for(s=0;s<bs.length;s++)be(bs[s],e);break;case"image":be("error",e),be("load",e);break;case"details":be("toggle",e);break;case"embed":case"source":case"link":be("error",e),be("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(M in n)if(n.hasOwnProperty(M)&&(s=n[M],s!=null))switch(M){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:ze(e,t,M,s,n,null)}return;default:if(Xl(t)){for(H in n)n.hasOwnProperty(H)&&(s=n[H],s!==void 0&&Mu(e,t,H,s,n,void 0));return}}for(b in n)n.hasOwnProperty(b)&&(s=n[b],s!=null&&ze(e,t,b,s,n,null))}function gv(e,t,n,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,d=null,y=null,b=null,S=null,M=null,H=null;for(L in n){var V=n[L];if(n.hasOwnProperty(L)&&V!=null)switch(L){case"checked":break;case"value":break;case"defaultValue":S=V;default:s.hasOwnProperty(L)||ze(e,t,L,null,s,V)}}for(var B in s){var L=s[B];if(V=n[B],s.hasOwnProperty(B)&&(L!=null||V!=null))switch(B){case"type":d=L;break;case"name":o=L;break;case"checked":M=L;break;case"defaultChecked":H=L;break;case"value":y=L;break;case"defaultValue":b=L;break;case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(l(137,t));break;default:L!==V&&ze(e,t,B,L,s,V)}}Ql(e,y,b,S,M,H,d,o);return;case"select":L=y=b=B=null;for(d in n)if(S=n[d],n.hasOwnProperty(d)&&S!=null)switch(d){case"value":break;case"multiple":L=S;default:s.hasOwnProperty(d)||ze(e,t,d,null,s,S)}for(o in s)if(d=s[o],S=n[o],s.hasOwnProperty(o)&&(d!=null||S!=null))switch(o){case"value":B=d;break;case"defaultValue":b=d;break;case"multiple":y=d;default:d!==S&&ze(e,t,o,d,s,S)}t=b,n=y,s=L,B!=null?Ma(e,!!n,B,!1):!!s!=!!n&&(t!=null?Ma(e,!!n,t,!0):Ma(e,!!n,n?[]:"",!1));return;case"textarea":L=B=null;for(b in n)if(o=n[b],n.hasOwnProperty(b)&&o!=null&&!s.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:ze(e,t,b,null,s,o)}for(y in s)if(o=s[y],d=n[y],s.hasOwnProperty(y)&&(o!=null||d!=null))switch(y){case"value":B=o;break;case"defaultValue":L=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(l(91));break;default:o!==d&&ze(e,t,y,o,s,d)}xd(e,B,L);return;case"option":for(var Z in n)if(B=n[Z],n.hasOwnProperty(Z)&&B!=null&&!s.hasOwnProperty(Z))switch(Z){case"selected":e.selected=!1;break;default:ze(e,t,Z,null,s,B)}for(S in s)if(B=s[S],L=n[S],s.hasOwnProperty(S)&&B!==L&&(B!=null||L!=null))switch(S){case"selected":e.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:ze(e,t,S,B,s,L)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var oe in n)B=n[oe],n.hasOwnProperty(oe)&&B!=null&&!s.hasOwnProperty(oe)&&ze(e,t,oe,null,s,B);for(M in s)if(B=s[M],L=n[M],s.hasOwnProperty(M)&&B!==L&&(B!=null||L!=null))switch(M){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(l(137,t));break;default:ze(e,t,M,B,s,L)}return;default:if(Xl(t)){for(var Ue in n)B=n[Ue],n.hasOwnProperty(Ue)&&B!==void 0&&!s.hasOwnProperty(Ue)&&Mu(e,t,Ue,void 0,s,B);for(H in s)B=s[H],L=n[H],!s.hasOwnProperty(H)||B===L||B===void 0&&L===void 0||Mu(e,t,H,B,s,L);return}}for(var R in n)B=n[R],n.hasOwnProperty(R)&&B!=null&&!s.hasOwnProperty(R)&&ze(e,t,R,null,s,B);for(V in s)B=s[V],L=n[V],!s.hasOwnProperty(V)||B===L||B==null&&L==null||ze(e,t,V,B,s,L)}function E0(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function pv(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),s=0;s<n.length;s++){var o=n[s],d=o.transferSize,y=o.initiatorType,b=o.duration;if(d&&b&&E0(y)){for(y=0,b=o.responseEnd,s+=1;s<n.length;s++){var S=n[s],M=S.startTime;if(M>b)break;var H=S.transferSize,V=S.initiatorType;H&&E0(V)&&(S=S.responseEnd,y+=H*(S<b?1:(b-M)/(S-M)))}if(--s,t+=8*(d+y)/(o.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Bu=null,Lu=null;function Zi(e){return e.nodeType===9?e:e.ownerDocument}function T0(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function N0(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function qu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Hu=null;function yv(){var e=window.event;return e&&e.type==="popstate"?e===Hu?!1:(Hu=e,!0):(Hu=null,!1)}var O0=typeof setTimeout=="function"?setTimeout:void 0,vv=typeof clearTimeout=="function"?clearTimeout:void 0,A0=typeof Promise=="function"?Promise:void 0,bv=typeof queueMicrotask=="function"?queueMicrotask:typeof A0<"u"?function(e){return A0.resolve(null).then(e).catch(xv)}:O0;function xv(e){setTimeout(function(){throw e})}function Qn(e){return e==="head"}function R0(e,t){var n=t,s=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"||n==="/&"){if(s===0){e.removeChild(o),mr(t);return}s--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")s++;else if(n==="html")ws(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,ws(n);for(var d=n.firstChild;d;){var y=d.nextSibling,b=d.nodeName;d[qr]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&d.rel.toLowerCase()==="stylesheet"||n.removeChild(d),d=y}}else n==="body"&&ws(e.ownerDocument.body);n=o}while(n);mr(t)}function C0(e,t){var n=e;e=0;do{var s=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=s}while(n)}function $u(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":$u(n),Kl(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function wv(e,t,n,s){for(;e.nodeType===1;){var o=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[qr])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var d=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Gt(e.nextSibling),e===null)break}return null}function _v(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Gt(e.nextSibling),e===null))return null;return e}function k0(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Gt(e.nextSibling),e===null))return null;return e}function Vu(e){return e.data==="$?"||e.data==="$~"}function Gu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Sv(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var s=function(){t(),n.removeEventListener("DOMContentLoaded",s)};n.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function Gt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Yu=null;function z0(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return Gt(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function U0(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function D0(e,t,n){switch(t=Zi(n),e){case"html":if(e=t.documentElement,!e)throw Error(l(452));return e;case"head":if(e=t.head,!e)throw Error(l(453));return e;case"body":if(e=t.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}function ws(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Kl(e)}var Yt=new Map,M0=new Set;function Fi(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var _n=q.d;q.d={f:jv,r:Ev,D:Tv,C:Nv,L:Ov,m:Av,X:Cv,S:Rv,M:kv};function jv(){var e=_n.f(),t=Gi();return e||t}function Ev(e){var t=za(e);t!==null&&t.tag===5&&t.type==="form"?Fh(t):_n.r(e)}var dr=typeof document>"u"?null:document;function B0(e,t,n){var s=dr;if(s&&typeof t=="string"&&t){var o=Mt(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof n=="string"&&(o+='[crossorigin="'+n+'"]'),M0.has(o)||(M0.add(o),e={rel:e,crossOrigin:n,href:t},s.querySelector(o)===null&&(t=s.createElement("link"),lt(t,"link",e),tt(t),s.head.appendChild(t)))}}function Tv(e){_n.D(e),B0("dns-prefetch",e,null)}function Nv(e,t){_n.C(e,t),B0("preconnect",e,t)}function Ov(e,t,n){_n.L(e,t,n);var s=dr;if(s&&e&&t){var o='link[rel="preload"][as="'+Mt(t)+'"]';t==="image"&&n&&n.imageSrcSet?(o+='[imagesrcset="'+Mt(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(o+='[imagesizes="'+Mt(n.imageSizes)+'"]')):o+='[href="'+Mt(e)+'"]';var d=o;switch(t){case"style":d=hr(e);break;case"script":d=fr(e)}Yt.has(d)||(e=v({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Yt.set(d,e),s.querySelector(o)!==null||t==="style"&&s.querySelector(_s(d))||t==="script"&&s.querySelector(Ss(d))||(t=s.createElement("link"),lt(t,"link",e),tt(t),s.head.appendChild(t)))}}function Av(e,t){_n.m(e,t);var n=dr;if(n&&e){var s=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+Mt(s)+'"][href="'+Mt(e)+'"]',d=o;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=fr(e)}if(!Yt.has(d)&&(e=v({rel:"modulepreload",href:e},t),Yt.set(d,e),n.querySelector(o)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Ss(d)))return}s=n.createElement("link"),lt(s,"link",e),tt(s),n.head.appendChild(s)}}}function Rv(e,t,n){_n.S(e,t,n);var s=dr;if(s&&e){var o=Ua(s).hoistableStyles,d=hr(e);t=t||"default";var y=o.get(d);if(!y){var b={loading:0,preload:null};if(y=s.querySelector(_s(d)))b.loading=5;else{e=v({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Yt.get(d))&&Ku(e,n);var S=y=s.createElement("link");tt(S),lt(S,"link",e),S._p=new Promise(function(M,H){S.onload=M,S.onerror=H}),S.addEventListener("load",function(){b.loading|=1}),S.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Wi(y,t,s)}y={type:"stylesheet",instance:y,count:1,state:b},o.set(d,y)}}}function Cv(e,t){_n.X(e,t);var n=dr;if(n&&e){var s=Ua(n).hoistableScripts,o=fr(e),d=s.get(o);d||(d=n.querySelector(Ss(o)),d||(e=v({src:e,async:!0},t),(t=Yt.get(o))&&Pu(e,t),d=n.createElement("script"),tt(d),lt(d,"link",e),n.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},s.set(o,d))}}function kv(e,t){_n.M(e,t);var n=dr;if(n&&e){var s=Ua(n).hoistableScripts,o=fr(e),d=s.get(o);d||(d=n.querySelector(Ss(o)),d||(e=v({src:e,async:!0,type:"module"},t),(t=Yt.get(o))&&Pu(e,t),d=n.createElement("script"),tt(d),lt(d,"link",e),n.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},s.set(o,d))}}function L0(e,t,n,s){var o=(o=le.current)?Fi(o):null;if(!o)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=hr(n.href),n=Ua(o).hoistableStyles,s=n.get(t),s||(s={type:"style",instance:null,count:0,state:null},n.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=hr(n.href);var d=Ua(o).hoistableStyles,y=d.get(e);if(y||(o=o.ownerDocument||o,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,y),(d=o.querySelector(_s(e)))&&!d._p&&(y.instance=d,y.state.loading=5),Yt.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Yt.set(e,n),d||zv(o,e,n,y.state))),t&&s===null)throw Error(l(528,""));return y}if(t&&s!==null)throw Error(l(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=fr(n),n=Ua(o).hoistableScripts,s=n.get(t),s||(s={type:"script",instance:null,count:0,state:null},n.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function hr(e){return'href="'+Mt(e)+'"'}function _s(e){return'link[rel="stylesheet"]['+e+"]"}function q0(e){return v({},e,{"data-precedence":e.precedence,precedence:null})}function zv(e,t,n,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),lt(t,"link",n),tt(t),e.head.appendChild(t))}function fr(e){return'[src="'+Mt(e)+'"]'}function Ss(e){return"script[async]"+e}function H0(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+Mt(n.href)+'"]');if(s)return t.instance=s,tt(s),s;var o=v({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),tt(s),lt(s,"style",o),Wi(s,n.precedence,e),t.instance=s;case"stylesheet":o=hr(n.href);var d=e.querySelector(_s(o));if(d)return t.state.loading|=4,t.instance=d,tt(d),d;s=q0(n),(o=Yt.get(o))&&Ku(s,o),d=(e.ownerDocument||e).createElement("link"),tt(d);var y=d;return y._p=new Promise(function(b,S){y.onload=b,y.onerror=S}),lt(d,"link",s),t.state.loading|=4,Wi(d,n.precedence,e),t.instance=d;case"script":return d=fr(n.src),(o=e.querySelector(Ss(d)))?(t.instance=o,tt(o),o):(s=n,(o=Yt.get(d))&&(s=v({},n),Pu(s,o)),e=e.ownerDocument||e,o=e.createElement("script"),tt(o),lt(o,"link",s),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(l(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(s=t.instance,t.state.loading|=4,Wi(s,n.precedence,e));return t.instance}function Wi(e,t,n){for(var s=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=s.length?s[s.length-1]:null,d=o,y=0;y<s.length;y++){var b=s[y];if(b.dataset.precedence===t)d=b;else if(d!==o)break}d?d.parentNode.insertBefore(e,d.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Ku(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Pu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var el=null;function $0(e,t,n){if(el===null){var s=new Map,o=el=new Map;o.set(n,s)}else o=el,s=o.get(n),s||(s=new Map,o.set(n,s));if(s.has(e))return s;for(s.set(e,null),n=n.getElementsByTagName(e),o=0;o<n.length;o++){var d=n[o];if(!(d[qr]||d[at]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var y=d.getAttribute(t)||"";y=e+y;var b=s.get(y);b?b.push(d):s.set(y,[d])}}return s}function V0(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function Uv(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function G0(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Dv(e,t,n,s){if(n.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var o=hr(s.href),d=t.querySelector(_s(o));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=tl.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=d,tt(d);return}d=t.ownerDocument||t,s=q0(s),(o=Yt.get(o))&&Ku(s,o),d=d.createElement("link"),tt(d);var y=d;y._p=new Promise(function(b,S){y.onload=b,y.onerror=S}),lt(d,"link",s),n.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=tl.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var Qu=0;function Mv(e,t){return e.stylesheets&&e.count===0&&al(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var s=setTimeout(function(){if(e.stylesheets&&al(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+t);0<e.imgBytes&&Qu===0&&(Qu=62500*pv());var o=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&al(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>Qu?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(o)}}:null}function tl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)al(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var nl=null;function al(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,nl=new Map,t.forEach(Bv,e),nl=null,tl.call(e))}function Bv(e,t){if(!(t.state.loading&4)){var n=nl.get(e);if(n)var s=n.get(null);else{n=new Map,nl.set(e,n);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<o.length;d++){var y=o[d];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(n.set(y.dataset.precedence,y),s=y)}s&&n.set(null,s)}o=t.instance,y=o.getAttribute("data-precedence"),d=n.get(y)||s,d===s&&n.set(null,o),n.set(y,o),this.count++,s=tl.bind(this),o.addEventListener("load",s),o.addEventListener("error",s),d?d.parentNode.insertBefore(o,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var js={$$typeof:C,Provider:null,Consumer:null,_currentValue:Y,_currentValue2:Y,_threadCount:0};function Lv(e,t,n,s,o,d,y,b,S){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=$l(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$l(0),this.hiddenUpdates=$l(null),this.identifierPrefix=s,this.onUncaughtError=o,this.onCaughtError=d,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function Y0(e,t,n,s,o,d,y,b,S,M,H,V){return e=new Lv(e,t,n,y,S,M,H,V,b),t=1,d===!0&&(t|=24),d=Et(3,null,null,t),e.current=d,d.stateNode=e,t=To(),t.refCount++,e.pooledCache=t,t.refCount++,d.memoizedState={element:s,isDehydrated:n,cache:t},Ro(d),e}function K0(e){return e?(e=Ya,e):Ya}function P0(e,t,n,s,o,d){o=K0(o),s.context===null?s.context=o:s.pendingContext=o,s=Mn(t),s.payload={element:n},d=d===void 0?null:d,d!==null&&(s.callback=d),n=Bn(e,s,t),n!==null&&(xt(n,e,t),ns(n,e,t))}function Q0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ju(e,t){Q0(e,t),(e=e.alternate)&&Q0(e,t)}function J0(e){if(e.tag===13||e.tag===31){var t=da(e,67108864);t!==null&&xt(t,e,67108864),Ju(e,67108864)}}function X0(e){if(e.tag===13||e.tag===31){var t=Rt();t=Vl(t);var n=da(e,t);n!==null&&xt(n,e,t),Ju(e,t)}}var rl=!0;function qv(e,t,n,s){var o=A.T;A.T=null;var d=q.p;try{q.p=2,Xu(e,t,n,s)}finally{q.p=d,A.T=o}}function Hv(e,t,n,s){var o=A.T;A.T=null;var d=q.p;try{q.p=8,Xu(e,t,n,s)}finally{q.p=d,A.T=o}}function Xu(e,t,n,s){if(rl){var o=Iu(s);if(o===null)Du(e,t,s,sl,n),Z0(e,s);else if(Vv(o,e,t,n,s))s.stopPropagation();else if(Z0(e,s),t&4&&-1<$v.indexOf(e)){for(;o!==null;){var d=za(o);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var y=ia(d.pendingLanes);if(y!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;y;){var S=1<<31-St(y);b.entanglements[1]|=S,y&=~S}nn(d),(Te&6)===0&&($i=wt()+500,vs(0))}}break;case 31:case 13:b=da(d,2),b!==null&&xt(b,d,2),Gi(),Ju(d,2)}if(d=Iu(s),d===null&&Du(e,t,s,sl,n),d===o)break;o=d}o!==null&&s.stopPropagation()}else Du(e,t,s,null,n)}}function Iu(e){return e=Zl(e),Zu(e)}var sl=null;function Zu(e){if(sl=null,e=ka(e),e!==null){var t=c(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=h(t),e!==null)return e;e=null}else if(n===31){if(e=m(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return sl=e,null}function I0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Tp()){case ad:return 2;case rd:return 8;case Js:case Np:return 32;case sd:return 268435456;default:return 32}default:return 32}}var Fu=!1,Jn=null,Xn=null,In=null,Es=new Map,Ts=new Map,Zn=[],$v="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Z0(e,t){switch(e){case"focusin":case"focusout":Jn=null;break;case"dragenter":case"dragleave":Xn=null;break;case"mouseover":case"mouseout":In=null;break;case"pointerover":case"pointerout":Es.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ts.delete(t.pointerId)}}function Ns(e,t,n,s,o,d){return e===null||e.nativeEvent!==d?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:d,targetContainers:[o]},t!==null&&(t=za(t),t!==null&&J0(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function Vv(e,t,n,s,o){switch(t){case"focusin":return Jn=Ns(Jn,e,t,n,s,o),!0;case"dragenter":return Xn=Ns(Xn,e,t,n,s,o),!0;case"mouseover":return In=Ns(In,e,t,n,s,o),!0;case"pointerover":var d=o.pointerId;return Es.set(d,Ns(Es.get(d)||null,e,t,n,s,o)),!0;case"gotpointercapture":return d=o.pointerId,Ts.set(d,Ns(Ts.get(d)||null,e,t,n,s,o)),!0}return!1}function F0(e){var t=ka(e.target);if(t!==null){var n=c(t);if(n!==null){if(t=n.tag,t===13){if(t=h(n),t!==null){e.blockedOn=t,dd(e.priority,function(){X0(n)});return}}else if(t===31){if(t=m(n),t!==null){e.blockedOn=t,dd(e.priority,function(){X0(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function il(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Iu(e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);Il=s,n.target.dispatchEvent(s),Il=null}else return t=za(n),t!==null&&J0(t),e.blockedOn=n,!1;t.shift()}return!0}function W0(e,t,n){il(e)&&n.delete(t)}function Gv(){Fu=!1,Jn!==null&&il(Jn)&&(Jn=null),Xn!==null&&il(Xn)&&(Xn=null),In!==null&&il(In)&&(In=null),Es.forEach(W0),Ts.forEach(W0)}function ll(e,t){e.blockedOn===t&&(e.blockedOn=null,Fu||(Fu=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Gv)))}var ol=null;function em(e){ol!==e&&(ol=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){ol===e&&(ol=null);for(var t=0;t<e.length;t+=3){var n=e[t],s=e[t+1],o=e[t+2];if(typeof s!="function"){if(Zu(s||n)===null)continue;break}var d=za(n);d!==null&&(e.splice(t,3),t-=3,Io(d,{pending:!0,data:o,method:n.method,action:s},s,o))}}))}function mr(e){function t(S){return ll(S,e)}Jn!==null&&ll(Jn,e),Xn!==null&&ll(Xn,e),In!==null&&ll(In,e),Es.forEach(t),Ts.forEach(t);for(var n=0;n<Zn.length;n++){var s=Zn[n];s.blockedOn===e&&(s.blockedOn=null)}for(;0<Zn.length&&(n=Zn[0],n.blockedOn===null);)F0(n),n.blockedOn===null&&Zn.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(s=0;s<n.length;s+=3){var o=n[s],d=n[s+1],y=o[mt]||null;if(typeof d=="function")y||em(n);else if(y){var b=null;if(d&&d.hasAttribute("formAction")){if(o=d,y=d[mt]||null)b=y.formAction;else if(Zu(o)!==null)continue}else b=y.action;typeof b=="function"?n[s+1]=b:(n.splice(s,3),s-=3),em(n)}}}function tm(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(y){return o=y})},focusReset:"manual",scroll:"manual"})}function t(){o!==null&&(o(),o=null),s||setTimeout(n,20)}function n(){if(!s&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,o=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),o!==null&&(o(),o=null)}}}function Wu(e){this._internalRoot=e}ul.prototype.render=Wu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(l(409));var n=t.current,s=Rt();P0(n,s,e,t,null,null)},ul.prototype.unmount=Wu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;P0(e.current,2,null,e,null,null),Gi(),t[Ca]=null}};function ul(e){this._internalRoot=e}ul.prototype.unstable_scheduleHydration=function(e){if(e){var t=cd();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Zn.length&&t!==0&&t<Zn[n].priority;n++);Zn.splice(n,0,e),n===0&&F0(e)}};var nm=a.version;if(nm!=="19.2.0")throw Error(l(527,nm,"19.2.0"));q.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=p(t),e=e!==null?x(e):null,e=e===null?null:e.stateNode,e};var Yv={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:A,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cl.isDisabled&&cl.supportsFiber)try{Mr=cl.inject(Yv),_t=cl}catch{}}return As.createRoot=function(e,t){if(!u(e))throw Error(l(299));var n=!1,s="",o=uf,d=cf,y=df;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(d=t.onCaughtError),t.onRecoverableError!==void 0&&(y=t.onRecoverableError)),t=Y0(e,1,!1,null,null,n,s,null,o,d,y,tm),e[Ca]=t.current,Uu(e),new Wu(t)},As.hydrateRoot=function(e,t,n){if(!u(e))throw Error(l(299));var s=!1,o="",d=uf,y=cf,b=df,S=null;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(d=n.onUncaughtError),n.onCaughtError!==void 0&&(y=n.onCaughtError),n.onRecoverableError!==void 0&&(b=n.onRecoverableError),n.formState!==void 0&&(S=n.formState)),t=Y0(e,1,!0,t,n??null,s,o,S,d,y,b,tm),t.context=K0(null),n=t.current,s=Rt(),s=Vl(s),o=Mn(s),o.callback=null,Bn(n,o,s),n=s,t.current.lanes=n,Lr(t,n),nn(t),e[Ca]=t.current,Uu(e),new ul(t)},As.version="19.2.0",As}var hm;function nb(){if(hm)return nc.exports;hm=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(a){console.error(a)}}return i(),nc.exports=tb(),nc.exports}var ab=nb();var fm="popstate";function rb(i={}){function a(l,u){let{pathname:c,search:h,hash:m}=l.location;return xc("",{pathname:c,search:h,hash:m},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function r(l,u){return typeof u=="string"?u:Bs(u)}return ib(a,r,null,i)}function Ve(i,a){if(i===!1||i===null||typeof i>"u")throw new Error(a)}function Zt(i,a){if(!i){typeof console<"u"&&console.warn(a);try{throw new Error(a)}catch{}}}function sb(){return Math.random().toString(36).substring(2,10)}function mm(i,a){return{usr:i.state,key:i.key,idx:a}}function xc(i,a,r=null,l){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof a=="string"?Rr(a):a,state:r,key:a&&a.key||l||sb()}}function Bs({pathname:i="/",search:a="",hash:r=""}){return a&&a!=="?"&&(i+=a.charAt(0)==="?"?a:"?"+a),r&&r!=="#"&&(i+=r.charAt(0)==="#"?r:"#"+r),i}function Rr(i){let a={};if(i){let r=i.indexOf("#");r>=0&&(a.hash=i.substring(r),i=i.substring(0,r));let l=i.indexOf("?");l>=0&&(a.search=i.substring(l),i=i.substring(0,l)),i&&(a.pathname=i)}return a}function ib(i,a,r,l={}){let{window:u=document.defaultView,v5Compat:c=!1}=l,h=u.history,m="POP",g=null,p=x();p==null&&(p=0,h.replaceState({...h.state,idx:p},""));function x(){return(h.state||{idx:null}).idx}function v(){m="POP";let T=x(),k=T==null?null:T-p;p=T,g&&g({action:m,location:O.location,delta:k})}function w(T,k){m="PUSH";let z=xc(O.location,T,k);p=x()+1;let C=mm(z,p),K=O.createHref(z);try{h.pushState(C,"",K)}catch(W){if(W instanceof DOMException&&W.name==="DataCloneError")throw W;u.location.assign(K)}c&&g&&g({action:m,location:O.location,delta:1})}function _(T,k){m="REPLACE";let z=xc(O.location,T,k);p=x();let C=mm(z,p),K=O.createHref(z);h.replaceState(C,"",K),c&&g&&g({action:m,location:O.location,delta:0})}function j(T){return lb(T)}let O={get action(){return m},get location(){return i(u,h)},listen(T){if(g)throw new Error("A history only accepts one active listener");return u.addEventListener(fm,v),g=T,()=>{u.removeEventListener(fm,v),g=null}},createHref(T){return a(u,T)},createURL:j,encodeLocation(T){let k=j(T);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:w,replace:_,go(T){return h.go(T)}};return O}function lb(i,a=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Ve(r,"No window.location.(origin|href) available to create URL");let l=typeof i=="string"?i:Bs(i);return l=l.replace(/ $/,"%20"),!a&&l.startsWith("//")&&(l=r+l),new URL(l,r)}function Wm(i,a,r="/"){return ob(i,a,r,!1)}function ob(i,a,r,l){let u=typeof a=="string"?Rr(a):a,c=Tn(u.pathname||"/",r);if(c==null)return null;let h=eg(i);ub(h);let m=null;for(let g=0;m==null&&g<h.length;++g){let p=xb(c);m=vb(h[g],p,l)}return m}function eg(i,a=[],r=[],l="",u=!1){let c=(h,m,g=u,p)=>{let x={relativePath:p===void 0?h.path||"":p,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};if(x.relativePath.startsWith("/")){if(!x.relativePath.startsWith(l)&&g)return;Ve(x.relativePath.startsWith(l),`Absolute route path "${x.relativePath}" nested under path "${l}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),x.relativePath=x.relativePath.slice(l.length)}let v=En([l,x.relativePath]),w=r.concat(x);h.children&&h.children.length>0&&(Ve(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),eg(h.children,a,w,v,g)),!(h.path==null&&!h.index)&&a.push({path:v,score:pb(v,h.index),routesMeta:w})};return i.forEach((h,m)=>{if(h.path===""||!h.path?.includes("?"))c(h,m);else for(let g of tg(h.path))c(h,m,!0,g)}),a}function tg(i){let a=i.split("/");if(a.length===0)return[];let[r,...l]=a,u=r.endsWith("?"),c=r.replace(/\?$/,"");if(l.length===0)return u?[c,""]:[c];let h=tg(l.join("/")),m=[];return m.push(...h.map(g=>g===""?c:[c,g].join("/"))),u&&m.push(...h),m.map(g=>i.startsWith("/")&&g===""?"/":g)}function ub(i){i.sort((a,r)=>a.score!==r.score?r.score-a.score:yb(a.routesMeta.map(l=>l.childrenIndex),r.routesMeta.map(l=>l.childrenIndex)))}var cb=/^:[\w-]+$/,db=3,hb=2,fb=1,mb=10,gb=-2,gm=i=>i==="*";function pb(i,a){let r=i.split("/"),l=r.length;return r.some(gm)&&(l+=gb),a&&(l+=hb),r.filter(u=>!gm(u)).reduce((u,c)=>u+(cb.test(c)?db:c===""?fb:mb),l)}function yb(i,a){return i.length===a.length&&i.slice(0,-1).every((l,u)=>l===a[u])?i[i.length-1]-a[a.length-1]:0}function vb(i,a,r=!1){let{routesMeta:l}=i,u={},c="/",h=[];for(let m=0;m<l.length;++m){let g=l[m],p=m===l.length-1,x=c==="/"?a:a.slice(c.length)||"/",v=jl({path:g.relativePath,caseSensitive:g.caseSensitive,end:p},x),w=g.route;if(!v&&p&&r&&!l[l.length-1].route.index&&(v=jl({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},x)),!v)return null;Object.assign(u,v.params),h.push({params:u,pathname:En([c,v.pathname]),pathnameBase:Eb(En([c,v.pathnameBase])),route:w}),v.pathnameBase!=="/"&&(c=En([c,v.pathnameBase]))}return h}function jl(i,a){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[r,l]=bb(i.path,i.caseSensitive,i.end),u=a.match(r);if(!u)return null;let c=u[0],h=c.replace(/(.)\/+$/,"$1"),m=u.slice(1);return{params:l.reduce((p,{paramName:x,isOptional:v},w)=>{if(x==="*"){let j=m[w]||"";h=c.slice(0,c.length-j.length).replace(/(.)\/+$/,"$1")}const _=m[w];return v&&!_?p[x]=void 0:p[x]=(_||"").replace(/%2F/g,"/"),p},{}),pathname:c,pathnameBase:h,pattern:i}}function bb(i,a=!1,r=!0){Zt(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let l=[],u="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,g)=>(l.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(l.push({paramName:"*"}),u+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?u+="\\/*$":i!==""&&i!=="/"&&(u+="(?:(?=\\/|$))"),[new RegExp(u,a?void 0:"i"),l]}function xb(i){try{return i.split("/").map(a=>decodeURIComponent(a).replace(/\//g,"%2F")).join("/")}catch(a){return Zt(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${a}).`),i}}function Tn(i,a){if(a==="/")return i;if(!i.toLowerCase().startsWith(a.toLowerCase()))return null;let r=a.endsWith("/")?a.length-1:a.length,l=i.charAt(r);return l&&l!=="/"?null:i.slice(r)||"/"}var wb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_b=i=>wb.test(i);function Sb(i,a="/"){let{pathname:r,search:l="",hash:u=""}=typeof i=="string"?Rr(i):i,c;if(r)if(_b(r))c=r;else{if(r.includes("//")){let h=r;r=r.replace(/\/\/+/g,"/"),Zt(!1,`Pathnames cannot have embedded double slashes - normalizing ${h} -> ${r}`)}r.startsWith("/")?c=pm(r.substring(1),"/"):c=pm(r,a)}else c=a;return{pathname:c,search:Tb(l),hash:Nb(u)}}function pm(i,a){let r=a.replace(/\/+$/,"").split("/");return i.split("/").forEach(u=>{u===".."?r.length>1&&r.pop():u!=="."&&r.push(u)}),r.length>1?r.join("/"):"/"}function ic(i,a,r,l){return`Cannot include a '${i}' character in a manually specified \`to.${a}\` field [${JSON.stringify(l)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function jb(i){return i.filter((a,r)=>r===0||a.route.path&&a.route.path.length>0)}function ng(i){let a=jb(i);return a.map((r,l)=>l===a.length-1?r.pathname:r.pathnameBase)}function ag(i,a,r,l=!1){let u;typeof i=="string"?u=Rr(i):(u={...i},Ve(!u.pathname||!u.pathname.includes("?"),ic("?","pathname","search",u)),Ve(!u.pathname||!u.pathname.includes("#"),ic("#","pathname","hash",u)),Ve(!u.search||!u.search.includes("#"),ic("#","search","hash",u)));let c=i===""||u.pathname==="",h=c?"/":u.pathname,m;if(h==null)m=r;else{let v=a.length-1;if(!l&&h.startsWith("..")){let w=h.split("/");for(;w[0]==="..";)w.shift(),v-=1;u.pathname=w.join("/")}m=v>=0?a[v]:"/"}let g=Sb(u,m),p=h&&h!=="/"&&h.endsWith("/"),x=(c||h===".")&&r.endsWith("/");return!g.pathname.endsWith("/")&&(p||x)&&(g.pathname+="/"),g}var En=i=>i.join("/").replace(/\/\/+/g,"/"),Eb=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),Tb=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,Nb=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function Ob(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}function Ab(i){return i.map(a=>a.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var rg=["POST","PUT","PATCH","DELETE"];new Set(rg);var Rb=["GET",...rg];new Set(Rb);var Cr=U.createContext(null);Cr.displayName="DataRouter";var Rl=U.createContext(null);Rl.displayName="DataRouterState";U.createContext(!1);var sg=U.createContext({isTransitioning:!1});sg.displayName="ViewTransition";var Cb=U.createContext(new Map);Cb.displayName="Fetchers";var kb=U.createContext(null);kb.displayName="Await";var Ft=U.createContext(null);Ft.displayName="Navigation";var Vs=U.createContext(null);Vs.displayName="Location";var Nn=U.createContext({outlet:null,matches:[],isDataRoute:!1});Nn.displayName="Route";var qc=U.createContext(null);qc.displayName="RouteError";function zb(i,{relative:a}={}){Ve(Gs(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:l}=U.useContext(Ft),{hash:u,pathname:c,search:h}=Ys(i,{relative:a}),m=c;return r!=="/"&&(m=c==="/"?r:En([r,c])),l.createHref({pathname:m,search:h,hash:u})}function Gs(){return U.useContext(Vs)!=null}function aa(){return Ve(Gs(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(Vs).location}var ig="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function lg(i){U.useContext(Ft).static||U.useLayoutEffect(i)}function Hc(){let{isDataRoute:i}=U.useContext(Nn);return i?Pb():Ub()}function Ub(){Ve(Gs(),"useNavigate() may be used only in the context of a <Router> component.");let i=U.useContext(Cr),{basename:a,navigator:r}=U.useContext(Ft),{matches:l}=U.useContext(Nn),{pathname:u}=aa(),c=JSON.stringify(ng(l)),h=U.useRef(!1);return lg(()=>{h.current=!0}),U.useCallback((g,p={})=>{if(Zt(h.current,ig),!h.current)return;if(typeof g=="number"){r.go(g);return}let x=ag(g,JSON.parse(c),u,p.relative==="path");i==null&&a!=="/"&&(x.pathname=x.pathname==="/"?a:En([a,x.pathname])),(p.replace?r.replace:r.push)(x,p.state,p)},[a,r,c,u,i])}U.createContext(null);function Ys(i,{relative:a}={}){let{matches:r}=U.useContext(Nn),{pathname:l}=aa(),u=JSON.stringify(ng(r));return U.useMemo(()=>ag(i,JSON.parse(u),l,a==="path"),[i,u,l,a])}function Db(i,a){return og(i,a)}function og(i,a,r,l,u){Ve(Gs(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=U.useContext(Ft),{matches:h}=U.useContext(Nn),m=h[h.length-1],g=m?m.params:{},p=m?m.pathname:"/",x=m?m.pathnameBase:"/",v=m&&m.route;{let z=v&&v.path||"";ug(p,!v||z.endsWith("*")||z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${z}"> to <Route path="${z==="/"?"*":`${z}/*`}">.`)}let w=aa(),_;if(a){let z=typeof a=="string"?Rr(a):a;Ve(x==="/"||z.pathname?.startsWith(x),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${x}" but pathname "${z.pathname}" was given in the \`location\` prop.`),_=z}else _=w;let j=_.pathname||"/",O=j;if(x!=="/"){let z=x.replace(/^\//,"").split("/");O="/"+j.replace(/^\//,"").split("/").slice(z.length).join("/")}let T=Wm(i,{pathname:O});Zt(v||T!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),Zt(T==null||T[T.length-1].route.element!==void 0||T[T.length-1].route.Component!==void 0||T[T.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=Hb(T&&T.map(z=>Object.assign({},z,{params:Object.assign({},g,z.params),pathname:En([x,c.encodeLocation?c.encodeLocation(z.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:z.pathname]),pathnameBase:z.pathnameBase==="/"?x:En([x,c.encodeLocation?c.encodeLocation(z.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:z.pathnameBase])})),h,r,l,u);return a&&k?U.createElement(Vs.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},k):k}function Mb(){let i=Kb(),a=Ob(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),r=i instanceof Error?i.stack:null,l="rgba(200,200,200, 0.5)",u={padding:"0.5rem",backgroundColor:l},c={padding:"2px 4px",backgroundColor:l},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=U.createElement(U.Fragment,null,U.createElement("p",null," Hey developer "),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:c},"ErrorBoundary")," or"," ",U.createElement("code",{style:c},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},a),r?U.createElement("pre",{style:u},r):null,h)}var Bb=U.createElement(Mb,null),Lb=class extends U.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,a){return a.location!==i.location||a.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:a.error,location:a.location,revalidation:i.revalidation||a.revalidation}}componentDidCatch(i,a){this.props.onError?this.props.onError(i,a):console.error("React Router caught the following error during render",i)}render(){return this.state.error!==void 0?U.createElement(Nn.Provider,{value:this.props.routeContext},U.createElement(qc.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function qb({routeContext:i,match:a,children:r}){let l=U.useContext(Cr);return l&&l.static&&l.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=a.route.id),U.createElement(Nn.Provider,{value:i},r)}function Hb(i,a=[],r=null,l=null,u=null){if(i==null){if(!r)return null;if(r.errors)i=r.matches;else if(a.length===0&&!r.initialized&&r.matches.length>0)i=r.matches;else return null}let c=i,h=r?.errors;if(h!=null){let x=c.findIndex(v=>v.route.id&&h?.[v.route.id]!==void 0);Ve(x>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),c=c.slice(0,Math.min(c.length,x+1))}let m=!1,g=-1;if(r)for(let x=0;x<c.length;x++){let v=c[x];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(g=x),v.route.id){let{loaderData:w,errors:_}=r,j=v.route.loader&&!w.hasOwnProperty(v.route.id)&&(!_||_[v.route.id]===void 0);if(v.route.lazy||j){m=!0,g>=0?c=c.slice(0,g+1):c=[c[0]];break}}}let p=r&&l?(x,v)=>{l(x,{location:r.location,params:r.matches?.[0]?.params??{},unstable_pattern:Ab(r.matches),errorInfo:v})}:void 0;return c.reduceRight((x,v,w)=>{let _,j=!1,O=null,T=null;r&&(_=h&&v.route.id?h[v.route.id]:void 0,O=v.route.errorElement||Bb,m&&(g<0&&w===0?(ug("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),j=!0,T=null):g===w&&(j=!0,T=v.route.hydrateFallbackElement||null)));let k=a.concat(c.slice(0,w+1)),z=()=>{let C;return _?C=O:j?C=T:v.route.Component?C=U.createElement(v.route.Component,null):v.route.element?C=v.route.element:C=x,U.createElement(qb,{match:v,routeContext:{outlet:x,matches:k,isDataRoute:r!=null},children:C})};return r&&(v.route.ErrorBoundary||v.route.errorElement||w===0)?U.createElement(Lb,{location:r.location,revalidation:r.revalidation,component:O,error:_,children:z(),routeContext:{outlet:null,matches:k,isDataRoute:!0},onError:p}):z()},null)}function $c(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $b(i){let a=U.useContext(Cr);return Ve(a,$c(i)),a}function Vb(i){let a=U.useContext(Rl);return Ve(a,$c(i)),a}function Gb(i){let a=U.useContext(Nn);return Ve(a,$c(i)),a}function Vc(i){let a=Gb(i),r=a.matches[a.matches.length-1];return Ve(r.route.id,`${i} can only be used on routes that contain a unique "id"`),r.route.id}function Yb(){return Vc("useRouteId")}function Kb(){let i=U.useContext(qc),a=Vb("useRouteError"),r=Vc("useRouteError");return i!==void 0?i:a.errors?.[r]}function Pb(){let{router:i}=$b("useNavigate"),a=Vc("useNavigate"),r=U.useRef(!1);return lg(()=>{r.current=!0}),U.useCallback(async(u,c={})=>{Zt(r.current,ig),r.current&&(typeof u=="number"?await i.navigate(u):await i.navigate(u,{fromRouteId:a,...c}))},[i,a])}var ym={};function ug(i,a,r){!a&&!ym[i]&&(ym[i]=!0,Zt(!1,r))}U.memo(Qb);function Qb({routes:i,future:a,state:r,unstable_onError:l}){return og(i,void 0,r,l,a)}function wr(i){Ve(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Jb({basename:i="/",children:a=null,location:r,navigationType:l="POP",navigator:u,static:c=!1,unstable_useTransitions:h}){Ve(!Gs(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=i.replace(/^\/*/,"/"),g=U.useMemo(()=>({basename:m,navigator:u,static:c,unstable_useTransitions:h,future:{}}),[m,u,c,h]);typeof r=="string"&&(r=Rr(r));let{pathname:p="/",search:x="",hash:v="",state:w=null,key:_="default"}=r,j=U.useMemo(()=>{let O=Tn(p,m);return O==null?null:{location:{pathname:O,search:x,hash:v,state:w,key:_},navigationType:l}},[m,p,x,v,w,_,l]);return Zt(j!=null,`<Router basename="${m}"> is not able to match the URL "${p}${x}${v}" because it does not start with the basename, so the <Router> won't render anything.`),j==null?null:U.createElement(Ft.Provider,{value:g},U.createElement(Vs.Provider,{children:a,value:j}))}function Xb({children:i,location:a}){return Db(wc(i),a)}function wc(i,a=[]){let r=[];return U.Children.forEach(i,(l,u)=>{if(!U.isValidElement(l))return;let c=[...a,u];if(l.type===U.Fragment){r.push.apply(r,wc(l.props.children,c));return}Ve(l.type===wr,`[${typeof l.type=="string"?l.type:l.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ve(!l.props.index||!l.props.children,"An index route cannot have child routes.");let h={id:l.props.id||c.join("-"),caseSensitive:l.props.caseSensitive,element:l.props.element,Component:l.props.Component,index:l.props.index,path:l.props.path,middleware:l.props.middleware,loader:l.props.loader,action:l.props.action,hydrateFallbackElement:l.props.hydrateFallbackElement,HydrateFallback:l.props.HydrateFallback,errorElement:l.props.errorElement,ErrorBoundary:l.props.ErrorBoundary,hasErrorBoundary:l.props.hasErrorBoundary===!0||l.props.ErrorBoundary!=null||l.props.errorElement!=null,shouldRevalidate:l.props.shouldRevalidate,handle:l.props.handle,lazy:l.props.lazy};l.props.children&&(h.children=wc(l.props.children,c)),r.push(h)}),r}var _l="get",Sl="application/x-www-form-urlencoded";function Cl(i){return typeof HTMLElement<"u"&&i instanceof HTMLElement}function Ib(i){return Cl(i)&&i.tagName.toLowerCase()==="button"}function Zb(i){return Cl(i)&&i.tagName.toLowerCase()==="form"}function Fb(i){return Cl(i)&&i.tagName.toLowerCase()==="input"}function Wb(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function ex(i,a){return i.button===0&&(!a||a==="_self")&&!Wb(i)}var dl=null;function tx(){if(dl===null)try{new FormData(document.createElement("form"),0),dl=!1}catch{dl=!0}return dl}var nx=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function lc(i){return i!=null&&!nx.has(i)?(Zt(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Sl}"`),null):i}function ax(i,a){let r,l,u,c,h;if(Zb(i)){let m=i.getAttribute("action");l=m?Tn(m,a):null,r=i.getAttribute("method")||_l,u=lc(i.getAttribute("enctype"))||Sl,c=new FormData(i)}else if(Ib(i)||Fb(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=i.getAttribute("formaction")||m.getAttribute("action");if(l=g?Tn(g,a):null,r=i.getAttribute("formmethod")||m.getAttribute("method")||_l,u=lc(i.getAttribute("formenctype"))||lc(m.getAttribute("enctype"))||Sl,c=new FormData(m,i),!tx()){let{name:p,type:x,value:v}=i;if(x==="image"){let w=p?`${p}.`:"";c.append(`${w}x`,"0"),c.append(`${w}y`,"0")}else p&&c.append(p,v)}}else{if(Cl(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=_l,l=null,u=Sl,h=i}return c&&u==="text/plain"&&(h=c,c=void 0),{action:l,method:r.toLowerCase(),encType:u,formData:c,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Gc(i,a){if(i===!1||i===null||typeof i>"u")throw new Error(a)}function rx(i,a,r){let l=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return l.pathname==="/"?l.pathname=`_root.${r}`:a&&Tn(l.pathname,a)==="/"?l.pathname=`${a.replace(/\/$/,"")}/_root.${r}`:l.pathname=`${l.pathname.replace(/\/$/,"")}.${r}`,l}async function sx(i,a){if(i.id in a)return a[i.id];try{let r=await import(i.module);return a[i.id]=r,r}catch(r){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ix(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function lx(i,a,r){let l=await Promise.all(i.map(async u=>{let c=a.routes[u.route.id];if(c){let h=await sx(c,r);return h.links?h.links():[]}return[]}));return dx(l.flat(1).filter(ix).filter(u=>u.rel==="stylesheet"||u.rel==="preload").map(u=>u.rel==="stylesheet"?{...u,rel:"prefetch",as:"style"}:{...u,rel:"prefetch"}))}function vm(i,a,r,l,u,c){let h=(g,p)=>r[p]?g.route.id!==r[p].route.id:!0,m=(g,p)=>r[p].pathname!==g.pathname||r[p].route.path?.endsWith("*")&&r[p].params["*"]!==g.params["*"];return c==="assets"?a.filter((g,p)=>h(g,p)||m(g,p)):c==="data"?a.filter((g,p)=>{let x=l.routes[g.route.id];if(!x||!x.hasLoader)return!1;if(h(g,p)||m(g,p))return!0;if(g.route.shouldRevalidate){let v=g.route.shouldRevalidate({currentUrl:new URL(u.pathname+u.search+u.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function ox(i,a,{includeHydrateFallback:r}={}){return ux(i.map(l=>{let u=a.routes[l.route.id];if(!u)return[];let c=[u.module];return u.clientActionModule&&(c=c.concat(u.clientActionModule)),u.clientLoaderModule&&(c=c.concat(u.clientLoaderModule)),r&&u.hydrateFallbackModule&&(c=c.concat(u.hydrateFallbackModule)),u.imports&&(c=c.concat(u.imports)),c}).flat(1))}function ux(i){return[...new Set(i)]}function cx(i){let a={},r=Object.keys(i).sort();for(let l of r)a[l]=i[l];return a}function dx(i,a){let r=new Set;return new Set(a),i.reduce((l,u)=>{let c=JSON.stringify(cx(u));return r.has(c)||(r.add(c),l.push({key:c,link:u})),l},[])}function cg(){let i=U.useContext(Cr);return Gc(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function hx(){let i=U.useContext(Rl);return Gc(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Yc=U.createContext(void 0);Yc.displayName="FrameworkContext";function dg(){let i=U.useContext(Yc);return Gc(i,"You must render this element inside a <HydratedRouter> element"),i}function fx(i,a){let r=U.useContext(Yc),[l,u]=U.useState(!1),[c,h]=U.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:p,onMouseLeave:x,onTouchStart:v}=a,w=U.useRef(null);U.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let O=k=>{k.forEach(z=>{h(z.isIntersecting)})},T=new IntersectionObserver(O,{threshold:.5});return w.current&&T.observe(w.current),()=>{T.disconnect()}}},[i]),U.useEffect(()=>{if(l){let O=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(O)}}},[l]);let _=()=>{u(!0)},j=()=>{u(!1),h(!1)};return r?i!=="intent"?[c,w,{}]:[c,w,{onFocus:Rs(m,_),onBlur:Rs(g,j),onMouseEnter:Rs(p,_),onMouseLeave:Rs(x,j),onTouchStart:Rs(v,_)}]:[!1,w,{}]}function Rs(i,a){return r=>{i&&i(r),r.defaultPrevented||a(r)}}function mx({page:i,...a}){let{router:r}=cg(),l=U.useMemo(()=>Wm(r.routes,i,r.basename),[r.routes,i,r.basename]);return l?U.createElement(px,{page:i,matches:l,...a}):null}function gx(i){let{manifest:a,routeModules:r}=dg(),[l,u]=U.useState([]);return U.useEffect(()=>{let c=!1;return lx(i,a,r).then(h=>{c||u(h)}),()=>{c=!0}},[i,a,r]),l}function px({page:i,matches:a,...r}){let l=aa(),{manifest:u,routeModules:c}=dg(),{basename:h}=cg(),{loaderData:m,matches:g}=hx(),p=U.useMemo(()=>vm(i,a,g,u,l,"data"),[i,a,g,u,l]),x=U.useMemo(()=>vm(i,a,g,u,l,"assets"),[i,a,g,u,l]),v=U.useMemo(()=>{if(i===l.pathname+l.search+l.hash)return[];let j=new Set,O=!1;if(a.forEach(k=>{let z=u.routes[k.route.id];!z||!z.hasLoader||(!p.some(C=>C.route.id===k.route.id)&&k.route.id in m&&c[k.route.id]?.shouldRevalidate||z.hasClientLoader?O=!0:j.add(k.route.id))}),j.size===0)return[];let T=rx(i,h,"data");return O&&j.size>0&&T.searchParams.set("_routes",a.filter(k=>j.has(k.route.id)).map(k=>k.route.id).join(",")),[T.pathname+T.search]},[h,m,l,u,p,a,i,c]),w=U.useMemo(()=>ox(x,u),[x,u]),_=gx(x);return U.createElement(U.Fragment,null,v.map(j=>U.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...r})),w.map(j=>U.createElement("link",{key:j,rel:"modulepreload",href:j,...r})),_.map(({key:j,link:O})=>U.createElement("link",{key:j,nonce:r.nonce,...O})))}function yx(...i){return a=>{i.forEach(r=>{typeof r=="function"?r(a):r!=null&&(r.current=a)})}}var hg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{hg&&(window.__reactRouterVersion="7.10.0")}catch{}function vx({basename:i,children:a,unstable_useTransitions:r,window:l}){let u=U.useRef();u.current==null&&(u.current=rb({window:l,v5Compat:!0}));let c=u.current,[h,m]=U.useState({action:c.action,location:c.location}),g=U.useCallback(p=>{r===!1?m(p):U.startTransition(()=>m(p))},[r]);return U.useLayoutEffect(()=>c.listen(g),[c,g]),U.createElement(Jb,{basename:i,children:a,location:h.location,navigationType:h.action,navigator:c,unstable_useTransitions:r===!0})}var fg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mg=U.forwardRef(function({onClick:a,discover:r="render",prefetch:l="none",relative:u,reloadDocument:c,replace:h,state:m,target:g,to:p,preventScrollReset:x,viewTransition:v,...w},_){let{basename:j,unstable_useTransitions:O}=U.useContext(Ft),T=typeof p=="string"&&fg.test(p),k,z=!1;if(typeof p=="string"&&T&&(k=p,hg))try{let ce=new URL(window.location.href),Se=p.startsWith("//")?new URL(ce.protocol+p):new URL(p),de=Tn(Se.pathname,j);Se.origin===ce.origin&&de!=null?p=de+Se.search+Se.hash:z=!0}catch{Zt(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let C=zb(p,{relative:u}),[K,W,J]=fx(l,w),P=_x(p,{replace:h,state:m,target:g,preventScrollReset:x,relative:u,viewTransition:v,unstable_useTransitions:O});function ye(ce){a&&a(ce),ce.defaultPrevented||P(ce)}let ne=U.createElement("a",{...w,...J,href:k||C,onClick:z||c?a:ye,ref:yx(_,W),target:g,"data-discover":!T&&r==="render"?"true":void 0});return K&&!T?U.createElement(U.Fragment,null,ne,U.createElement(mx,{page:C})):ne});mg.displayName="Link";var bx=U.forwardRef(function({"aria-current":a="page",caseSensitive:r=!1,className:l="",end:u=!1,style:c,to:h,viewTransition:m,children:g,...p},x){let v=Ys(h,{relative:p.relative}),w=aa(),_=U.useContext(Rl),{navigator:j,basename:O}=U.useContext(Ft),T=_!=null&&Nx(v)&&m===!0,k=j.encodeLocation?j.encodeLocation(v).pathname:v.pathname,z=w.pathname,C=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;r||(z=z.toLowerCase(),C=C?C.toLowerCase():null,k=k.toLowerCase()),C&&O&&(C=Tn(C,O)||C);const K=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let W=z===k||!u&&z.startsWith(k)&&z.charAt(K)==="/",J=C!=null&&(C===k||!u&&C.startsWith(k)&&C.charAt(k.length)==="/"),P={isActive:W,isPending:J,isTransitioning:T},ye=W?a:void 0,ne;typeof l=="function"?ne=l(P):ne=[l,W?"active":null,J?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let ce=typeof c=="function"?c(P):c;return U.createElement(mg,{...p,"aria-current":ye,className:ne,ref:x,style:ce,to:h,viewTransition:m},typeof g=="function"?g(P):g)});bx.displayName="NavLink";var xx=U.forwardRef(({discover:i="render",fetcherKey:a,navigate:r,reloadDocument:l,replace:u,state:c,method:h=_l,action:m,onSubmit:g,relative:p,preventScrollReset:x,viewTransition:v,...w},_)=>{let{unstable_useTransitions:j}=U.useContext(Ft),O=Ex(),T=Tx(m,{relative:p}),k=h.toLowerCase()==="get"?"get":"post",z=typeof m=="string"&&fg.test(m),C=K=>{if(g&&g(K),K.defaultPrevented)return;K.preventDefault();let W=K.nativeEvent.submitter,J=W?.getAttribute("formmethod")||h,P=()=>O(W||K.currentTarget,{fetcherKey:a,method:J,navigate:r,replace:u,state:c,relative:p,preventScrollReset:x,viewTransition:v});j&&r!==!1?U.startTransition(()=>P()):P()};return U.createElement("form",{ref:_,method:k,action:T,onSubmit:l?g:C,...w,"data-discover":!z&&i==="render"?"true":void 0})});xx.displayName="Form";function wx(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function gg(i){let a=U.useContext(Cr);return Ve(a,wx(i)),a}function _x(i,{target:a,replace:r,state:l,preventScrollReset:u,relative:c,viewTransition:h,unstable_useTransitions:m}={}){let g=Hc(),p=aa(),x=Ys(i,{relative:c});return U.useCallback(v=>{if(ex(v,a)){v.preventDefault();let w=r!==void 0?r:Bs(p)===Bs(x),_=()=>g(i,{replace:w,state:l,preventScrollReset:u,relative:c,viewTransition:h});m?U.startTransition(()=>_()):_()}},[p,g,x,r,l,a,i,u,c,h,m])}var Sx=0,jx=()=>`__${String(++Sx)}__`;function Ex(){let{router:i}=gg("useSubmit"),{basename:a}=U.useContext(Ft),r=Yb(),l=i.fetch,u=i.navigate;return U.useCallback(async(c,h={})=>{let{action:m,method:g,encType:p,formData:x,body:v}=ax(c,a);if(h.navigate===!1){let w=h.fetcherKey||jx();await l(w,r,h.action||m,{preventScrollReset:h.preventScrollReset,formData:x,body:v,formMethod:h.method||g,formEncType:h.encType||p,flushSync:h.flushSync})}else await u(h.action||m,{preventScrollReset:h.preventScrollReset,formData:x,body:v,formMethod:h.method||g,formEncType:h.encType||p,replace:h.replace,state:h.state,fromRouteId:r,flushSync:h.flushSync,viewTransition:h.viewTransition})},[l,u,a,r])}function Tx(i,{relative:a}={}){let{basename:r}=U.useContext(Ft),l=U.useContext(Nn);Ve(l,"useFormAction must be used inside a RouteContext");let[u]=l.matches.slice(-1),c={...Ys(i||".",{relative:a})},h=aa();if(i==null){c.search=h.search;let m=new URLSearchParams(c.search),g=m.getAll("index");if(g.some(x=>x==="")){m.delete("index"),g.filter(v=>v).forEach(v=>m.append("index",v));let x=m.toString();c.search=x?`?${x}`:""}}return(!i||i===".")&&u.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(c.pathname=c.pathname==="/"?r:En([r,c.pathname])),Bs(c)}function Nx(i,{relative:a}={}){let r=U.useContext(sg);Ve(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:l}=gg("useViewTransitionState"),u=Ys(i,{relative:a});if(!r.isTransitioning)return!1;let c=Tn(r.currentLocation.pathname,l)||r.currentLocation.pathname,h=Tn(r.nextLocation.pathname,l)||r.nextLocation.pathname;return jl(u.pathname,h)!=null||jl(u.pathname,c)!=null}var _c=function(i,a){return _c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,l){r.__proto__=l}||function(r,l){for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(r[u]=l[u])},_c(i,a)};function pg(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");_c(i,a);function r(){this.constructor=i}i.prototype=a===null?Object.create(a):(r.prototype=a.prototype,new r)}var El=function(){return El=Object.assign||function(a){for(var r,l=1,u=arguments.length;l<u;l++){r=arguments[l];for(var c in r)Object.prototype.hasOwnProperty.call(r,c)&&(a[c]=r[c])}return a},El.apply(this,arguments)};function kr(i,a){var r={};for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&a.indexOf(l)<0&&(r[l]=i[l]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,l=Object.getOwnPropertySymbols(i);u<l.length;u++)a.indexOf(l[u])<0&&Object.prototype.propertyIsEnumerable.call(i,l[u])&&(r[l[u]]=i[l[u]]);return r}function yg(i,a,r,l){var u=arguments.length,c=u<3?a:l===null?l=Object.getOwnPropertyDescriptor(a,r):l,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(i,a,r,l);else for(var m=i.length-1;m>=0;m--)(h=i[m])&&(c=(u<3?h(c):u>3?h(a,r,c):h(a,r))||c);return u>3&&c&&Object.defineProperty(a,r,c),c}function vg(i,a){return function(r,l){a(r,l,i)}}function bg(i,a,r,l,u,c){function h(k){if(k!==void 0&&typeof k!="function")throw new TypeError("Function expected");return k}for(var m=l.kind,g=m==="getter"?"get":m==="setter"?"set":"value",p=!a&&i?l.static?i:i.prototype:null,x=a||(p?Object.getOwnPropertyDescriptor(p,l.name):{}),v,w=!1,_=r.length-1;_>=0;_--){var j={};for(var O in l)j[O]=O==="access"?{}:l[O];for(var O in l.access)j.access[O]=l.access[O];j.addInitializer=function(k){if(w)throw new TypeError("Cannot add initializers after decoration has completed");c.push(h(k||null))};var T=(0,r[_])(m==="accessor"?{get:x.get,set:x.set}:x[g],j);if(m==="accessor"){if(T===void 0)continue;if(T===null||typeof T!="object")throw new TypeError("Object expected");(v=h(T.get))&&(x.get=v),(v=h(T.set))&&(x.set=v),(v=h(T.init))&&u.unshift(v)}else(v=h(T))&&(m==="field"?u.unshift(v):x[g]=v)}p&&Object.defineProperty(p,l.name,x),w=!0}function xg(i,a,r){for(var l=arguments.length>2,u=0;u<a.length;u++)r=l?a[u].call(i,r):a[u].call(i);return l?r:void 0}function wg(i){return typeof i=="symbol"?i:"".concat(i)}function _g(i,a,r){return typeof a=="symbol"&&(a=a.description?"[".concat(a.description,"]"):""),Object.defineProperty(i,"name",{configurable:!0,value:r?"".concat(r," ",a):a})}function Sg(i,a){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,a)}function F(i,a,r,l){function u(c){return c instanceof r?c:new r(function(h){h(c)})}return new(r||(r=Promise))(function(c,h){function m(x){try{p(l.next(x))}catch(v){h(v)}}function g(x){try{p(l.throw(x))}catch(v){h(v)}}function p(x){x.done?c(x.value):u(x.value).then(m,g)}p((l=l.apply(i,a||[])).next())})}function jg(i,a){var r={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},l,u,c,h=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return h.next=m(0),h.throw=m(1),h.return=m(2),typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function m(p){return function(x){return g([p,x])}}function g(p){if(l)throw new TypeError("Generator is already executing.");for(;h&&(h=0,p[0]&&(r=0)),r;)try{if(l=1,u&&(c=p[0]&2?u.return:p[0]?u.throw||((c=u.return)&&c.call(u),0):u.next)&&!(c=c.call(u,p[1])).done)return c;switch(u=0,c&&(p=[p[0]&2,c.value]),p[0]){case 0:case 1:c=p;break;case 4:return r.label++,{value:p[1],done:!1};case 5:r.label++,u=p[1],p=[0];continue;case 7:p=r.ops.pop(),r.trys.pop();continue;default:if(c=r.trys,!(c=c.length>0&&c[c.length-1])&&(p[0]===6||p[0]===2)){r=0;continue}if(p[0]===3&&(!c||p[1]>c[0]&&p[1]<c[3])){r.label=p[1];break}if(p[0]===6&&r.label<c[1]){r.label=c[1],c=p;break}if(c&&r.label<c[2]){r.label=c[2],r.ops.push(p);break}c[2]&&r.ops.pop(),r.trys.pop();continue}p=a.call(i,r)}catch(x){p=[6,x],u=0}finally{l=c=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}var kl=Object.create?(function(i,a,r,l){l===void 0&&(l=r);var u=Object.getOwnPropertyDescriptor(a,r);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[r]}}),Object.defineProperty(i,l,u)}):(function(i,a,r,l){l===void 0&&(l=r),i[l]=a[r]});function Eg(i,a){for(var r in i)r!=="default"&&!Object.prototype.hasOwnProperty.call(a,r)&&kl(a,i,r)}function Tl(i){var a=typeof Symbol=="function"&&Symbol.iterator,r=a&&i[a],l=0;if(r)return r.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&l>=i.length&&(i=void 0),{value:i&&i[l++],done:!i}}};throw new TypeError(a?"Object is not iterable.":"Symbol.iterator is not defined.")}function Kc(i,a){var r=typeof Symbol=="function"&&i[Symbol.iterator];if(!r)return i;var l=r.call(i),u,c=[],h;try{for(;(a===void 0||a-- >0)&&!(u=l.next()).done;)c.push(u.value)}catch(m){h={error:m}}finally{try{u&&!u.done&&(r=l.return)&&r.call(l)}finally{if(h)throw h.error}}return c}function Tg(){for(var i=[],a=0;a<arguments.length;a++)i=i.concat(Kc(arguments[a]));return i}function Ng(){for(var i=0,a=0,r=arguments.length;a<r;a++)i+=arguments[a].length;for(var l=Array(i),u=0,a=0;a<r;a++)for(var c=arguments[a],h=0,m=c.length;h<m;h++,u++)l[u]=c[h];return l}function Og(i,a,r){if(r||arguments.length===2)for(var l=0,u=a.length,c;l<u;l++)(c||!(l in a))&&(c||(c=Array.prototype.slice.call(a,0,l)),c[l]=a[l]);return i.concat(c||Array.prototype.slice.call(a))}function Nr(i){return this instanceof Nr?(this.v=i,this):new Nr(i)}function Ag(i,a,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l=r.apply(i,a||[]),u,c=[];return u=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),m("next"),m("throw"),m("return",h),u[Symbol.asyncIterator]=function(){return this},u;function h(_){return function(j){return Promise.resolve(j).then(_,v)}}function m(_,j){l[_]&&(u[_]=function(O){return new Promise(function(T,k){c.push([_,O,T,k])>1||g(_,O)})},j&&(u[_]=j(u[_])))}function g(_,j){try{p(l[_](j))}catch(O){w(c[0][3],O)}}function p(_){_.value instanceof Nr?Promise.resolve(_.value.v).then(x,v):w(c[0][2],_)}function x(_){g("next",_)}function v(_){g("throw",_)}function w(_,j){_(j),c.shift(),c.length&&g(c[0][0],c[0][1])}}function Rg(i){var a,r;return a={},l("next"),l("throw",function(u){throw u}),l("return"),a[Symbol.iterator]=function(){return this},a;function l(u,c){a[u]=i[u]?function(h){return(r=!r)?{value:Nr(i[u](h)),done:!1}:c?c(h):h}:c}}function Cg(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=i[Symbol.asyncIterator],r;return a?a.call(i):(i=typeof Tl=="function"?Tl(i):i[Symbol.iterator](),r={},l("next"),l("throw"),l("return"),r[Symbol.asyncIterator]=function(){return this},r);function l(c){r[c]=i[c]&&function(h){return new Promise(function(m,g){h=i[c](h),u(m,g,h.done,h.value)})}}function u(c,h,m,g){Promise.resolve(g).then(function(p){c({value:p,done:m})},h)}}function kg(i,a){return Object.defineProperty?Object.defineProperty(i,"raw",{value:a}):i.raw=a,i}var Ox=Object.create?(function(i,a){Object.defineProperty(i,"default",{enumerable:!0,value:a})}):function(i,a){i.default=a},Sc=function(i){return Sc=Object.getOwnPropertyNames||function(a){var r=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(r[r.length]=l);return r},Sc(i)};function zg(i){if(i&&i.__esModule)return i;var a={};if(i!=null)for(var r=Sc(i),l=0;l<r.length;l++)r[l]!=="default"&&kl(a,i,r[l]);return Ox(a,i),a}function Ug(i){return i&&i.__esModule?i:{default:i}}function Dg(i,a,r,l){if(r==="a"&&!l)throw new TypeError("Private accessor was defined without a getter");if(typeof a=="function"?i!==a||!l:!a.has(i))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?l:r==="a"?l.call(i):l?l.value:a.get(i)}function Mg(i,a,r,l,u){if(l==="m")throw new TypeError("Private method is not writable");if(l==="a"&&!u)throw new TypeError("Private accessor was defined without a setter");if(typeof a=="function"?i!==a||!u:!a.has(i))throw new TypeError("Cannot write private member to an object whose class did not declare it");return l==="a"?u.call(i,r):u?u.value=r:a.set(i,r),r}function Bg(i,a){if(a===null||typeof a!="object"&&typeof a!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof i=="function"?a===i:i.has(a)}function Lg(i,a,r){if(a!=null){if(typeof a!="object"&&typeof a!="function")throw new TypeError("Object expected.");var l,u;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");l=a[Symbol.asyncDispose]}if(l===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");l=a[Symbol.dispose],r&&(u=l)}if(typeof l!="function")throw new TypeError("Object not disposable.");u&&(l=function(){try{u.call(this)}catch(c){return Promise.reject(c)}}),i.stack.push({value:a,dispose:l,async:r})}else r&&i.stack.push({async:!0});return a}var Ax=typeof SuppressedError=="function"?SuppressedError:function(i,a,r){var l=new Error(r);return l.name="SuppressedError",l.error=i,l.suppressed=a,l};function qg(i){function a(c){i.error=i.hasError?new Ax(c,i.error,"An error was suppressed during disposal."):c,i.hasError=!0}var r,l=0;function u(){for(;r=i.stack.pop();)try{if(!r.async&&l===1)return l=0,i.stack.push(r),Promise.resolve().then(u);if(r.dispose){var c=r.dispose.call(r.value);if(r.async)return l|=2,Promise.resolve(c).then(u,function(h){return a(h),u()})}else l|=1}catch(h){a(h)}if(l===1)return i.hasError?Promise.reject(i.error):Promise.resolve();if(i.hasError)throw i.error}return u()}function Hg(i,a){return typeof i=="string"&&/^\.\.?\//.test(i)?i.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,l,u,c,h){return l?a?".jsx":".js":u&&(!c||!h)?r:u+c+"."+h.toLowerCase()+"js"}):i}const Rx={__extends:pg,__assign:El,__rest:kr,__decorate:yg,__param:vg,__esDecorate:bg,__runInitializers:xg,__propKey:wg,__setFunctionName:_g,__metadata:Sg,__awaiter:F,__generator:jg,__createBinding:kl,__exportStar:Eg,__values:Tl,__read:Kc,__spread:Tg,__spreadArrays:Ng,__spreadArray:Og,__await:Nr,__asyncGenerator:Ag,__asyncDelegator:Rg,__asyncValues:Cg,__makeTemplateObject:kg,__importStar:zg,__importDefault:Ug,__classPrivateFieldGet:Dg,__classPrivateFieldSet:Mg,__classPrivateFieldIn:Bg,__addDisposableResource:Lg,__disposeResources:qg,__rewriteRelativeImportExtension:Hg},Cx=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Lg,get __assign(){return El},__asyncDelegator:Rg,__asyncGenerator:Ag,__asyncValues:Cg,__await:Nr,__awaiter:F,__classPrivateFieldGet:Dg,__classPrivateFieldIn:Bg,__classPrivateFieldSet:Mg,__createBinding:kl,__decorate:yg,__disposeResources:qg,__esDecorate:bg,__exportStar:Eg,__extends:pg,__generator:jg,__importDefault:Ug,__importStar:zg,__makeTemplateObject:kg,__metadata:Sg,__param:vg,__propKey:wg,__read:Kc,__rest:kr,__rewriteRelativeImportExtension:Hg,__runInitializers:xg,__setFunctionName:_g,__spread:Tg,__spreadArray:Og,__spreadArrays:Ng,__values:Tl,default:Rx},Symbol.toStringTag,{value:"Module"})),kx=i=>i?(...a)=>i(...a):(...a)=>fetch(...a);class Pc extends Error{constructor(a,r="FunctionsError",l){super(a),this.name=r,this.context=l}}class zx extends Pc{constructor(a){super("Failed to send a request to the Edge Function","FunctionsFetchError",a)}}class bm extends Pc{constructor(a){super("Relay Error invoking the Edge Function","FunctionsRelayError",a)}}class xm extends Pc{constructor(a){super("Edge Function returned a non-2xx status code","FunctionsHttpError",a)}}var jc;(function(i){i.Any="any",i.ApNortheast1="ap-northeast-1",i.ApNortheast2="ap-northeast-2",i.ApSouth1="ap-south-1",i.ApSoutheast1="ap-southeast-1",i.ApSoutheast2="ap-southeast-2",i.CaCentral1="ca-central-1",i.EuCentral1="eu-central-1",i.EuWest1="eu-west-1",i.EuWest2="eu-west-2",i.EuWest3="eu-west-3",i.SaEast1="sa-east-1",i.UsEast1="us-east-1",i.UsWest1="us-west-1",i.UsWest2="us-west-2"})(jc||(jc={}));class Ux{constructor(a,{headers:r={},customFetch:l,region:u=jc.Any}={}){this.url=a,this.headers=r,this.region=u,this.fetch=kx(l)}setAuth(a){this.headers.Authorization=`Bearer ${a}`}invoke(a){return F(this,arguments,void 0,function*(r,l={}){var u;let c,h;try{const{headers:m,method:g,body:p,signal:x,timeout:v}=l;let w={},{region:_}=l;_||(_=this.region);const j=new URL(`${this.url}/${r}`);_&&_!=="any"&&(w["x-region"]=_,j.searchParams.set("forceFunctionRegion",_));let O;p&&(m&&!Object.prototype.hasOwnProperty.call(m,"Content-Type")||!m)?typeof Blob<"u"&&p instanceof Blob||p instanceof ArrayBuffer?(w["Content-Type"]="application/octet-stream",O=p):typeof p=="string"?(w["Content-Type"]="text/plain",O=p):typeof FormData<"u"&&p instanceof FormData?O=p:(w["Content-Type"]="application/json",O=JSON.stringify(p)):O=p;let T=x;v&&(h=new AbortController,c=setTimeout(()=>h.abort(),v),x?(T=h.signal,x.addEventListener("abort",()=>h.abort())):T=h.signal);const k=yield this.fetch(j.toString(),{method:g||"POST",headers:Object.assign(Object.assign(Object.assign({},w),this.headers),m),body:O,signal:T}).catch(W=>{throw new zx(W)}),z=k.headers.get("x-relay-error");if(z&&z==="true")throw new bm(k);if(!k.ok)throw new xm(k);let C=((u=k.headers.get("Content-Type"))!==null&&u!==void 0?u:"text/plain").split(";")[0].trim(),K;return C==="application/json"?K=yield k.json():C==="application/octet-stream"||C==="application/pdf"?K=yield k.blob():C==="text/event-stream"?K=k:C==="multipart/form-data"?K=yield k.formData():K=yield k.text(),{data:K,error:null,response:k}}catch(m){return{data:null,error:m,response:m instanceof xm||m instanceof bm?m.context:void 0}}finally{c&&clearTimeout(c)}})}}var dt={};const zr=Qv(Cx);var hl={},fl={},ml={},gl={},pl={},yl={},wm;function $g(){if(wm)return yl;wm=1,Object.defineProperty(yl,"__esModule",{value:!0});class i extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return yl.default=i,yl}var _m;function Vg(){if(_m)return pl;_m=1,Object.defineProperty(pl,"__esModule",{value:!0});const a=zr.__importDefault($g());class r{constructor(u){var c,h;this.shouldThrowOnError=!1,this.method=u.method,this.url=u.url,this.headers=new Headers(u.headers),this.schema=u.schema,this.body=u.body,this.shouldThrowOnError=(c=u.shouldThrowOnError)!==null&&c!==void 0?c:!1,this.signal=u.signal,this.isMaybeSingle=(h=u.isMaybeSingle)!==null&&h!==void 0?h:!1,u.fetch?this.fetch=u.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(u,c){return this.headers=new Headers(this.headers),this.headers.set(u,c),this}then(u,c){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const h=this.fetch;let m=h(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async g=>{var p,x,v,w;let _=null,j=null,O=null,T=g.status,k=g.statusText;if(g.ok){if(this.method!=="HEAD"){const W=await g.text();W===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((p=this.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?j=W:j=JSON.parse(W))}const C=(x=this.headers.get("Prefer"))===null||x===void 0?void 0:x.match(/count=(exact|planned|estimated)/),K=(v=g.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");C&&K&&K.length>1&&(O=parseInt(K[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(j)&&(j.length>1?(_={code:"PGRST116",details:`Results contain ${j.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},j=null,O=null,T=406,k="Not Acceptable"):j.length===1?j=j[0]:j=null)}else{const C=await g.text();try{_=JSON.parse(C),Array.isArray(_)&&g.status===404&&(j=[],_=null,T=200,k="OK")}catch{g.status===404&&C===""?(T=204,k="No Content"):_={message:C}}if(_&&this.isMaybeSingle&&(!((w=_?.details)===null||w===void 0)&&w.includes("0 rows"))&&(_=null,T=200,k="OK"),_&&this.shouldThrowOnError)throw new a.default(_)}return{error:_,data:j,count:O,status:T,statusText:k}});return this.shouldThrowOnError||(m=m.catch(g=>{var p,x,v,w,_,j;let O="";const T=g?.cause;if(T){const k=(p=T?.message)!==null&&p!==void 0?p:"",z=(x=T?.code)!==null&&x!==void 0?x:"";O=`${(v=g?.name)!==null&&v!==void 0?v:"FetchError"}: ${g?.message}`,O+=`

Caused by: ${(w=T?.name)!==null&&w!==void 0?w:"Error"}: ${k}`,z&&(O+=` (${z})`),T?.stack&&(O+=`
${T.stack}`)}else O=(_=g?.stack)!==null&&_!==void 0?_:"";return{error:{message:`${(j=g?.name)!==null&&j!==void 0?j:"FetchError"}: ${g?.message}`,details:O,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),m.then(u,c)}returns(){return this}overrideTypes(){return this}}return pl.default=r,pl}var Sm;function Gg(){if(Sm)return gl;Sm=1,Object.defineProperty(gl,"__esModule",{value:!0});const a=zr.__importDefault(Vg());class r extends a.default{select(u){let c=!1;const h=(u??"*").split("").map(m=>/\s/.test(m)&&!c?"":(m==='"'&&(c=!c),m)).join("");return this.url.searchParams.set("select",h),this.headers.append("Prefer","return=representation"),this}order(u,{ascending:c=!0,nullsFirst:h,foreignTable:m,referencedTable:g=m}={}){const p=g?`${g}.order`:"order",x=this.url.searchParams.get(p);return this.url.searchParams.set(p,`${x?`${x},`:""}${u}.${c?"asc":"desc"}${h===void 0?"":h?".nullsfirst":".nullslast"}`),this}limit(u,{foreignTable:c,referencedTable:h=c}={}){const m=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(m,`${u}`),this}range(u,c,{foreignTable:h,referencedTable:m=h}={}){const g=typeof m>"u"?"offset":`${m}.offset`,p=typeof m>"u"?"limit":`${m}.limit`;return this.url.searchParams.set(g,`${u}`),this.url.searchParams.set(p,`${c-u+1}`),this}abortSignal(u){return this.signal=u,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:u=!1,verbose:c=!1,settings:h=!1,buffers:m=!1,wal:g=!1,format:p="text"}={}){var x;const v=[u?"analyze":null,c?"verbose":null,h?"settings":null,m?"buffers":null,g?"wal":null].filter(Boolean).join("|"),w=(x=this.headers.get("Accept"))!==null&&x!==void 0?x:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${p}; for="${w}"; options=${v};`),p==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(u){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${u}`),this}}return gl.default=r,gl}var jm;function Qc(){if(jm)return ml;jm=1,Object.defineProperty(ml,"__esModule",{value:!0});const a=zr.__importDefault(Gg()),r=new RegExp("[,()]");class l extends a.default{eq(c,h){return this.url.searchParams.append(c,`eq.${h}`),this}neq(c,h){return this.url.searchParams.append(c,`neq.${h}`),this}gt(c,h){return this.url.searchParams.append(c,`gt.${h}`),this}gte(c,h){return this.url.searchParams.append(c,`gte.${h}`),this}lt(c,h){return this.url.searchParams.append(c,`lt.${h}`),this}lte(c,h){return this.url.searchParams.append(c,`lte.${h}`),this}like(c,h){return this.url.searchParams.append(c,`like.${h}`),this}likeAllOf(c,h){return this.url.searchParams.append(c,`like(all).{${h.join(",")}}`),this}likeAnyOf(c,h){return this.url.searchParams.append(c,`like(any).{${h.join(",")}}`),this}ilike(c,h){return this.url.searchParams.append(c,`ilike.${h}`),this}ilikeAllOf(c,h){return this.url.searchParams.append(c,`ilike(all).{${h.join(",")}}`),this}ilikeAnyOf(c,h){return this.url.searchParams.append(c,`ilike(any).{${h.join(",")}}`),this}regexMatch(c,h){return this.url.searchParams.append(c,`match.${h}`),this}regexIMatch(c,h){return this.url.searchParams.append(c,`imatch.${h}`),this}is(c,h){return this.url.searchParams.append(c,`is.${h}`),this}isDistinct(c,h){return this.url.searchParams.append(c,`isdistinct.${h}`),this}in(c,h){const m=Array.from(new Set(h)).map(g=>typeof g=="string"&&r.test(g)?`"${g}"`:`${g}`).join(",");return this.url.searchParams.append(c,`in.(${m})`),this}contains(c,h){return typeof h=="string"?this.url.searchParams.append(c,`cs.${h}`):Array.isArray(h)?this.url.searchParams.append(c,`cs.{${h.join(",")}}`):this.url.searchParams.append(c,`cs.${JSON.stringify(h)}`),this}containedBy(c,h){return typeof h=="string"?this.url.searchParams.append(c,`cd.${h}`):Array.isArray(h)?this.url.searchParams.append(c,`cd.{${h.join(",")}}`):this.url.searchParams.append(c,`cd.${JSON.stringify(h)}`),this}rangeGt(c,h){return this.url.searchParams.append(c,`sr.${h}`),this}rangeGte(c,h){return this.url.searchParams.append(c,`nxl.${h}`),this}rangeLt(c,h){return this.url.searchParams.append(c,`sl.${h}`),this}rangeLte(c,h){return this.url.searchParams.append(c,`nxr.${h}`),this}rangeAdjacent(c,h){return this.url.searchParams.append(c,`adj.${h}`),this}overlaps(c,h){return typeof h=="string"?this.url.searchParams.append(c,`ov.${h}`):this.url.searchParams.append(c,`ov.{${h.join(",")}}`),this}textSearch(c,h,{config:m,type:g}={}){let p="";g==="plain"?p="pl":g==="phrase"?p="ph":g==="websearch"&&(p="w");const x=m===void 0?"":`(${m})`;return this.url.searchParams.append(c,`${p}fts${x}.${h}`),this}match(c){return Object.entries(c).forEach(([h,m])=>{this.url.searchParams.append(h,`eq.${m}`)}),this}not(c,h,m){return this.url.searchParams.append(c,`not.${h}.${m}`),this}or(c,{foreignTable:h,referencedTable:m=h}={}){const g=m?`${m}.or`:"or";return this.url.searchParams.append(g,`(${c})`),this}filter(c,h,m){return this.url.searchParams.append(c,`${h}.${m}`),this}}return ml.default=l,ml}var Em;function Yg(){if(Em)return fl;Em=1,Object.defineProperty(fl,"__esModule",{value:!0});const a=zr.__importDefault(Qc());class r{constructor(u,{headers:c={},schema:h,fetch:m}){this.url=u,this.headers=new Headers(c),this.schema=h,this.fetch=m}select(u,c){const{head:h=!1,count:m}=c??{},g=h?"HEAD":"GET";let p=!1;const x=(u??"*").split("").map(v=>/\s/.test(v)&&!p?"":(v==='"'&&(p=!p),v)).join("");return this.url.searchParams.set("select",x),m&&this.headers.append("Prefer",`count=${m}`),new a.default({method:g,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(u,{count:c,defaultToNull:h=!0}={}){var m;const g="POST";if(c&&this.headers.append("Prefer",`count=${c}`),h||this.headers.append("Prefer","missing=default"),Array.isArray(u)){const p=u.reduce((x,v)=>x.concat(Object.keys(v)),[]);if(p.length>0){const x=[...new Set(p)].map(v=>`"${v}"`);this.url.searchParams.set("columns",x.join(","))}}return new a.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}upsert(u,{onConflict:c,ignoreDuplicates:h=!1,count:m,defaultToNull:g=!0}={}){var p;const x="POST";if(this.headers.append("Prefer",`resolution=${h?"ignore":"merge"}-duplicates`),c!==void 0&&this.url.searchParams.set("on_conflict",c),m&&this.headers.append("Prefer",`count=${m}`),g||this.headers.append("Prefer","missing=default"),Array.isArray(u)){const v=u.reduce((w,_)=>w.concat(Object.keys(_)),[]);if(v.length>0){const w=[...new Set(v)].map(_=>`"${_}"`);this.url.searchParams.set("columns",w.join(","))}}return new a.default({method:x,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}update(u,{count:c}={}){var h;const m="PATCH";return c&&this.headers.append("Prefer",`count=${c}`),new a.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}delete({count:u}={}){var c;const h="DELETE";return u&&this.headers.append("Prefer",`count=${u}`),new a.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}}return fl.default=r,fl}var Tm;function Dx(){if(Tm)return hl;Tm=1,Object.defineProperty(hl,"__esModule",{value:!0});const i=zr,a=i.__importDefault(Yg()),r=i.__importDefault(Qc());class l{constructor(c,{headers:h={},schema:m,fetch:g}={}){this.url=c,this.headers=new Headers(h),this.schemaName=m,this.fetch=g}from(c){if(!c||typeof c!="string"||c.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const h=new URL(`${this.url}/${c}`);return new a.default(h,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(c){return new l(this.url,{headers:this.headers,schema:c,fetch:this.fetch})}rpc(c,h={},{head:m=!1,get:g=!1,count:p}={}){var x;let v;const w=new URL(`${this.url}/rpc/${c}`);let _;m||g?(v=m?"HEAD":"GET",Object.entries(h).filter(([O,T])=>T!==void 0).map(([O,T])=>[O,Array.isArray(T)?`{${T.join(",")}}`:`${T}`]).forEach(([O,T])=>{w.searchParams.append(O,T)})):(v="POST",_=h);const j=new Headers(this.headers);return p&&j.set("Prefer",`count=${p}`),new r.default({method:v,url:w,headers:j,schema:this.schemaName,body:_,fetch:(x=this.fetch)!==null&&x!==void 0?x:fetch})}}return hl.default=l,hl}var Nm;function Mx(){if(Nm)return dt;Nm=1,Object.defineProperty(dt,"__esModule",{value:!0}),dt.PostgrestError=dt.PostgrestBuilder=dt.PostgrestTransformBuilder=dt.PostgrestFilterBuilder=dt.PostgrestQueryBuilder=dt.PostgrestClient=void 0;const i=zr,a=i.__importDefault(Dx());dt.PostgrestClient=a.default;const r=i.__importDefault(Yg());dt.PostgrestQueryBuilder=r.default;const l=i.__importDefault(Qc());dt.PostgrestFilterBuilder=l.default;const u=i.__importDefault(Gg());dt.PostgrestTransformBuilder=u.default;const c=i.__importDefault(Vg());dt.PostgrestBuilder=c.default;const h=i.__importDefault($g());return dt.PostgrestError=h.default,dt.default={PostgrestClient:a.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:l.default,PostgrestTransformBuilder:u.default,PostgrestBuilder:c.default,PostgrestError:h.default},dt}var Kg=Mx();const Pg=Zm(Kg),Bx=Pv({__proto__:null,default:Pg},[Kg]),{PostgrestClient:Lx,PostgrestQueryBuilder:dS,PostgrestFilterBuilder:hS,PostgrestTransformBuilder:fS,PostgrestBuilder:mS,PostgrestError:gS}=Pg||Bx;class qx{constructor(){}static detectEnvironment(){var a;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((a=navigator.userAgent)===null||a===void 0)&&a.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const l=r.node,u=parseInt(l.replace(/^v/,"").split(".")[0]);return u>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${u} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${u} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const a=this.detectEnvironment();if(a.constructor)return a.constructor;let r=a.error||"WebSocket not supported in this environment.";throw a.workaround&&(r+=`

Suggested solution: ${a.workaround}`),new Error(r)}static createWebSocket(a,r){const l=this.getWebSocketConstructor();return new l(a,r)}static isWebSocketSupported(){try{const a=this.detectEnvironment();return a.type==="native"||a.type==="ws"}catch{return!1}}}const Hx="2.86.0",$x=`realtime-js/${Hx}`,Qg="1.0.0",Vx="2.0.0",Om=Qg,Ec=1e4,Gx=1e3,Yx=100;var Na;(function(i){i[i.connecting=0]="connecting",i[i.open=1]="open",i[i.closing=2]="closing",i[i.closed=3]="closed"})(Na||(Na={}));var et;(function(i){i.closed="closed",i.errored="errored",i.joined="joined",i.joining="joining",i.leaving="leaving"})(et||(et={}));var It;(function(i){i.close="phx_close",i.error="phx_error",i.join="phx_join",i.reply="phx_reply",i.leave="phx_leave",i.access_token="access_token"})(It||(It={}));var Tc;(function(i){i.websocket="websocket"})(Tc||(Tc={}));var Oa;(function(i){i.Connecting="connecting",i.Open="open",i.Closing="closing",i.Closed="closed"})(Oa||(Oa={}));class Kx{constructor(a){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=a??[]}encode(a,r){if(a.event===this.BROADCAST_EVENT&&!(a.payload instanceof ArrayBuffer)&&typeof a.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(a));let l=[a.join_ref,a.ref,a.topic,a.event,a.payload];return r(JSON.stringify(l))}_binaryEncodeUserBroadcastPush(a){var r;return this._isArrayBuffer((r=a.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(a):this._encodeJsonUserBroadcastPush(a)}_encodeBinaryUserBroadcastPush(a){var r,l;const u=(l=(r=a.payload)===null||r===void 0?void 0:r.payload)!==null&&l!==void 0?l:new ArrayBuffer(0);return this._encodeUserBroadcastPush(a,this.BINARY_ENCODING,u)}_encodeJsonUserBroadcastPush(a){var r,l;const u=(l=(r=a.payload)===null||r===void 0?void 0:r.payload)!==null&&l!==void 0?l:{},h=new TextEncoder().encode(JSON.stringify(u)).buffer;return this._encodeUserBroadcastPush(a,this.JSON_ENCODING,h)}_encodeUserBroadcastPush(a,r,l){var u,c;const h=a.topic,m=(u=a.ref)!==null&&u!==void 0?u:"",g=(c=a.join_ref)!==null&&c!==void 0?c:"",p=a.payload.event,x=this.allowedMetadataKeys?this._pick(a.payload,this.allowedMetadataKeys):{},v=Object.keys(x).length===0?"":JSON.stringify(x);if(g.length>255)throw new Error(`joinRef length ${g.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`ref length ${m.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`topic length ${h.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`userEvent length ${p.length} exceeds maximum of 255`);if(v.length>255)throw new Error(`metadata length ${v.length} exceeds maximum of 255`);const w=this.USER_BROADCAST_PUSH_META_LENGTH+g.length+m.length+h.length+p.length+v.length,_=new ArrayBuffer(this.HEADER_LENGTH+w);let j=new DataView(_),O=0;j.setUint8(O++,this.KINDS.userBroadcastPush),j.setUint8(O++,g.length),j.setUint8(O++,m.length),j.setUint8(O++,h.length),j.setUint8(O++,p.length),j.setUint8(O++,v.length),j.setUint8(O++,r),Array.from(g,k=>j.setUint8(O++,k.charCodeAt(0))),Array.from(m,k=>j.setUint8(O++,k.charCodeAt(0))),Array.from(h,k=>j.setUint8(O++,k.charCodeAt(0))),Array.from(p,k=>j.setUint8(O++,k.charCodeAt(0))),Array.from(v,k=>j.setUint8(O++,k.charCodeAt(0)));var T=new Uint8Array(_.byteLength+l.byteLength);return T.set(new Uint8Array(_),0),T.set(new Uint8Array(l),_.byteLength),T.buffer}decode(a,r){if(this._isArrayBuffer(a)){let l=this._binaryDecode(a);return r(l)}if(typeof a=="string"){const l=JSON.parse(a),[u,c,h,m,g]=l;return r({join_ref:u,ref:c,topic:h,event:m,payload:g})}return r({})}_binaryDecode(a){const r=new DataView(a),l=r.getUint8(0),u=new TextDecoder;switch(l){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(a,r,u)}}_decodeUserBroadcast(a,r,l){const u=r.getUint8(1),c=r.getUint8(2),h=r.getUint8(3),m=r.getUint8(4);let g=this.HEADER_LENGTH+4;const p=l.decode(a.slice(g,g+u));g=g+u;const x=l.decode(a.slice(g,g+c));g=g+c;const v=l.decode(a.slice(g,g+h));g=g+h;const w=a.slice(g,a.byteLength),_=m===this.JSON_ENCODING?JSON.parse(l.decode(w)):w,j={type:this.BROADCAST_EVENT,event:x,payload:_};return h>0&&(j.meta=JSON.parse(v)),{join_ref:null,ref:null,topic:p,event:this.BROADCAST_EVENT,payload:j}}_isArrayBuffer(a){var r;return a instanceof ArrayBuffer||((r=a?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(a,r){return!a||typeof a!="object"?{}:Object.fromEntries(Object.entries(a).filter(([l])=>r.includes(l)))}}class Jg{constructor(a,r){this.callback=a,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=a,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Me;(function(i){i.abstime="abstime",i.bool="bool",i.date="date",i.daterange="daterange",i.float4="float4",i.float8="float8",i.int2="int2",i.int4="int4",i.int4range="int4range",i.int8="int8",i.int8range="int8range",i.json="json",i.jsonb="jsonb",i.money="money",i.numeric="numeric",i.oid="oid",i.reltime="reltime",i.text="text",i.time="time",i.timestamp="timestamp",i.timestamptz="timestamptz",i.timetz="timetz",i.tsrange="tsrange",i.tstzrange="tstzrange"})(Me||(Me={}));const Am=(i,a,r={})=>{var l;const u=(l=r.skipTypes)!==null&&l!==void 0?l:[];return a?Object.keys(a).reduce((c,h)=>(c[h]=Px(h,i,a,u),c),{}):{}},Px=(i,a,r,l)=>{const u=a.find(m=>m.name===i),c=u?.type,h=r[i];return c&&!l.includes(c)?Xg(c,h):Nc(h)},Xg=(i,a)=>{if(i.charAt(0)==="_"){const r=i.slice(1,i.length);return Ix(a,r)}switch(i){case Me.bool:return Qx(a);case Me.float4:case Me.float8:case Me.int2:case Me.int4:case Me.int8:case Me.numeric:case Me.oid:return Jx(a);case Me.json:case Me.jsonb:return Xx(a);case Me.timestamp:return Zx(a);case Me.abstime:case Me.date:case Me.daterange:case Me.int4range:case Me.int8range:case Me.money:case Me.reltime:case Me.text:case Me.time:case Me.timestamptz:case Me.timetz:case Me.tsrange:case Me.tstzrange:return Nc(a);default:return Nc(a)}},Nc=i=>i,Qx=i=>{switch(i){case"t":return!0;case"f":return!1;default:return i}},Jx=i=>{if(typeof i=="string"){const a=parseFloat(i);if(!Number.isNaN(a))return a}return i},Xx=i=>{if(typeof i=="string")try{return JSON.parse(i)}catch(a){return console.log(`JSON parse error: ${a}`),i}return i},Ix=(i,a)=>{if(typeof i!="string")return i;const r=i.length-1,l=i[r];if(i[0]==="{"&&l==="}"){let c;const h=i.slice(1,r);try{c=JSON.parse("["+h+"]")}catch{c=h?h.split(","):[]}return c.map(m=>Xg(a,m))}return i},Zx=i=>typeof i=="string"?i.replace(" ","T"):i,Ig=i=>{const a=new URL(i);return a.protocol=a.protocol.replace(/^ws/i,"http"),a.pathname=a.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),a.pathname===""||a.pathname==="/"?a.pathname="/api/broadcast":a.pathname=a.pathname+"/api/broadcast",a.href};class oc{constructor(a,r,l={},u=Ec){this.channel=a,this.event=r,this.payload=l,this.timeout=u,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(a){this.timeout=a,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(a){this.payload=Object.assign(Object.assign({},this.payload),a)}receive(a,r){var l;return this._hasReceived(a)&&r((l=this.receivedResp)===null||l===void 0?void 0:l.response),this.recHooks.push({status:a,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const a=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},a),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(a,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:a,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:a,response:r}){this.recHooks.filter(l=>l.status===a).forEach(l=>l.callback(r))}_hasReceived(a){return this.receivedResp&&this.receivedResp.status===a}}var Rm;(function(i){i.SYNC="sync",i.JOIN="join",i.LEAVE="leave"})(Rm||(Rm={}));class Us{constructor(a,r){this.channel=a,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const l=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(l.state,{},u=>{const{onJoin:c,onLeave:h,onSync:m}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Us.syncState(this.state,u,c,h),this.pendingDiffs.forEach(g=>{this.state=Us.syncDiff(this.state,g,c,h)}),this.pendingDiffs=[],m()}),this.channel._on(l.diff,{},u=>{const{onJoin:c,onLeave:h,onSync:m}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(u):(this.state=Us.syncDiff(this.state,u,c,h),m())}),this.onJoin((u,c,h)=>{this.channel._trigger("presence",{event:"join",key:u,currentPresences:c,newPresences:h})}),this.onLeave((u,c,h)=>{this.channel._trigger("presence",{event:"leave",key:u,currentPresences:c,leftPresences:h})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(a,r,l,u){const c=this.cloneDeep(a),h=this.transformState(r),m={},g={};return this.map(c,(p,x)=>{h[p]||(g[p]=x)}),this.map(h,(p,x)=>{const v=c[p];if(v){const w=x.map(T=>T.presence_ref),_=v.map(T=>T.presence_ref),j=x.filter(T=>_.indexOf(T.presence_ref)<0),O=v.filter(T=>w.indexOf(T.presence_ref)<0);j.length>0&&(m[p]=j),O.length>0&&(g[p]=O)}else m[p]=x}),this.syncDiff(c,{joins:m,leaves:g},l,u)}static syncDiff(a,r,l,u){const{joins:c,leaves:h}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return l||(l=()=>{}),u||(u=()=>{}),this.map(c,(m,g)=>{var p;const x=(p=a[m])!==null&&p!==void 0?p:[];if(a[m]=this.cloneDeep(g),x.length>0){const v=a[m].map(_=>_.presence_ref),w=x.filter(_=>v.indexOf(_.presence_ref)<0);a[m].unshift(...w)}l(m,x,g)}),this.map(h,(m,g)=>{let p=a[m];if(!p)return;const x=g.map(v=>v.presence_ref);p=p.filter(v=>x.indexOf(v.presence_ref)<0),a[m]=p,u(m,p,g),p.length===0&&delete a[m]}),a}static map(a,r){return Object.getOwnPropertyNames(a).map(l=>r(l,a[l]))}static transformState(a){return a=this.cloneDeep(a),Object.getOwnPropertyNames(a).reduce((r,l)=>{const u=a[l];return"metas"in u?r[l]=u.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):r[l]=u,r},{})}static cloneDeep(a){return JSON.parse(JSON.stringify(a))}onJoin(a){this.caller.onJoin=a}onLeave(a){this.caller.onLeave=a}onSync(a){this.caller.onSync=a}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Cm;(function(i){i.ALL="*",i.INSERT="INSERT",i.UPDATE="UPDATE",i.DELETE="DELETE"})(Cm||(Cm={}));var Ds;(function(i){i.BROADCAST="broadcast",i.PRESENCE="presence",i.POSTGRES_CHANGES="postgres_changes",i.SYSTEM="system"})(Ds||(Ds={}));var jn;(function(i){i.SUBSCRIBED="SUBSCRIBED",i.TIMED_OUT="TIMED_OUT",i.CLOSED="CLOSED",i.CHANNEL_ERROR="CHANNEL_ERROR"})(jn||(jn={}));class Jc{constructor(a,r={config:{}},l){var u,c;if(this.topic=a,this.params=r,this.socket=l,this.bindings={},this.state=et.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=a.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new oc(this,It.join,this.params,this.timeout),this.rejoinTimer=new Jg(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=et.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(h=>h.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=et.closed,this.socket._remove(this)}),this._onError(h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=et.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=et.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=et.errored,this.rejoinTimer.scheduleTimeout())}),this._on(It.reply,{},(h,m)=>{this._trigger(this._replyEventName(m),h)}),this.presence=new Us(this),this.broadcastEndpointURL=Ig(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((c=(u=this.params.config)===null||u===void 0?void 0:u.broadcast)===null||c===void 0)&&c.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(a,r=this.timeout){var l,u,c;if(this.socket.isConnected()||this.socket.connect(),this.state==et.closed){const{config:{broadcast:h,presence:m,private:g}}=this.params,p=(u=(l=this.bindings.postgres_changes)===null||l===void 0?void 0:l.map(_=>_.filter))!==null&&u!==void 0?u:[],x=!!this.bindings[Ds.PRESENCE]&&this.bindings[Ds.PRESENCE].length>0||((c=this.params.config.presence)===null||c===void 0?void 0:c.enabled)===!0,v={},w={broadcast:h,presence:Object.assign(Object.assign({},m),{enabled:x}),postgres_changes:p,private:g};this.socket.accessTokenValue&&(v.access_token=this.socket.accessTokenValue),this._onError(_=>a?.(jn.CHANNEL_ERROR,_)),this._onClose(()=>a?.(jn.CLOSED)),this.updateJoinPayload(Object.assign({config:w},v)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:_})=>{var j;if(this.socket.setAuth(),_===void 0){a?.(jn.SUBSCRIBED);return}else{const O=this.bindings.postgres_changes,T=(j=O?.length)!==null&&j!==void 0?j:0,k=[];for(let z=0;z<T;z++){const C=O[z],{filter:{event:K,schema:W,table:J,filter:P}}=C,ye=_&&_[z];if(ye&&ye.event===K&&ye.schema===W&&ye.table===J&&ye.filter===P)k.push(Object.assign(Object.assign({},C),{id:ye.id}));else{this.unsubscribe(),this.state=et.errored,a?.(jn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=k,a&&a(jn.SUBSCRIBED);return}}).receive("error",_=>{this.state=et.errored,a?.(jn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(_).join(", ")||"error")))}).receive("timeout",()=>{a?.(jn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(a,r={}){return await this.send({type:"presence",event:"track",payload:a},r.timeout||this.timeout)}async untrack(a={}){return await this.send({type:"presence",event:"untrack"},a)}on(a,r,l){return this.state===et.joined&&a===Ds.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(a,r,l)}async httpSend(a,r,l={}){var u;const c=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const h={method:"POST",headers:{Authorization:c,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:r,private:this.private}]})},m=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(u=l.timeout)!==null&&u!==void 0?u:this.timeout);if(m.status===202)return{success:!0};let g=m.statusText;try{const p=await m.json();g=p.error||p.message||g}catch{}return Promise.reject(new Error(g))}async send(a,r={}){var l,u;if(!this._canPush()&&a.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:c,payload:h}=a,g={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:h,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(l=r.timeout)!==null&&l!==void 0?l:this.timeout);return await((u=p.body)===null||u===void 0?void 0:u.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var h,m,g;const p=this._push(a.type,a,r.timeout||this.timeout);a.type==="broadcast"&&!(!((g=(m=(h=this.params)===null||h===void 0?void 0:h.config)===null||m===void 0?void 0:m.broadcast)===null||g===void 0)&&g.ack)&&c("ok"),p.receive("ok",()=>c("ok")),p.receive("error",()=>c("error")),p.receive("timeout",()=>c("timed out"))})}updateJoinPayload(a){this.joinPush.updatePayload(a)}unsubscribe(a=this.timeout){this.state=et.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(It.close,"leave",this._joinRef())};this.joinPush.destroy();let l=null;return new Promise(u=>{l=new oc(this,It.leave,{},a),l.receive("ok",()=>{r(),u("ok")}).receive("timeout",()=>{r(),u("timed out")}).receive("error",()=>{u("error")}),l.send(),this._canPush()||l.trigger("ok",{})}).finally(()=>{l?.destroy()})}teardown(){this.pushBuffer.forEach(a=>a.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=et.closed,this.bindings={}}async _fetchWithTimeout(a,r,l){const u=new AbortController,c=setTimeout(()=>u.abort(),l),h=await this.socket.fetch(a,Object.assign(Object.assign({},r),{signal:u.signal}));return clearTimeout(c),h}_push(a,r,l=this.timeout){if(!this.joinedOnce)throw`tried to push '${a}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let u=new oc(this,a,r,l);return this._canPush()?u.send():this._addToPushBuffer(u),u}_addToPushBuffer(a){if(a.startTimeout(),this.pushBuffer.push(a),this.pushBuffer.length>Yx){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(a,r,l){return r}_isMember(a){return this.topic===a}_joinRef(){return this.joinPush.ref}_trigger(a,r,l){var u,c;const h=a.toLocaleLowerCase(),{close:m,error:g,leave:p,join:x}=It;if(l&&[m,g,p,x].indexOf(h)>=0&&l!==this._joinRef())return;let w=this._onMessage(h,r,l);if(r&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(h)?(u=this.bindings.postgres_changes)===null||u===void 0||u.filter(_=>{var j,O,T;return((j=_.filter)===null||j===void 0?void 0:j.event)==="*"||((T=(O=_.filter)===null||O===void 0?void 0:O.event)===null||T===void 0?void 0:T.toLocaleLowerCase())===h}).map(_=>_.callback(w,l)):(c=this.bindings[h])===null||c===void 0||c.filter(_=>{var j,O,T,k,z,C;if(["broadcast","presence","postgres_changes"].includes(h))if("id"in _){const K=_.id,W=(j=_.filter)===null||j===void 0?void 0:j.event;return K&&((O=r.ids)===null||O===void 0?void 0:O.includes(K))&&(W==="*"||W?.toLocaleLowerCase()===((T=r.data)===null||T===void 0?void 0:T.type.toLocaleLowerCase()))}else{const K=(z=(k=_?.filter)===null||k===void 0?void 0:k.event)===null||z===void 0?void 0:z.toLocaleLowerCase();return K==="*"||K===((C=r?.event)===null||C===void 0?void 0:C.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===h}).map(_=>{if(typeof w=="object"&&"ids"in w){const j=w.data,{schema:O,table:T,commit_timestamp:k,type:z,errors:C}=j;w=Object.assign(Object.assign({},{schema:O,table:T,commit_timestamp:k,eventType:z,new:{},old:{},errors:C}),this._getPayloadRecords(j))}_.callback(w,l)})}_isClosed(){return this.state===et.closed}_isJoined(){return this.state===et.joined}_isJoining(){return this.state===et.joining}_isLeaving(){return this.state===et.leaving}_replyEventName(a){return`chan_reply_${a}`}_on(a,r,l){const u=a.toLocaleLowerCase(),c={type:u,filter:r,callback:l};return this.bindings[u]?this.bindings[u].push(c):this.bindings[u]=[c],this}_off(a,r){const l=a.toLocaleLowerCase();return this.bindings[l]&&(this.bindings[l]=this.bindings[l].filter(u=>{var c;return!(((c=u.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===l&&Jc.isEqual(u.filter,r))})),this}static isEqual(a,r){if(Object.keys(a).length!==Object.keys(r).length)return!1;for(const l in a)if(a[l]!==r[l])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(a){this._on(It.close,{},a)}_onError(a){this._on(It.error,{},r=>a(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(a=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=et.joining,this.joinPush.resend(a))}_getPayloadRecords(a){const r={new:{},old:{}};return(a.type==="INSERT"||a.type==="UPDATE")&&(r.new=Am(a.columns,a.record)),(a.type==="UPDATE"||a.type==="DELETE")&&(r.old=Am(a.columns,a.old_record)),r}}const uc=()=>{},vl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Fx=[1e3,2e3,5e3,1e4],Wx=1e4,ew=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class tw{constructor(a,r){var l;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ec,this.transport=null,this.heartbeatIntervalMs=vl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=uc,this.ref=0,this.reconnectTimer=null,this.vsn=Om,this.logger=uc,this.conn=null,this.sendBuffer=[],this.serializer=new Kx,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=u=>u?(...c)=>u(...c):(...c)=>fetch(...c),!(!((l=r?.params)===null||l===void 0)&&l.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${a}/${Tc.websocket}`,this.httpEndpoint=Ig(a),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=qx.createWebSocket(this.endpointURL())}catch(a){this._setConnectionState("disconnected");const r=a.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(a,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const l=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(l),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(a?this.conn.close(a,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(a){const r=await a.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const a=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),a}log(a,r,l){this.logger(a,r,l)}connectionState(){switch(this.conn&&this.conn.readyState){case Na.connecting:return Oa.Connecting;case Na.open:return Oa.Open;case Na.closing:return Oa.Closing;default:return Oa.Closed}}isConnected(){return this.connectionState()===Oa.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(a,r={config:{}}){const l=`realtime:${a}`,u=this.getChannels().find(c=>c.topic===l);if(u)return u;{const c=new Jc(`realtime:${a}`,r,this);return this.channels.push(c),c}}push(a){const{topic:r,event:l,payload:u,ref:c}=a,h=()=>{this.encode(a,m=>{var g;(g=this.conn)===null||g===void 0||g.send(m)})};this.log("push",`${r} ${l} (${c})`,u),this.isConnected()?h():this.sendBuffer.push(h)}async setAuth(a=null){this._authPromise=this._performAuth(a);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var a;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(a=this.conn)===null||a===void 0||a.close(Gx,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},vl.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(a){this.heartbeatCallback=a}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(a=>a()),this.sendBuffer=[])}_makeRef(){let a=this.ref+1;return a===this.ref?this.ref=0:this.ref=a,this.ref.toString()}_leaveOpenTopic(a){let r=this.channels.find(l=>l.topic===a&&(l._isJoined()||l._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${a}"`),r.unsubscribe())}_remove(a){this.channels=this.channels.filter(r=>r.topic!==a.topic)}_onConnMessage(a){this.decode(a.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(p){this.log("error","error in heartbeat callback",p)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:l,event:u,payload:c,ref:h}=r,m=h?`(${h})`:"",g=c.status||"";this.log("receive",`${g} ${l} ${u} ${m}`.trim(),c),this.channels.filter(p=>p._isMember(l)).forEach(p=>p._trigger(u,c,h)),this._triggerStateCallbacks("message",r)})}_clearTimer(a){var r;a==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):a==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=a=>this._onConnError(a),this.conn.onmessage=a=>this._onConnMessage(a),this.conn.onclose=a=>this._onConnClose(a))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Na.open||this.conn.readyState===Na.connecting)try{this.conn.close()}catch(a){this.log("error","Error closing connection",a)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(a=>a.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const a=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(a),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(a){var r;this._setConnectionState("disconnected"),this.log("transport","close",a),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",a)}_onConnError(a){this._setConnectionState("disconnected"),this.log("transport",`${a}`),this._triggerChanError(),this._triggerStateCallbacks("error",a)}_triggerChanError(){this.channels.forEach(a=>a._trigger(It.error))}_appendParams(a,r){if(Object.keys(r).length===0)return a;const l=a.match(/\?/)?"&":"?",u=new URLSearchParams(r);return`${a}${l}${u}`}_workerObjectUrl(a){let r;if(a)r=a;else{const l=new Blob([ew],{type:"application/javascript"});r=URL.createObjectURL(l)}return r}_setConnectionState(a,r=!1){this._connectionState=a,a==="connecting"?this._wasManualDisconnect=!1:a==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(a=null){let r;a?r=a:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(l=>{const u={access_token:r,version:$x};r&&l.updateJoinPayload(u),l.joinedOnce&&l._isJoined()&&l._push(It.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(a="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${a}`,r)})}_triggerStateCallbacks(a,r){try{this.stateChangeCallbacks[a].forEach(l=>{try{l(r)}catch(u){this.log("error",`error in ${a} callback`,u)}})}catch(l){this.log("error",`error triggering ${a} callbacks`,l)}}_setupReconnectionTimer(){this.reconnectTimer=new Jg(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},vl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(a){var r,l,u,c,h,m,g,p,x,v,w,_;switch(this.transport=(r=a?.transport)!==null&&r!==void 0?r:null,this.timeout=(l=a?.timeout)!==null&&l!==void 0?l:Ec,this.heartbeatIntervalMs=(u=a?.heartbeatIntervalMs)!==null&&u!==void 0?u:vl.HEARTBEAT_INTERVAL,this.worker=(c=a?.worker)!==null&&c!==void 0?c:!1,this.accessToken=(h=a?.accessToken)!==null&&h!==void 0?h:null,this.heartbeatCallback=(m=a?.heartbeatCallback)!==null&&m!==void 0?m:uc,this.vsn=(g=a?.vsn)!==null&&g!==void 0?g:Om,a?.params&&(this.params=a.params),a?.logger&&(this.logger=a.logger),(a?.logLevel||a?.log_level)&&(this.logLevel=a.logLevel||a.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=a?.reconnectAfterMs)!==null&&p!==void 0?p:(j=>Fx[j-1]||Wx),this.vsn){case Qg:this.encode=(x=a?.encode)!==null&&x!==void 0?x:((j,O)=>O(JSON.stringify(j))),this.decode=(v=a?.decode)!==null&&v!==void 0?v:((j,O)=>O(JSON.parse(j)));break;case Vx:this.encode=(w=a?.encode)!==null&&w!==void 0?w:this.serializer.encode.bind(this.serializer),this.decode=(_=a?.decode)!==null&&_!==void 0?_:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=a?.workerUrl}}}class zl extends Error{constructor(a){super(a),this.__isStorageError=!0,this.name="StorageError"}}function $e(i){return typeof i=="object"&&i!==null&&"__isStorageError"in i}class nw extends zl{constructor(a,r,l){super(a),this.name="StorageApiError",this.status=r,this.statusCode=l}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Oc extends zl{constructor(a,r){super(a),this.name="StorageUnknownError",this.originalError=r}}const Xc=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),aw=()=>Response,Ac=i=>{if(Array.isArray(i))return i.map(r=>Ac(r));if(typeof i=="function"||i!==Object(i))return i;const a={};return Object.entries(i).forEach(([r,l])=>{const u=r.replace(/([-_][a-z])/gi,c=>c.toUpperCase().replace(/[-_]/g,""));a[u]=Ac(l)}),a},rw=i=>{if(typeof i!="object"||i===null)return!1;const a=Object.getPrototypeOf(i);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},sw=i=>!i||typeof i!="string"||i.length===0||i.length>100||i.trim()!==i||i.includes("/")||i.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(i),cc=i=>{var a;return i.msg||i.message||i.error_description||(typeof i.error=="string"?i.error:(a=i.error)===null||a===void 0?void 0:a.message)||JSON.stringify(i)},iw=(i,a,r)=>F(void 0,void 0,void 0,function*(){const l=yield aw();i instanceof l&&!r?.noResolveJson?i.json().then(u=>{const c=i.status||500,h=u?.statusCode||c+"";a(new nw(cc(u),c,h))}).catch(u=>{a(new Oc(cc(u),u))}):a(new Oc(cc(i),i))}),lw=(i,a,r,l)=>{const u={method:i,headers:a?.headers||{}};return i==="GET"||!l?u:(rw(l)?(u.headers=Object.assign({"Content-Type":"application/json"},a?.headers),u.body=JSON.stringify(l)):u.body=l,a?.duplex&&(u.duplex=a.duplex),Object.assign(Object.assign({},u),r))};function Ks(i,a,r,l,u,c){return F(this,void 0,void 0,function*(){return new Promise((h,m)=>{i(r,lw(a,l,u,c)).then(g=>{if(!g.ok)throw g;return l?.noResolveJson?g:g.json()}).then(g=>h(g)).catch(g=>iw(g,m,l))})})}function Ls(i,a,r,l){return F(this,void 0,void 0,function*(){return Ks(i,"GET",a,r,l)})}function Xt(i,a,r,l,u){return F(this,void 0,void 0,function*(){return Ks(i,"POST",a,l,u,r)})}function Rc(i,a,r,l,u){return F(this,void 0,void 0,function*(){return Ks(i,"PUT",a,l,u,r)})}function ow(i,a,r,l){return F(this,void 0,void 0,function*(){return Ks(i,"HEAD",a,Object.assign(Object.assign({},r),{noResolveJson:!0}),l)})}function Ic(i,a,r,l,u){return F(this,void 0,void 0,function*(){return Ks(i,"DELETE",a,l,u,r)})}class uw{constructor(a,r){this.downloadFn=a,this.shouldThrowOnError=r}then(a,r){return this.execute().then(a,r)}execute(){return F(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if($e(a))return{data:null,error:a};throw a}})}}var Zg;class cw{constructor(a,r){this.downloadFn=a,this.shouldThrowOnError=r,this[Zg]="BlobDownloadBuilder",this.promise=null}asStream(){return new uw(this.downloadFn,this.shouldThrowOnError)}then(a,r){return this.getPromise().then(a,r)}catch(a){return this.getPromise().catch(a)}finally(a){return this.getPromise().finally(a)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return F(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if($e(a))return{data:null,error:a};throw a}})}}Zg=Symbol.toStringTag;const dw={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},km={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class hw{constructor(a,r={},l,u){this.shouldThrowOnError=!1,this.url=a,this.headers=r,this.bucketId=l,this.fetch=Xc(u)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(a,r,l,u){return F(this,void 0,void 0,function*(){try{let c;const h=Object.assign(Object.assign({},km),u);let m=Object.assign(Object.assign({},this.headers),a==="POST"&&{"x-upsert":String(h.upsert)});const g=h.metadata;typeof Blob<"u"&&l instanceof Blob?(c=new FormData,c.append("cacheControl",h.cacheControl),g&&c.append("metadata",this.encodeMetadata(g)),c.append("",l)):typeof FormData<"u"&&l instanceof FormData?(c=l,c.has("cacheControl")||c.append("cacheControl",h.cacheControl),g&&!c.has("metadata")&&c.append("metadata",this.encodeMetadata(g))):(c=l,m["cache-control"]=`max-age=${h.cacheControl}`,m["content-type"]=h.contentType,g&&(m["x-metadata"]=this.toBase64(this.encodeMetadata(g))),(typeof ReadableStream<"u"&&c instanceof ReadableStream||c&&typeof c=="object"&&"pipe"in c&&typeof c.pipe=="function")&&!h.duplex&&(h.duplex="half")),u?.headers&&(m=Object.assign(Object.assign({},m),u.headers));const p=this._removeEmptyFolders(r),x=this._getFinalPath(p),v=yield(a=="PUT"?Rc:Xt)(this.fetch,`${this.url}/object/${x}`,c,Object.assign({headers:m},h?.duplex?{duplex:h.duplex}:{}));return{data:{path:p,id:v.Id,fullPath:v.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if($e(c))return{data:null,error:c};throw c}})}upload(a,r,l){return F(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",a,r,l)})}uploadToSignedUrl(a,r,l,u){return F(this,void 0,void 0,function*(){const c=this._removeEmptyFolders(a),h=this._getFinalPath(c),m=new URL(this.url+`/object/upload/sign/${h}`);m.searchParams.set("token",r);try{let g;const p=Object.assign({upsert:km.upsert},u),x=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&l instanceof Blob?(g=new FormData,g.append("cacheControl",p.cacheControl),g.append("",l)):typeof FormData<"u"&&l instanceof FormData?(g=l,g.append("cacheControl",p.cacheControl)):(g=l,x["cache-control"]=`max-age=${p.cacheControl}`,x["content-type"]=p.contentType);const v=yield Rc(this.fetch,m.toString(),g,{headers:x});return{data:{path:c,fullPath:v.Key},error:null}}catch(g){if(this.shouldThrowOnError)throw g;if($e(g))return{data:null,error:g};throw g}})}createSignedUploadUrl(a,r){return F(this,void 0,void 0,function*(){try{let l=this._getFinalPath(a);const u=Object.assign({},this.headers);r?.upsert&&(u["x-upsert"]="true");const c=yield Xt(this.fetch,`${this.url}/object/upload/sign/${l}`,{},{headers:u}),h=new URL(this.url+c.url),m=h.searchParams.get("token");if(!m)throw new zl("No token returned by API");return{data:{signedUrl:h.toString(),path:a,token:m},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if($e(l))return{data:null,error:l};throw l}})}update(a,r,l){return F(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",a,r,l)})}move(a,r,l){return F(this,void 0,void 0,function*(){try{return{data:yield Xt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:a,destinationKey:r,destinationBucket:l?.destinationBucket},{headers:this.headers}),error:null}}catch(u){if(this.shouldThrowOnError)throw u;if($e(u))return{data:null,error:u};throw u}})}copy(a,r,l){return F(this,void 0,void 0,function*(){try{return{data:{path:(yield Xt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:a,destinationKey:r,destinationBucket:l?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if($e(u))return{data:null,error:u};throw u}})}createSignedUrl(a,r,l){return F(this,void 0,void 0,function*(){try{let u=this._getFinalPath(a),c=yield Xt(this.fetch,`${this.url}/object/sign/${u}`,Object.assign({expiresIn:r},l?.transform?{transform:l.transform}:{}),{headers:this.headers});const h=l?.download?`&download=${l.download===!0?"":l.download}`:"";return c={signedUrl:encodeURI(`${this.url}${c.signedURL}${h}`)},{data:c,error:null}}catch(u){if(this.shouldThrowOnError)throw u;if($e(u))return{data:null,error:u};throw u}})}createSignedUrls(a,r,l){return F(this,void 0,void 0,function*(){try{const u=yield Xt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:a},{headers:this.headers}),c=l?.download?`&download=${l.download===!0?"":l.download}`:"";return{data:u.map(h=>Object.assign(Object.assign({},h),{signedUrl:h.signedURL?encodeURI(`${this.url}${h.signedURL}${c}`):null})),error:null}}catch(u){if(this.shouldThrowOnError)throw u;if($e(u))return{data:null,error:u};throw u}})}download(a,r){const u=typeof r?.transform<"u"?"render/image/authenticated":"object",c=this.transformOptsToQueryString(r?.transform||{}),h=c?`?${c}`:"",m=this._getFinalPath(a),g=()=>Ls(this.fetch,`${this.url}/${u}/${m}${h}`,{headers:this.headers,noResolveJson:!0});return new cw(g,this.shouldThrowOnError)}info(a){return F(this,void 0,void 0,function*(){const r=this._getFinalPath(a);try{const l=yield Ls(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Ac(l),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if($e(l))return{data:null,error:l};throw l}})}exists(a){return F(this,void 0,void 0,function*(){const r=this._getFinalPath(a);try{return yield ow(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(l){if(this.shouldThrowOnError)throw l;if($e(l)&&l instanceof Oc){const u=l.originalError;if([400,404].includes(u?.status))return{data:!1,error:l}}throw l}})}getPublicUrl(a,r){const l=this._getFinalPath(a),u=[],c=r?.download?`download=${r.download===!0?"":r.download}`:"";c!==""&&u.push(c);const m=typeof r?.transform<"u"?"render/image":"object",g=this.transformOptsToQueryString(r?.transform||{});g!==""&&u.push(g);let p=u.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${m}/public/${l}${p}`)}}}remove(a){return F(this,void 0,void 0,function*(){try{return{data:yield Ic(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:a},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}})}list(a,r,l){return F(this,void 0,void 0,function*(){try{const u=Object.assign(Object.assign(Object.assign({},dw),r),{prefix:a||""});return{data:yield Xt(this.fetch,`${this.url}/object/list/${this.bucketId}`,u,{headers:this.headers},l),error:null}}catch(u){if(this.shouldThrowOnError)throw u;if($e(u))return{data:null,error:u};throw u}})}listV2(a,r){return F(this,void 0,void 0,function*(){try{const l=Object.assign({},a);return{data:yield Xt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,l,{headers:this.headers},r),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if($e(l))return{data:null,error:l};throw l}})}encodeMetadata(a){return JSON.stringify(a)}toBase64(a){return typeof Buffer<"u"?Buffer.from(a).toString("base64"):btoa(a)}_getFinalPath(a){return`${this.bucketId}/${a.replace(/^\/+/,"")}`}_removeEmptyFolders(a){return a.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(a){const r=[];return a.width&&r.push(`width=${a.width}`),a.height&&r.push(`height=${a.height}`),a.resize&&r.push(`resize=${a.resize}`),a.format&&r.push(`format=${a.format}`),a.quality&&r.push(`quality=${a.quality}`),r.join("&")}}const Fg="2.86.0",Wg={"X-Client-Info":`storage-js/${Fg}`};class fw{constructor(a,r={},l,u){this.shouldThrowOnError=!1;const c=new URL(a);u?.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase.")),this.url=c.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Wg),r),this.fetch=Xc(l)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(a){return F(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(a);return{data:yield Ls(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}})}getBucket(a){return F(this,void 0,void 0,function*(){try{return{data:yield Ls(this.fetch,`${this.url}/bucket/${a}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}})}createBucket(a){return F(this,arguments,void 0,function*(r,l={public:!1}){try{return{data:yield Xt(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:l.type,public:l.public,file_size_limit:l.fileSizeLimit,allowed_mime_types:l.allowedMimeTypes},{headers:this.headers}),error:null}}catch(u){if(this.shouldThrowOnError)throw u;if($e(u))return{data:null,error:u};throw u}})}updateBucket(a,r){return F(this,void 0,void 0,function*(){try{return{data:yield Rc(this.fetch,`${this.url}/bucket/${a}`,{id:a,name:a,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if($e(l))return{data:null,error:l};throw l}})}emptyBucket(a){return F(this,void 0,void 0,function*(){try{return{data:yield Xt(this.fetch,`${this.url}/bucket/${a}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}})}deleteBucket(a){return F(this,void 0,void 0,function*(){try{return{data:yield Ic(this.fetch,`${this.url}/bucket/${a}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(a){const r={};return a&&("limit"in a&&(r.limit=String(a.limit)),"offset"in a&&(r.offset=String(a.offset)),a.search&&(r.search=a.search),a.sortColumn&&(r.sortColumn=a.sortColumn),a.sortOrder&&(r.sortOrder=a.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}var qs=class extends Error{constructor(i,a){super(i),this.name="IcebergError",this.status=a.status,this.icebergType=a.icebergType,this.icebergCode=a.icebergCode,this.details=a.details,this.isCommitStateUnknown=a.icebergType==="CommitStateUnknownException"||[500,502,504].includes(a.status)&&a.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function mw(i,a,r){const l=new URL(a,i);if(r)for(const[u,c]of Object.entries(r))c!==void 0&&l.searchParams.set(u,c);return l.toString()}async function gw(i){return!i||i.type==="none"?{}:i.type==="bearer"?{Authorization:`Bearer ${i.token}`}:i.type==="header"?{[i.name]:i.value}:i.type==="custom"?await i.getHeaders():{}}function pw(i){const a=i.fetchImpl??globalThis.fetch;return{async request({method:r,path:l,query:u,body:c,headers:h}){const m=mw(i.baseUrl,l,u),g=await gw(i.auth),p=await a(m,{method:r,headers:{...c?{"Content-Type":"application/json"}:{},...g,...h},body:c?JSON.stringify(c):void 0}),x=await p.text(),v=(p.headers.get("content-type")||"").includes("application/json"),w=v&&x?JSON.parse(x):x;if(!p.ok){const _=v?w:void 0,j=_?.error;throw new qs(j?.message??`Request failed with status ${p.status}`,{status:p.status,icebergType:j?.type,icebergCode:j?.code,details:_})}return{status:p.status,headers:p.headers,data:w}}}}function bl(i){return i.join("")}var yw=class{constructor(i,a=""){this.client=i,this.prefix=a}async listNamespaces(i){const a=i?{parent:bl(i.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:a})).data.namespaces.map(l=>({namespace:l}))}async createNamespace(i,a){const r={namespace:i.namespace,properties:a?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(i){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${bl(i.namespace)}`})}async loadNamespaceMetadata(i){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${bl(i.namespace)}`})).data.properties}}async namespaceExists(i){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${bl(i.namespace)}`}),!0}catch(a){if(a instanceof qs&&a.status===404)return!1;throw a}}async createNamespaceIfNotExists(i,a){try{return await this.createNamespace(i,a)}catch(r){if(r instanceof qs&&r.status===409)return;throw r}}};function gr(i){return i.join("")}var vw=class{constructor(i,a="",r){this.client=i,this.prefix=a,this.accessDelegation=r}async listTables(i){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${gr(i.namespace)}/tables`})).data.identifiers}async createTable(i,a){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${gr(i.namespace)}/tables`,body:a,headers:r})).data.metadata}async updateTable(i,a){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${gr(i.namespace)}/tables/${i.name}`,body:a});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(i,a){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${gr(i.namespace)}/tables/${i.name}`,query:{purgeRequested:String(a?.purge??!1)}})}async loadTable(i){const a={};return this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${gr(i.namespace)}/tables/${i.name}`,headers:a})).data.metadata}async tableExists(i){const a={};this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${gr(i.namespace)}/tables/${i.name}`,headers:a}),!0}catch(r){if(r instanceof qs&&r.status===404)return!1;throw r}}async createTableIfNotExists(i,a){try{return await this.createTable(i,a)}catch(r){if(r instanceof qs&&r.status===409)return await this.loadTable({namespace:i.namespace,name:a.name});throw r}}},bw=class{constructor(i){let a="v1";i.catalogName&&(a+=`/${i.catalogName}`);const r=i.baseUrl.endsWith("/")?i.baseUrl:`${i.baseUrl}/`;this.client=pw({baseUrl:r,auth:i.auth,fetchImpl:i.fetch}),this.accessDelegation=i.accessDelegation?.join(","),this.namespaceOps=new yw(this.client,a),this.tableOps=new vw(this.client,a,this.accessDelegation)}async listNamespaces(i){return this.namespaceOps.listNamespaces(i)}async createNamespace(i,a){return this.namespaceOps.createNamespace(i,a)}async dropNamespace(i){await this.namespaceOps.dropNamespace(i)}async loadNamespaceMetadata(i){return this.namespaceOps.loadNamespaceMetadata(i)}async listTables(i){return this.tableOps.listTables(i)}async createTable(i,a){return this.tableOps.createTable(i,a)}async updateTable(i,a){return this.tableOps.updateTable(i,a)}async dropTable(i,a){await this.tableOps.dropTable(i,a)}async loadTable(i){return this.tableOps.loadTable(i)}async namespaceExists(i){return this.namespaceOps.namespaceExists(i)}async tableExists(i){return this.tableOps.tableExists(i)}async createNamespaceIfNotExists(i,a){return this.namespaceOps.createNamespaceIfNotExists(i,a)}async createTableIfNotExists(i,a){return this.tableOps.createTableIfNotExists(i,a)}};class xw{constructor(a,r={},l){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Wg),r),this.fetch=Xc(l)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(a){return F(this,void 0,void 0,function*(){try{return{data:yield Xt(this.fetch,`${this.url}/bucket`,{name:a},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}})}listBuckets(a){return F(this,void 0,void 0,function*(){try{const r=new URLSearchParams;a?.limit!==void 0&&r.set("limit",a.limit.toString()),a?.offset!==void 0&&r.set("offset",a.offset.toString()),a?.sortColumn&&r.set("sortColumn",a.sortColumn),a?.sortOrder&&r.set("sortOrder",a.sortOrder),a?.search&&r.set("search",a.search);const l=r.toString(),u=l?`${this.url}/bucket?${l}`:`${this.url}/bucket`;return{data:yield Ls(this.fetch,u,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}})}deleteBucket(a){return F(this,void 0,void 0,function*(){try{return{data:yield Ic(this.fetch,`${this.url}/bucket/${a}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}})}from(a){if(!sw(a))throw new zl("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new bw({baseUrl:this.url,catalogName:a,auth:{type:"custom",getHeaders:()=>F(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}const Zc={"X-Client-Info":`storage-js/${Fg}`,"Content-Type":"application/json"};class ep extends Error{constructor(a){super(a),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function kt(i){return typeof i=="object"&&i!==null&&"__isStorageVectorsError"in i}class dc extends ep{constructor(a,r,l){super(a),this.name="StorageVectorsApiError",this.status=r,this.statusCode=l}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class ww extends ep{constructor(a,r){super(a),this.name="StorageVectorsUnknownError",this.originalError=r}}var zm;(function(i){i.InternalError="InternalError",i.S3VectorConflictException="S3VectorConflictException",i.S3VectorNotFoundException="S3VectorNotFoundException",i.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",i.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",i.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(zm||(zm={}));const Fc=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),_w=i=>{if(typeof i!="object"||i===null)return!1;const a=Object.getPrototypeOf(i);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},Um=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),Sw=(i,a,r)=>F(void 0,void 0,void 0,function*(){if(i&&typeof i=="object"&&"status"in i&&"ok"in i&&typeof i.status=="number"&&!r?.noResolveJson){const u=i.status||500,c=i;if(typeof c.json=="function")c.json().then(h=>{const m=h?.statusCode||h?.code||u+"";a(new dc(Um(h),u,m))}).catch(()=>{const h=u+"",m=c.statusText||`HTTP ${u} error`;a(new dc(m,u,h))});else{const h=u+"",m=c.statusText||`HTTP ${u} error`;a(new dc(m,u,h))}}else a(new ww(Um(i),i))}),jw=(i,a,r,l)=>{const u={method:i,headers:a?.headers||{}};return l?(_w(l)?(u.headers=Object.assign({"Content-Type":"application/json"},a?.headers),u.body=JSON.stringify(l)):u.body=l,Object.assign(Object.assign({},u),r)):u};function Ew(i,a,r,l,u,c){return F(this,void 0,void 0,function*(){return new Promise((h,m)=>{i(r,jw(a,l,u,c)).then(g=>{if(!g.ok)throw g;if(l?.noResolveJson)return g;const p=g.headers.get("content-type");return!p||!p.includes("application/json")?{}:g.json()}).then(g=>h(g)).catch(g=>Sw(g,m,l))})})}function zt(i,a,r,l,u){return F(this,void 0,void 0,function*(){return Ew(i,"POST",a,l,u,r)})}class Tw{constructor(a,r={},l){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Zc),r),this.fetch=Fc(l)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(a){return F(this,void 0,void 0,function*(){try{return{data:(yield zt(this.fetch,`${this.url}/CreateIndex`,a,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kt(r))return{data:null,error:r};throw r}})}getIndex(a,r){return F(this,void 0,void 0,function*(){try{return{data:yield zt(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:a,indexName:r},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(kt(l))return{data:null,error:l};throw l}})}listIndexes(a){return F(this,void 0,void 0,function*(){try{return{data:yield zt(this.fetch,`${this.url}/ListIndexes`,a,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kt(r))return{data:null,error:r};throw r}})}deleteIndex(a,r){return F(this,void 0,void 0,function*(){try{return{data:(yield zt(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:a,indexName:r},{headers:this.headers}))||{},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(kt(l))return{data:null,error:l};throw l}})}}class Nw{constructor(a,r={},l){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Zc),r),this.fetch=Fc(l)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(a){return F(this,void 0,void 0,function*(){try{if(a.vectors.length<1||a.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield zt(this.fetch,`${this.url}/PutVectors`,a,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kt(r))return{data:null,error:r};throw r}})}getVectors(a){return F(this,void 0,void 0,function*(){try{return{data:yield zt(this.fetch,`${this.url}/GetVectors`,a,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kt(r))return{data:null,error:r};throw r}})}listVectors(a){return F(this,void 0,void 0,function*(){try{if(a.segmentCount!==void 0){if(a.segmentCount<1||a.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(a.segmentIndex!==void 0&&(a.segmentIndex<0||a.segmentIndex>=a.segmentCount))throw new Error(`segmentIndex must be between 0 and ${a.segmentCount-1}`)}return{data:yield zt(this.fetch,`${this.url}/ListVectors`,a,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kt(r))return{data:null,error:r};throw r}})}queryVectors(a){return F(this,void 0,void 0,function*(){try{return{data:yield zt(this.fetch,`${this.url}/QueryVectors`,a,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kt(r))return{data:null,error:r};throw r}})}deleteVectors(a){return F(this,void 0,void 0,function*(){try{if(a.keys.length<1||a.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield zt(this.fetch,`${this.url}/DeleteVectors`,a,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kt(r))return{data:null,error:r};throw r}})}}class Ow{constructor(a,r={},l){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Zc),r),this.fetch=Fc(l)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(a){return F(this,void 0,void 0,function*(){try{return{data:(yield zt(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:a},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kt(r))return{data:null,error:r};throw r}})}getBucket(a){return F(this,void 0,void 0,function*(){try{return{data:yield zt(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:a},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kt(r))return{data:null,error:r};throw r}})}listBuckets(){return F(this,arguments,void 0,function*(a={}){try{return{data:yield zt(this.fetch,`${this.url}/ListVectorBuckets`,a,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kt(r))return{data:null,error:r};throw r}})}deleteBucket(a){return F(this,void 0,void 0,function*(){try{return{data:(yield zt(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:a},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kt(r))return{data:null,error:r};throw r}})}}class Aw extends Ow{constructor(a,r={}){super(a,r.headers||{},r.fetch)}from(a){return new Rw(this.url,this.headers,a,this.fetch)}createBucket(a){const r=Object.create(null,{createBucket:{get:()=>super.createBucket}});return F(this,void 0,void 0,function*(){return r.createBucket.call(this,a)})}getBucket(a){const r=Object.create(null,{getBucket:{get:()=>super.getBucket}});return F(this,void 0,void 0,function*(){return r.getBucket.call(this,a)})}listBuckets(){const a=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return F(this,arguments,void 0,function*(r={}){return a.listBuckets.call(this,r)})}deleteBucket(a){const r=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return F(this,void 0,void 0,function*(){return r.deleteBucket.call(this,a)})}}class Rw extends Tw{constructor(a,r,l,u){super(a,r,u),this.vectorBucketName=l}createIndex(a){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return F(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const a=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return F(this,arguments,void 0,function*(r={}){return a.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(a){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return F(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,a)})}deleteIndex(a){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return F(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,a)})}index(a){return new Cw(this.url,this.headers,this.vectorBucketName,a,this.fetch)}}class Cw extends Nw{constructor(a,r,l,u,c){super(a,r,c),this.vectorBucketName=l,this.indexName=u}putVectors(a){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return F(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(a){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return F(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const a=Object.create(null,{listVectors:{get:()=>super.listVectors}});return F(this,arguments,void 0,function*(r={}){return a.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(a){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return F(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(a){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return F(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class kw extends fw{constructor(a,r={},l,u){super(a,r,l,u)}from(a){return new hw(this.url,this.headers,a,this.fetch)}get vectors(){return new Aw(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new xw(this.url+"/iceberg",this.headers,this.fetch)}}const zw="2.86.0";let zs="";typeof Deno<"u"?zs="deno":typeof document<"u"?zs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?zs="react-native":zs="node";const Uw={"X-Client-Info":`supabase-js-${zs}/${zw}`},Dw={headers:Uw},Mw={schema:"public"},Bw={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Lw={},qw=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),Hw=()=>Headers,$w=(i,a,r)=>{const l=qw(r),u=Hw();return async(c,h)=>{var m;const g=(m=await a())!==null&&m!==void 0?m:i;let p=new u(h?.headers);return p.has("apikey")||p.set("apikey",i),p.has("Authorization")||p.set("Authorization",`Bearer ${g}`),l(c,Object.assign(Object.assign({},h),{headers:p}))}};function Vw(i){return i.endsWith("/")?i:i+"/"}function Gw(i,a){var r,l;const{db:u,auth:c,realtime:h,global:m}=i,{db:g,auth:p,realtime:x,global:v}=a,w={db:Object.assign(Object.assign({},g),u),auth:Object.assign(Object.assign({},p),c),realtime:Object.assign(Object.assign({},x),h),storage:{},global:Object.assign(Object.assign(Object.assign({},v),m),{headers:Object.assign(Object.assign({},(r=v?.headers)!==null&&r!==void 0?r:{}),(l=m?.headers)!==null&&l!==void 0?l:{})}),accessToken:async()=>""};return i.accessToken?w.accessToken=i.accessToken:delete w.accessToken,w}function Yw(i){const a=i?.trim();if(!a)throw new Error("supabaseUrl is required.");if(!a.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Vw(a))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const tp="2.86.0",_r=30*1e3,Cc=3,hc=Cc*_r,Kw="http://localhost:9999",Pw="supabase.auth.token",Qw={"X-Client-Info":`gotrue-js/${tp}`},kc="X-Supabase-Api-Version",np={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Jw=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Xw=600*1e3;class Hs extends Error{constructor(a,r,l){super(a),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=l}}function re(i){return typeof i=="object"&&i!==null&&"__isAuthError"in i}class Iw extends Hs{constructor(a,r,l){super(a,r,l),this.name="AuthApiError",this.status=r,this.code=l}}function Zw(i){return re(i)&&i.name==="AuthApiError"}class Aa extends Hs{constructor(a,r){super(a),this.name="AuthUnknownError",this.originalError=r}}class ra extends Hs{constructor(a,r,l,u){super(a,l,u),this.name=r,this.status=l}}class Ct extends ra{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Fw(i){return re(i)&&i.name==="AuthSessionMissingError"}class pr extends ra{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class xl extends ra{constructor(a){super(a,"AuthInvalidCredentialsError",400,void 0)}}class wl extends ra{constructor(a,r=null){super(a,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Ww(i){return re(i)&&i.name==="AuthImplicitGrantRedirectError"}class Dm extends ra{constructor(a,r=null){super(a,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class zc extends ra{constructor(a,r){super(a,"AuthRetryableFetchError",r,void 0)}}function fc(i){return re(i)&&i.name==="AuthRetryableFetchError"}class Mm extends ra{constructor(a,r,l){super(a,"AuthWeakPasswordError",r,"weak_password"),this.reasons=l}}class Uc extends ra{constructor(a){super(a,"AuthInvalidJwtError",400,"invalid_jwt")}}const Nl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Bm=` 	
\r=`.split(""),e_=(()=>{const i=new Array(128);for(let a=0;a<i.length;a+=1)i[a]=-1;for(let a=0;a<Bm.length;a+=1)i[Bm[a].charCodeAt(0)]=-2;for(let a=0;a<Nl.length;a+=1)i[Nl[a].charCodeAt(0)]=a;return i})();function Lm(i,a,r){if(i!==null)for(a.queue=a.queue<<8|i,a.queuedBits+=8;a.queuedBits>=6;){const l=a.queue>>a.queuedBits-6&63;r(Nl[l]),a.queuedBits-=6}else if(a.queuedBits>0)for(a.queue=a.queue<<6-a.queuedBits,a.queuedBits=6;a.queuedBits>=6;){const l=a.queue>>a.queuedBits-6&63;r(Nl[l]),a.queuedBits-=6}}function ap(i,a,r){const l=e_[i];if(l>-1)for(a.queue=a.queue<<6|l,a.queuedBits+=6;a.queuedBits>=8;)r(a.queue>>a.queuedBits-8&255),a.queuedBits-=8;else{if(l===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(i)}"`)}}function qm(i){const a=[],r=h=>{a.push(String.fromCodePoint(h))},l={utf8seq:0,codepoint:0},u={queue:0,queuedBits:0},c=h=>{a_(h,l,r)};for(let h=0;h<i.length;h+=1)ap(i.charCodeAt(h),u,c);return a.join("")}function t_(i,a){if(i<=127){a(i);return}else if(i<=2047){a(192|i>>6),a(128|i&63);return}else if(i<=65535){a(224|i>>12),a(128|i>>6&63),a(128|i&63);return}else if(i<=1114111){a(240|i>>18),a(128|i>>12&63),a(128|i>>6&63),a(128|i&63);return}throw new Error(`Unrecognized Unicode codepoint: ${i.toString(16)}`)}function n_(i,a){for(let r=0;r<i.length;r+=1){let l=i.charCodeAt(r);if(l>55295&&l<=56319){const u=(l-55296)*1024&65535;l=(i.charCodeAt(r+1)-56320&65535|u)+65536,r+=1}t_(l,a)}}function a_(i,a,r){if(a.utf8seq===0){if(i<=127){r(i);return}for(let l=1;l<6;l+=1)if((i>>7-l&1)===0){a.utf8seq=l;break}if(a.utf8seq===2)a.codepoint=i&31;else if(a.utf8seq===3)a.codepoint=i&15;else if(a.utf8seq===4)a.codepoint=i&7;else throw new Error("Invalid UTF-8 sequence");a.utf8seq-=1}else if(a.utf8seq>0){if(i<=127)throw new Error("Invalid UTF-8 sequence");a.codepoint=a.codepoint<<6|i&63,a.utf8seq-=1,a.utf8seq===0&&r(a.codepoint)}}function jr(i){const a=[],r={queue:0,queuedBits:0},l=u=>{a.push(u)};for(let u=0;u<i.length;u+=1)ap(i.charCodeAt(u),r,l);return new Uint8Array(a)}function r_(i){const a=[];return n_(i,r=>a.push(r)),new Uint8Array(a)}function Ra(i){const a=[],r={queue:0,queuedBits:0},l=u=>{a.push(u)};return i.forEach(u=>Lm(u,r,l)),Lm(null,r,l),a.join("")}function s_(i){return Math.round(Date.now()/1e3)+i}function i_(){return Symbol("auth-callback")}const ot=()=>typeof window<"u"&&typeof document<"u",ja={tested:!1,writable:!1},rp=()=>{if(!ot())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ja.tested)return ja.writable;const i=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(i,i),globalThis.localStorage.removeItem(i),ja.tested=!0,ja.writable=!0}catch{ja.tested=!0,ja.writable=!1}return ja.writable};function l_(i){const a={},r=new URL(i);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((u,c)=>{a[c]=u})}catch{}return r.searchParams.forEach((l,u)=>{a[u]=l}),a}const sp=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),o_=i=>typeof i=="object"&&i!==null&&"status"in i&&"ok"in i&&"json"in i&&typeof i.json=="function",Sr=async(i,a,r)=>{await i.setItem(a,JSON.stringify(r))},Ea=async(i,a)=>{const r=await i.getItem(a);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Wn=async(i,a)=>{await i.removeItem(a)};class Ul{constructor(){this.promise=new Ul.promiseConstructor((a,r)=>{this.resolve=a,this.reject=r})}}Ul.promiseConstructor=Promise;function mc(i){const a=i.split(".");if(a.length!==3)throw new Uc("Invalid JWT structure");for(let l=0;l<a.length;l++)if(!Jw.test(a[l]))throw new Uc("JWT not in base64url format");return{header:JSON.parse(qm(a[0])),payload:JSON.parse(qm(a[1])),signature:jr(a[2]),raw:{header:a[0],payload:a[1]}}}async function u_(i){return await new Promise(a=>{setTimeout(()=>a(null),i)})}function c_(i,a){return new Promise((l,u)=>{(async()=>{for(let c=0;c<1/0;c++)try{const h=await i(c);if(!a(c,null,h)){l(h);return}}catch(h){if(!a(c,h)){u(h);return}}})()})}function d_(i){return("0"+i.toString(16)).substr(-2)}function h_(){const a=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",l=r.length;let u="";for(let c=0;c<56;c++)u+=r.charAt(Math.floor(Math.random()*l));return u}return crypto.getRandomValues(a),Array.from(a,d_).join("")}async function f_(i){const r=new TextEncoder().encode(i),l=await crypto.subtle.digest("SHA-256",r),u=new Uint8Array(l);return Array.from(u).map(c=>String.fromCharCode(c)).join("")}async function m_(i){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),i;const r=await f_(i);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function yr(i,a,r=!1){const l=h_();let u=l;r&&(u+="/PASSWORD_RECOVERY"),await Sr(i,`${a}-code-verifier`,u);const c=await m_(l);return[c,l===c?"plain":"s256"]}const g_=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function p_(i){const a=i.headers.get(kc);if(!a||!a.match(g_))return null;try{return new Date(`${a}T00:00:00.0Z`)}catch{return null}}function y_(i){if(!i)throw new Error("Missing exp claim");const a=Math.floor(Date.now()/1e3);if(i<=a)throw new Error("JWT has expired")}function v_(i){switch(i){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const b_=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function vr(i){if(!b_.test(i))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function gc(){const i={};return new Proxy(i,{get:(a,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const l=r.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(a,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(a,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function x_(i,a){return new Proxy(i,{get:(r,l,u)=>{if(l==="__isInsecureUserWarningProxy")return!0;if(typeof l=="symbol"){const c=l.toString();if(c==="Symbol(Symbol.toPrimitive)"||c==="Symbol(Symbol.toStringTag)"||c==="Symbol(util.inspect.custom)"||c==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,l,u)}return!a.value&&typeof l=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a.value=!0),Reflect.get(r,l,u)}})}function Hm(i){return JSON.parse(JSON.stringify(i))}const Ta=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),w_=[502,503,504];async function $m(i){var a;if(!o_(i))throw new zc(Ta(i),0);if(w_.includes(i.status))throw new zc(Ta(i),i.status);let r;try{r=await i.json()}catch(c){throw new Aa(Ta(c),c)}let l;const u=p_(i);if(u&&u.getTime()>=np["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?l=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(l=r.error_code),l){if(l==="weak_password")throw new Mm(Ta(r),i.status,((a=r.weak_password)===null||a===void 0?void 0:a.reasons)||[]);if(l==="session_not_found")throw new Ct}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((c,h)=>c&&typeof h=="string",!0))throw new Mm(Ta(r),i.status,r.weak_password.reasons);throw new Iw(Ta(r),i.status||500,l)}const __=(i,a,r,l)=>{const u={method:i,headers:a?.headers||{}};return i==="GET"?u:(u.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},a?.headers),u.body=JSON.stringify(l),Object.assign(Object.assign({},u),r))};async function ue(i,a,r,l){var u;const c=Object.assign({},l?.headers);c[kc]||(c[kc]=np["2024-01-01"].name),l?.jwt&&(c.Authorization=`Bearer ${l.jwt}`);const h=(u=l?.query)!==null&&u!==void 0?u:{};l?.redirectTo&&(h.redirect_to=l.redirectTo);const m=Object.keys(h).length?"?"+new URLSearchParams(h).toString():"",g=await S_(i,a,r+m,{headers:c,noResolveJson:l?.noResolveJson},{},l?.body);return l?.xform?l?.xform(g):{data:Object.assign({},g),error:null}}async function S_(i,a,r,l,u,c){const h=__(a,l,u,c);let m;try{m=await i(r,Object.assign({},h))}catch(g){throw console.error(g),new zc(Ta(g),0)}if(m.ok||await $m(m),l?.noResolveJson)return m;try{return await m.json()}catch(g){await $m(g)}}function Jt(i){var a;let r=null;T_(i)&&(r=Object.assign({},i),i.expires_at||(r.expires_at=s_(i.expires_in)));const l=(a=i.user)!==null&&a!==void 0?a:i;return{data:{session:r,user:l},error:null}}function Vm(i){const a=Jt(i);return!a.error&&i.weak_password&&typeof i.weak_password=="object"&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.message&&typeof i.weak_password.message=="string"&&i.weak_password.reasons.reduce((r,l)=>r&&typeof l=="string",!0)&&(a.data.weak_password=i.weak_password),a}function na(i){var a;return{data:{user:(a=i.user)!==null&&a!==void 0?a:i},error:null}}function j_(i){return{data:i,error:null}}function E_(i){const{action_link:a,email_otp:r,hashed_token:l,redirect_to:u,verification_type:c}=i,h=kr(i,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),m={action_link:a,email_otp:r,hashed_token:l,redirect_to:u,verification_type:c},g=Object.assign({},h);return{data:{properties:m,user:g},error:null}}function Gm(i){return i}function T_(i){return i.access_token&&i.refresh_token&&i.expires_in}const pc=["global","local","others"];class N_{constructor({url:a="",headers:r={},fetch:l}){this.url=a,this.headers=r,this.fetch=sp(l),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(a,r=pc[0]){if(pc.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${pc.join(", ")}`);try{return await ue(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:a,noResolveJson:!0}),{data:null,error:null}}catch(l){if(re(l))return{data:null,error:l};throw l}}async inviteUserByEmail(a,r={}){try{return await ue(this.fetch,"POST",`${this.url}/invite`,{body:{email:a,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:na})}catch(l){if(re(l))return{data:{user:null},error:l};throw l}}async generateLink(a){try{const{options:r}=a,l=kr(a,["options"]),u=Object.assign(Object.assign({},l),r);return"newEmail"in l&&(u.new_email=l?.newEmail,delete u.newEmail),await ue(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:u,headers:this.headers,xform:E_,redirectTo:r?.redirectTo})}catch(r){if(re(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(a){try{return await ue(this.fetch,"POST",`${this.url}/admin/users`,{body:a,headers:this.headers,xform:na})}catch(r){if(re(r))return{data:{user:null},error:r};throw r}}async listUsers(a){var r,l,u,c,h,m,g;try{const p={nextPage:null,lastPage:0,total:0},x=await ue(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(r=a?.page)===null||r===void 0?void 0:r.toString())!==null&&l!==void 0?l:"",per_page:(c=(u=a?.perPage)===null||u===void 0?void 0:u.toString())!==null&&c!==void 0?c:""},xform:Gm});if(x.error)throw x.error;const v=await x.json(),w=(h=x.headers.get("x-total-count"))!==null&&h!==void 0?h:0,_=(g=(m=x.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&g!==void 0?g:[];return _.length>0&&(_.forEach(j=>{const O=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(j.split(";")[1].split("=")[1]);p[`${T}Page`]=O}),p.total=parseInt(w)),{data:Object.assign(Object.assign({},v),p),error:null}}catch(p){if(re(p))return{data:{users:[]},error:p};throw p}}async getUserById(a){vr(a);try{return await ue(this.fetch,"GET",`${this.url}/admin/users/${a}`,{headers:this.headers,xform:na})}catch(r){if(re(r))return{data:{user:null},error:r};throw r}}async updateUserById(a,r){vr(a);try{return await ue(this.fetch,"PUT",`${this.url}/admin/users/${a}`,{body:r,headers:this.headers,xform:na})}catch(l){if(re(l))return{data:{user:null},error:l};throw l}}async deleteUser(a,r=!1){vr(a);try{return await ue(this.fetch,"DELETE",`${this.url}/admin/users/${a}`,{headers:this.headers,body:{should_soft_delete:r},xform:na})}catch(l){if(re(l))return{data:{user:null},error:l};throw l}}async _listFactors(a){vr(a.userId);try{const{data:r,error:l}=await ue(this.fetch,"GET",`${this.url}/admin/users/${a.userId}/factors`,{headers:this.headers,xform:u=>({data:{factors:u},error:null})});return{data:r,error:l}}catch(r){if(re(r))return{data:null,error:r};throw r}}async _deleteFactor(a){vr(a.userId),vr(a.id);try{return{data:await ue(this.fetch,"DELETE",`${this.url}/admin/users/${a.userId}/factors/${a.id}`,{headers:this.headers}),error:null}}catch(r){if(re(r))return{data:null,error:r};throw r}}async _listOAuthClients(a){var r,l,u,c,h,m,g;try{const p={nextPage:null,lastPage:0,total:0},x=await ue(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(r=a?.page)===null||r===void 0?void 0:r.toString())!==null&&l!==void 0?l:"",per_page:(c=(u=a?.perPage)===null||u===void 0?void 0:u.toString())!==null&&c!==void 0?c:""},xform:Gm});if(x.error)throw x.error;const v=await x.json(),w=(h=x.headers.get("x-total-count"))!==null&&h!==void 0?h:0,_=(g=(m=x.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&g!==void 0?g:[];return _.length>0&&(_.forEach(j=>{const O=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(j.split(";")[1].split("=")[1]);p[`${T}Page`]=O}),p.total=parseInt(w)),{data:Object.assign(Object.assign({},v),p),error:null}}catch(p){if(re(p))return{data:{clients:[]},error:p};throw p}}async _createOAuthClient(a){try{return await ue(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:a,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(re(r))return{data:null,error:r};throw r}}async _getOAuthClient(a){try{return await ue(this.fetch,"GET",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(re(r))return{data:null,error:r};throw r}}async _updateOAuthClient(a,r){try{return await ue(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${a}`,{body:r,headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(re(l))return{data:null,error:l};throw l}}async _deleteOAuthClient(a){try{return await ue(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(re(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(a){try{return await ue(this.fetch,"POST",`${this.url}/admin/oauth/clients/${a}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(re(r))return{data:null,error:r};throw r}}}function Ym(i={}){return{getItem:a=>i[a]||null,setItem:(a,r)=>{i[a]=r},removeItem:a=>{delete i[a]}}}const br={debug:!!(globalThis&&rp()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class ip extends Error{constructor(a){super(a),this.isAcquireTimeout=!0}}class O_ extends ip{}async function A_(i,a,r){br.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",i,a);const l=new globalThis.AbortController;return a>0&&setTimeout(()=>{l.abort(),br.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",i)},a),await Promise.resolve().then(()=>globalThis.navigator.locks.request(i,a===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:l.signal},async u=>{if(u){br.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",i,u.name);try{return await r()}finally{br.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",i,u.name)}}else{if(a===0)throw br.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",i),new O_(`Acquiring an exclusive Navigator LockManager lock "${i}" immediately failed`);if(br.debug)try{const c=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(c,null,"  "))}catch(c){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",c)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function R_(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function lp(i){if(!/^0x[a-fA-F0-9]{40}$/.test(i))throw new Error(`@supabase/auth-js: Address "${i}" is invalid.`);return i.toLowerCase()}function C_(i){return parseInt(i,16)}function k_(i){const a=new TextEncoder().encode(i);return"0x"+Array.from(a,l=>l.toString(16).padStart(2,"0")).join("")}function z_(i){var a;const{chainId:r,domain:l,expirationTime:u,issuedAt:c=new Date,nonce:h,notBefore:m,requestId:g,resources:p,scheme:x,uri:v,version:w}=i;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!l)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(h&&h.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${h}`);if(!v)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(w!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${w}`);if(!((a=i.statement)===null||a===void 0)&&a.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${i.statement}`)}const _=lp(i.address),j=x?`${x}://${l}`:l,O=i.statement?`${i.statement}
`:"",T=`${j} wants you to sign in with your Ethereum account:
${_}

${O}`;let k=`URI: ${v}
Version: ${w}
Chain ID: ${r}${h?`
Nonce: ${h}`:""}
Issued At: ${c.toISOString()}`;if(u&&(k+=`
Expiration Time: ${u.toISOString()}`),m&&(k+=`
Not Before: ${m.toISOString()}`),g&&(k+=`
Request ID: ${g}`),p){let z=`
Resources:`;for(const C of p){if(!C||typeof C!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${C}`);z+=`
- ${C}`}k+=z}return`${T}
${k}`}class Fe extends Error{constructor({message:a,code:r,cause:l,name:u}){var c;super(a,{cause:l}),this.__isWebAuthnError=!0,this.name=(c=u??(l instanceof Error?l.name:void 0))!==null&&c!==void 0?c:"Unknown Error",this.code=r}}class Ol extends Fe{constructor(a,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:a}),this.name="WebAuthnUnknownError",this.originalError=r}}function U_({error:i,options:a}){var r,l,u;const{publicKey:c}=a;if(!c)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(a.signal instanceof AbortSignal)return new Fe({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else if(i.name==="ConstraintError"){if(((r=c.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Fe({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:i});if(a.mediation==="conditional"&&((l=c.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new Fe({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:i});if(((u=c.authenticatorSelection)===null||u===void 0?void 0:u.userVerification)==="required")return new Fe({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:i})}else{if(i.name==="InvalidStateError")return new Fe({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:i});if(i.name==="NotAllowedError")return new Fe({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="NotSupportedError")return c.pubKeyCredParams.filter(m=>m.type==="public-key").length===0?new Fe({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:i}):new Fe({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:i});if(i.name==="SecurityError"){const h=window.location.hostname;if(op(h)){if(c.rp.id!==h)return new Fe({message:`The RP ID "${c.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new Fe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="TypeError"){if(c.user.id.byteLength<1||c.user.id.byteLength>64)return new Fe({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:i})}else if(i.name==="UnknownError")return new Fe({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new Fe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}function D_({error:i,options:a}){const{publicKey:r}=a;if(!r)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(a.signal instanceof AbortSignal)return new Fe({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else{if(i.name==="NotAllowedError")return new Fe({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="SecurityError"){const l=window.location.hostname;if(op(l)){if(r.rpId!==l)return new Fe({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new Fe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="UnknownError")return new Fe({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new Fe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}class M_{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const a=new AbortController;return this.controller=a,a.signal}cancelCeremony(){if(this.controller){const a=new Error("Manually cancelling existing WebAuthn API call");a.name="AbortError",this.controller.abort(a),this.controller=void 0}}}const B_=new M_;function L_(i){if(!i)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(i);const{challenge:a,user:r,excludeCredentials:l}=i,u=kr(i,["challenge","user","excludeCredentials"]),c=jr(a).buffer,h=Object.assign(Object.assign({},r),{id:jr(r.id).buffer}),m=Object.assign(Object.assign({},u),{challenge:c,user:h});if(l&&l.length>0){m.excludeCredentials=new Array(l.length);for(let g=0;g<l.length;g++){const p=l[g];m.excludeCredentials[g]=Object.assign(Object.assign({},p),{id:jr(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return m}function q_(i){if(!i)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(i);const{challenge:a,allowCredentials:r}=i,l=kr(i,["challenge","allowCredentials"]),u=jr(a).buffer,c=Object.assign(Object.assign({},l),{challenge:u});if(r&&r.length>0){c.allowCredentials=new Array(r.length);for(let h=0;h<r.length;h++){const m=r[h];c.allowCredentials[h]=Object.assign(Object.assign({},m),{id:jr(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return c}function H_(i){var a;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const r=i;return{id:i.id,rawId:i.id,response:{attestationObject:Ra(new Uint8Array(i.response.attestationObject)),clientDataJSON:Ra(new Uint8Array(i.response.clientDataJSON))},type:"public-key",clientExtensionResults:i.getClientExtensionResults(),authenticatorAttachment:(a=r.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function $_(i){var a;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const r=i,l=i.getClientExtensionResults(),u=i.response;return{id:i.id,rawId:i.id,response:{authenticatorData:Ra(new Uint8Array(u.authenticatorData)),clientDataJSON:Ra(new Uint8Array(u.clientDataJSON)),signature:Ra(new Uint8Array(u.signature)),userHandle:u.userHandle?Ra(new Uint8Array(u.userHandle)):void 0},type:"public-key",clientExtensionResults:l,authenticatorAttachment:(a=r.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function op(i){return i==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(i)}function Km(){var i,a;return!!(ot()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((i=navigator?.credentials)===null||i===void 0?void 0:i.create)=="function"&&typeof((a=navigator?.credentials)===null||a===void 0?void 0:a.get)=="function")}async function V_(i){try{const a=await navigator.credentials.create(i);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new Ol("Browser returned unexpected credential type",a)}:{data:null,error:new Ol("Empty credential response",a)}}catch(a){return{data:null,error:U_({error:a,options:i})}}}async function G_(i){try{const a=await navigator.credentials.get(i);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new Ol("Browser returned unexpected credential type",a)}:{data:null,error:new Ol("Empty credential response",a)}}catch(a){return{data:null,error:D_({error:a,options:i})}}}const Y_={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},K_={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Al(...i){const a=u=>u!==null&&typeof u=="object"&&!Array.isArray(u),r=u=>u instanceof ArrayBuffer||ArrayBuffer.isView(u),l={};for(const u of i)if(u)for(const c in u){const h=u[c];if(h!==void 0)if(Array.isArray(h))l[c]=h;else if(r(h))l[c]=h;else if(a(h)){const m=l[c];a(m)?l[c]=Al(m,h):l[c]=Al(h)}else l[c]=h}return l}function P_(i,a){return Al(Y_,i,a||{})}function Q_(i,a){return Al(K_,i,a||{})}class J_{constructor(a){this.client=a,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(a){return this.client.mfa.enroll(Object.assign(Object.assign({},a),{factorType:"webauthn"}))}async _challenge({factorId:a,webauthn:r,friendlyName:l,signal:u},c){try{const{data:h,error:m}=await this.client.mfa.challenge({factorId:a,webauthn:r});if(!h)return{data:null,error:m};const g=u??B_.createNewAbortSignal();if(h.webauthn.type==="create"){const{user:p}=h.webauthn.credential_options.publicKey;p.name||(p.name=`${p.id}:${l}`),p.displayName||(p.displayName=p.name)}switch(h.webauthn.type){case"create":{const p=P_(h.webauthn.credential_options.publicKey,c?.create),{data:x,error:v}=await V_({publicKey:p,signal:g});return x?{data:{factorId:a,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:x}},error:null}:{data:null,error:v}}case"request":{const p=Q_(h.webauthn.credential_options.publicKey,c?.request),{data:x,error:v}=await G_(Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:p,signal:g}));return x?{data:{factorId:a,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:x}},error:null}:{data:null,error:v}}}}catch(h){return re(h)?{data:null,error:h}:{data:null,error:new Aa("Unexpected error in challenge",h)}}}async _verify({challengeId:a,factorId:r,webauthn:l}){return this.client.mfa.verify({factorId:r,challengeId:a,webauthn:l})}async _authenticate({factorId:a,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:u}={}},c){if(!r)return{data:null,error:new Hs("rpId is required for WebAuthn authentication")};try{if(!Km())return{data:null,error:new Aa("Browser does not support WebAuthn",null)};const{data:h,error:m}=await this.challenge({factorId:a,webauthn:{rpId:r,rpOrigins:l},signal:u},{request:c});if(!h)return{data:null,error:m};const{webauthn:g}=h;return this._verify({factorId:a,challengeId:h.challengeId,webauthn:{type:g.type,rpId:r,rpOrigins:l,credential_response:g.credential_response}})}catch(h){return re(h)?{data:null,error:h}:{data:null,error:new Aa("Unexpected error in authenticate",h)}}}async _register({friendlyName:a,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:u}={}},c){if(!r)return{data:null,error:new Hs("rpId is required for WebAuthn registration")};try{if(!Km())return{data:null,error:new Aa("Browser does not support WebAuthn",null)};const{data:h,error:m}=await this._enroll({friendlyName:a});if(!h)return await this.client.mfa.listFactors().then(x=>{var v;return(v=x.data)===null||v===void 0?void 0:v.all.find(w=>w.factor_type==="webauthn"&&w.friendly_name===a&&w.status!=="unverified")}).then(x=>x?this.client.mfa.unenroll({factorId:x?.id}):void 0),{data:null,error:m};const{data:g,error:p}=await this._challenge({factorId:h.id,friendlyName:h.friendly_name,webauthn:{rpId:r,rpOrigins:l},signal:u},{create:c});return g?this._verify({factorId:h.id,challengeId:g.challengeId,webauthn:{rpId:r,rpOrigins:l,type:g.webauthn.type,credential_response:g.webauthn.credential_response}}):{data:null,error:p}}catch(h){return re(h)?{data:null,error:h}:{data:null,error:new Aa("Unexpected error in register",h)}}}}R_();const X_={url:Kw,storageKey:Pw,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Qw,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Pm(i,a,r){return await r()}const xr={};class $s{get jwks(){var a,r;return(r=(a=xr[this.storageKey])===null||a===void 0?void 0:a.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(a){xr[this.storageKey]=Object.assign(Object.assign({},xr[this.storageKey]),{jwks:a})}get jwks_cached_at(){var a,r;return(r=(a=xr[this.storageKey])===null||a===void 0?void 0:a.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(a){xr[this.storageKey]=Object.assign(Object.assign({},xr[this.storageKey]),{cachedAt:a})}constructor(a){var r,l,u;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const c=Object.assign(Object.assign({},X_),a);if(this.storageKey=c.storageKey,this.instanceID=(r=$s.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,$s.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!c.debug,typeof c.debug=="function"&&(this.logger=c.debug),this.instanceID>0&&ot()){const h=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(h),this.logDebugMessages&&console.trace(h)}if(this.persistSession=c.persistSession,this.autoRefreshToken=c.autoRefreshToken,this.admin=new N_({url:c.url,headers:c.headers,fetch:c.fetch}),this.url=c.url,this.headers=c.headers,this.fetch=sp(c.fetch),this.lock=c.lock||Pm,this.detectSessionInUrl=c.detectSessionInUrl,this.flowType=c.flowType,this.hasCustomAuthorizationHeader=c.hasCustomAuthorizationHeader,this.throwOnError=c.throwOnError,c.lock?this.lock=c.lock:ot()&&(!((l=globalThis?.navigator)===null||l===void 0)&&l.locks)?this.lock=A_:this.lock=Pm,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new J_(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(c.storage?this.storage=c.storage:rp()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Ym(this.memoryStorage)),c.userStorage&&(this.userStorage=c.userStorage)):(this.memoryStorage={},this.storage=Ym(this.memoryStorage)),ot()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(h){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",h)}(u=this.broadcastChannel)===null||u===void 0||u.addEventListener("message",async h=>{this._debug("received broadcast notification from other tab or client",h),await this._notifyAllSubscribers(h.data.event,h.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(a){if(this.throwOnError&&a&&a.error)throw a.error;return a}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${tp}) ${new Date().toISOString()}`}_debug(...a){return this.logDebugMessages&&this.logger(this._logPrefix(),...a),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var a;try{let r={},l="none";if(ot()&&(r=l_(window.location.href),this._isImplicitGrantCallback(r)?l="implicit":await this._isPKCECallback(r)&&(l="pkce")),ot()&&this.detectSessionInUrl&&l!=="none"){const{data:u,error:c}=await this._getSessionFromURL(r,l);if(c){if(this._debug("#_initialize()","error detecting session from URL",c),Ww(c)){const g=(a=c.details)===null||a===void 0?void 0:a.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:c}}return await this._removeSession(),{error:c}}const{session:h,redirectType:m}=u;return this._debug("#_initialize()","detected session in URL",h,"redirect type",m),await this._saveSession(h),setTimeout(async()=>{m==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",h):await this._notifyAllSubscribers("SIGNED_IN",h)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return re(r)?this._returnResult({error:r}):this._returnResult({error:new Aa("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(a){var r,l,u;try{const c=await ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(l=(r=a?.options)===null||r===void 0?void 0:r.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:(u=a?.options)===null||u===void 0?void 0:u.captchaToken}},xform:Jt}),{data:h,error:m}=c;if(m||!h)return this._returnResult({data:{user:null,session:null},error:m});const g=h.session,p=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:p,session:g},error:null})}catch(c){if(re(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signUp(a){var r,l,u;try{let c;if("email"in a){const{email:x,password:v,options:w}=a;let _=null,j=null;this.flowType==="pkce"&&([_,j]=await yr(this.storage,this.storageKey)),c=await ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w?.emailRedirectTo,body:{email:x,password:v,data:(r=w?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:w?.captchaToken},code_challenge:_,code_challenge_method:j},xform:Jt})}else if("phone"in a){const{phone:x,password:v,options:w}=a;c=await ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:x,password:v,data:(l=w?.data)!==null&&l!==void 0?l:{},channel:(u=w?.channel)!==null&&u!==void 0?u:"sms",gotrue_meta_security:{captcha_token:w?.captchaToken}},xform:Jt})}else throw new xl("You must provide either an email or phone number and a password");const{data:h,error:m}=c;if(m||!h)return this._returnResult({data:{user:null,session:null},error:m});const g=h.session,p=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:p,session:g},error:null})}catch(c){if(re(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithPassword(a){try{let r;if("email"in a){const{email:c,password:h,options:m}=a;r=await ue(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:h,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:Vm})}else if("phone"in a){const{phone:c,password:h,options:m}=a;r=await ue(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:h,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:Vm})}else throw new xl("You must provide either an email or phone number and a password");const{data:l,error:u}=r;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const c=new pr;return this._returnResult({data:{user:null,session:null},error:c})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign({user:l.user,session:l.session},l.weak_password?{weakPassword:l.weak_password}:null),error:u})}catch(r){if(re(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(a){var r,l,u,c;return await this._handleProviderSignIn(a.provider,{redirectTo:(r=a.options)===null||r===void 0?void 0:r.redirectTo,scopes:(l=a.options)===null||l===void 0?void 0:l.scopes,queryParams:(u=a.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:(c=a.options)===null||c===void 0?void 0:c.skipBrowserRedirect})}async exchangeCodeForSession(a){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(a))}async signInWithWeb3(a){const{chain:r}=a;switch(r){case"ethereum":return await this.signInWithEthereum(a);case"solana":return await this.signInWithSolana(a);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(a){var r,l,u,c,h,m,g,p,x,v,w;let _,j;if("message"in a)_=a.message,j=a.signature;else{const{chain:O,wallet:T,statement:k,options:z}=a;let C;if(ot())if(typeof T=="object")C=T;else{const ne=window;if("ethereum"in ne&&typeof ne.ethereum=="object"&&"request"in ne.ethereum&&typeof ne.ethereum.request=="function")C=ne.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!z?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=T}const K=new URL((r=z?.url)!==null&&r!==void 0?r:window.location.href),W=await C.request({method:"eth_requestAccounts"}).then(ne=>ne).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!W||W.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const J=lp(W[0]);let P=(l=z?.signInWithEthereum)===null||l===void 0?void 0:l.chainId;if(!P){const ne=await C.request({method:"eth_chainId"});P=C_(ne)}const ye={domain:K.host,address:J,statement:k,uri:K.href,version:"1",chainId:P,nonce:(u=z?.signInWithEthereum)===null||u===void 0?void 0:u.nonce,issuedAt:(h=(c=z?.signInWithEthereum)===null||c===void 0?void 0:c.issuedAt)!==null&&h!==void 0?h:new Date,expirationTime:(m=z?.signInWithEthereum)===null||m===void 0?void 0:m.expirationTime,notBefore:(g=z?.signInWithEthereum)===null||g===void 0?void 0:g.notBefore,requestId:(p=z?.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(x=z?.signInWithEthereum)===null||x===void 0?void 0:x.resources};_=z_(ye),j=await C.request({method:"personal_sign",params:[k_(_),J]})}try{const{data:O,error:T}=await ue(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:_,signature:j},!((v=a.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(w=a.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:Jt});if(T)throw T;if(!O||!O.session||!O.user){const k=new pr;return this._returnResult({data:{user:null,session:null},error:k})}return O.session&&(await this._saveSession(O.session),await this._notifyAllSubscribers("SIGNED_IN",O.session)),this._returnResult({data:Object.assign({},O),error:T})}catch(O){if(re(O))return this._returnResult({data:{user:null,session:null},error:O});throw O}}async signInWithSolana(a){var r,l,u,c,h,m,g,p,x,v,w,_;let j,O;if("message"in a)j=a.message,O=a.signature;else{const{chain:T,wallet:k,statement:z,options:C}=a;let K;if(ot())if(typeof k=="object")K=k;else{const J=window;if("solana"in J&&typeof J.solana=="object"&&("signIn"in J.solana&&typeof J.solana.signIn=="function"||"signMessage"in J.solana&&typeof J.solana.signMessage=="function"))K=J.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!C?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");K=k}const W=new URL((r=C?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in K&&K.signIn){const J=await K.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},C?.signInWithSolana),{version:"1",domain:W.host,uri:W.href}),z?{statement:z}:null));let P;if(Array.isArray(J)&&J[0]&&typeof J[0]=="object")P=J[0];else if(J&&typeof J=="object"&&"signedMessage"in J&&"signature"in J)P=J;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in P&&"signature"in P&&(typeof P.signedMessage=="string"||P.signedMessage instanceof Uint8Array)&&P.signature instanceof Uint8Array)j=typeof P.signedMessage=="string"?P.signedMessage:new TextDecoder().decode(P.signedMessage),O=P.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in K)||typeof K.signMessage!="function"||!("publicKey"in K)||typeof K!="object"||!K.publicKey||!("toBase58"in K.publicKey)||typeof K.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");j=[`${W.host} wants you to sign in with your Solana account:`,K.publicKey.toBase58(),...z?["",z,""]:[""],"Version: 1",`URI: ${W.href}`,`Issued At: ${(u=(l=C?.signInWithSolana)===null||l===void 0?void 0:l.issuedAt)!==null&&u!==void 0?u:new Date().toISOString()}`,...!((c=C?.signInWithSolana)===null||c===void 0)&&c.notBefore?[`Not Before: ${C.signInWithSolana.notBefore}`]:[],...!((h=C?.signInWithSolana)===null||h===void 0)&&h.expirationTime?[`Expiration Time: ${C.signInWithSolana.expirationTime}`]:[],...!((m=C?.signInWithSolana)===null||m===void 0)&&m.chainId?[`Chain ID: ${C.signInWithSolana.chainId}`]:[],...!((g=C?.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${C.signInWithSolana.nonce}`]:[],...!((p=C?.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${C.signInWithSolana.requestId}`]:[],...!((v=(x=C?.signInWithSolana)===null||x===void 0?void 0:x.resources)===null||v===void 0)&&v.length?["Resources",...C.signInWithSolana.resources.map(P=>`- ${P}`)]:[]].join(`
`);const J=await K.signMessage(new TextEncoder().encode(j),"utf8");if(!J||!(J instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");O=J}}try{const{data:T,error:k}=await ue(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:j,signature:Ra(O)},!((w=a.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(_=a.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:Jt});if(k)throw k;if(!T||!T.session||!T.user){const z=new pr;return this._returnResult({data:{user:null,session:null},error:z})}return T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),this._returnResult({data:Object.assign({},T),error:k})}catch(T){if(re(T))return this._returnResult({data:{user:null,session:null},error:T});throw T}}async _exchangeCodeForSession(a){const r=await Ea(this.storage,`${this.storageKey}-code-verifier`),[l,u]=(r??"").split("/");try{const{data:c,error:h}=await ue(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:a,code_verifier:l},xform:Jt});if(await Wn(this.storage,`${this.storageKey}-code-verifier`),h)throw h;if(!c||!c.session||!c.user){const m=new pr;return this._returnResult({data:{user:null,session:null,redirectType:null},error:m})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:Object.assign(Object.assign({},c),{redirectType:u??null}),error:h})}catch(c){if(re(c))return this._returnResult({data:{user:null,session:null,redirectType:null},error:c});throw c}}async signInWithIdToken(a){try{const{options:r,provider:l,token:u,access_token:c,nonce:h}=a,m=await ue(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:l,id_token:u,access_token:c,nonce:h,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Jt}),{data:g,error:p}=m;if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!g||!g.session||!g.user){const x=new pr;return this._returnResult({data:{user:null,session:null},error:x})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:g,error:p})}catch(r){if(re(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(a){var r,l,u,c,h;try{if("email"in a){const{email:m,options:g}=a;let p=null,x=null;this.flowType==="pkce"&&([p,x]=await yr(this.storage,this.storageKey));const{error:v}=await ue(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:m,data:(r=g?.data)!==null&&r!==void 0?r:{},create_user:(l=g?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:p,code_challenge_method:x},redirectTo:g?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:v})}if("phone"in a){const{phone:m,options:g}=a,{data:p,error:x}=await ue(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:m,data:(u=g?.data)!==null&&u!==void 0?u:{},create_user:(c=g?.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},channel:(h=g?.channel)!==null&&h!==void 0?h:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:p?.message_id},error:x})}throw new xl("You must provide either an email or phone number.")}catch(m){if(re(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async verifyOtp(a){var r,l;try{let u,c;"options"in a&&(u=(r=a.options)===null||r===void 0?void 0:r.redirectTo,c=(l=a.options)===null||l===void 0?void 0:l.captchaToken);const{data:h,error:m}=await ue(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},a),{gotrue_meta_security:{captcha_token:c}}),redirectTo:u,xform:Jt});if(m)throw m;if(!h)throw new Error("An error occurred on token verification.");const g=h.session,p=h.user;return g?.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(a.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),this._returnResult({data:{user:p,session:g},error:null})}catch(u){if(re(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithSSO(a){var r,l,u,c,h;try{let m=null,g=null;this.flowType==="pkce"&&([m,g]=await yr(this.storage,this.storageKey));const p=await ue(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in a?{provider_id:a.providerId}:null),"domain"in a?{domain:a.domain}:null),{redirect_to:(l=(r=a.options)===null||r===void 0?void 0:r.redirectTo)!==null&&l!==void 0?l:void 0}),!((u=a?.options)===null||u===void 0)&&u.captchaToken?{gotrue_meta_security:{captcha_token:a.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:m,code_challenge_method:g}),headers:this.headers,xform:j_});return!((c=p.data)===null||c===void 0)&&c.url&&ot()&&!(!((h=a.options)===null||h===void 0)&&h.skipBrowserRedirect)&&window.location.assign(p.data.url),this._returnResult(p)}catch(m){if(re(m))return this._returnResult({data:null,error:m});throw m}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async a=>{const{data:{session:r},error:l}=a;if(l)throw l;if(!r)throw new Ct;const{error:u}=await ue(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:u})})}catch(a){if(re(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async resend(a){try{const r=`${this.url}/resend`;if("email"in a){const{email:l,type:u,options:c}=a,{error:h}=await ue(this.fetch,"POST",r,{headers:this.headers,body:{email:l,type:u,gotrue_meta_security:{captcha_token:c?.captchaToken}},redirectTo:c?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}else if("phone"in a){const{phone:l,type:u,options:c}=a,{data:h,error:m}=await ue(this.fetch,"POST",r,{headers:this.headers,body:{phone:l,type:u,gotrue_meta_security:{captcha_token:c?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:h?.message_id},error:m})}throw new xl("You must provide either an email or phone number and a type")}catch(r){if(re(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(a,r){this._debug("#_acquireLock","begin",a);try{if(this.lockAcquired){const l=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),u=(async()=>(await l,await r()))();return this.pendingInLock.push((async()=>{try{await u}catch{}})()),u}return await this.lock(`lock:${this.storageKey}`,a,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const l=r();for(this.pendingInLock.push((async()=>{try{await l}catch{}})()),await l;this.pendingInLock.length;){const u=[...this.pendingInLock];await Promise.all(u),this.pendingInLock.splice(0,u.length)}return await l}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(a){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await a(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let a=null;const r=await Ea(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?a=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!a)return{data:{session:null},error:null};const l=a.expires_at?a.expires_at*1e3-Date.now()<hc:!1;if(this._debug("#__loadSession()",`session has${l?"":" not"} expired`,"expires_at",a.expires_at),!l){if(this.userStorage){const h=await Ea(this.userStorage,this.storageKey+"-user");h?.user?a.user=h.user:a.user=gc()}if(this.storage.isServer&&a.user&&!a.user.__isUserNotAvailableProxy){const h={value:this.suppressGetSessionWarning};a.user=x_(a.user,h),h.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:a},error:null}}const{data:u,error:c}=await this._callRefreshToken(a.refresh_token);return c?this._returnResult({data:{session:null},error:c}):this._returnResult({data:{session:u},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(a){return a?await this._getUser(a):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(a){try{return a?await ue(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:a,xform:na}):await this._useSession(async r=>{var l,u,c;const{data:h,error:m}=r;if(m)throw m;return!(!((l=h.session)===null||l===void 0)&&l.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ct}:await ue(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(c=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0,xform:na})})}catch(r){if(re(r))return Fw(r)&&(await this._removeSession(),await Wn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(a,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(a,r))}async _updateUser(a,r={}){try{return await this._useSession(async l=>{const{data:u,error:c}=l;if(c)throw c;if(!u.session)throw new Ct;const h=u.session;let m=null,g=null;this.flowType==="pkce"&&a.email!=null&&([m,g]=await yr(this.storage,this.storageKey));const{data:p,error:x}=await ue(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},a),{code_challenge:m,code_challenge_method:g}),jwt:h.access_token,xform:na});if(x)throw x;return h.user=p.user,await this._saveSession(h),await this._notifyAllSubscribers("USER_UPDATED",h),this._returnResult({data:{user:h.user},error:null})})}catch(l){if(re(l))return this._returnResult({data:{user:null},error:l});throw l}}async setSession(a){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(a))}async _setSession(a){try{if(!a.access_token||!a.refresh_token)throw new Ct;const r=Date.now()/1e3;let l=r,u=!0,c=null;const{payload:h}=mc(a.access_token);if(h.exp&&(l=h.exp,u=l<=r),u){const{data:m,error:g}=await this._callRefreshToken(a.refresh_token);if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!m)return{data:{user:null,session:null},error:null};c=m}else{const{data:m,error:g}=await this._getUser(a.access_token);if(g)throw g;c={access_token:a.access_token,refresh_token:a.refresh_token,user:m.user,token_type:"bearer",expires_in:l-r,expires_at:l},await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)}return this._returnResult({data:{user:c.user,session:c},error:null})}catch(r){if(re(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(a){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(a))}async _refreshSession(a){try{return await this._useSession(async r=>{var l;if(!a){const{data:h,error:m}=r;if(m)throw m;a=(l=h.session)!==null&&l!==void 0?l:void 0}if(!a?.refresh_token)throw new Ct;const{data:u,error:c}=await this._callRefreshToken(a.refresh_token);return c?this._returnResult({data:{user:null,session:null},error:c}):u?this._returnResult({data:{user:u.user,session:u},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(re(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(a,r){try{if(!ot())throw new wl("No browser detected.");if(a.error||a.error_description||a.error_code)throw new wl(a.error_description||"Error in URL with unspecified error_description",{error:a.error||"unspecified_error",code:a.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Dm("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new wl("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!a.code)throw new Dm("No code detected.");const{data:z,error:C}=await this._exchangeCodeForSession(a.code);if(C)throw C;const K=new URL(window.location.href);return K.searchParams.delete("code"),window.history.replaceState(window.history.state,"",K.toString()),{data:{session:z.session,redirectType:null},error:null}}const{provider_token:l,provider_refresh_token:u,access_token:c,refresh_token:h,expires_in:m,expires_at:g,token_type:p}=a;if(!c||!m||!h||!p)throw new wl("No session defined in URL");const x=Math.round(Date.now()/1e3),v=parseInt(m);let w=x+v;g&&(w=parseInt(g));const _=w-x;_*1e3<=_r&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${v}s`);const j=w-v;x-j>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",j,w,x):x-j<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",j,w,x);const{data:O,error:T}=await this._getUser(c);if(T)throw T;const k={provider_token:l,provider_refresh_token:u,access_token:c,expires_in:v,expires_at:w,refresh_token:h,token_type:p,user:O.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:k,redirectType:a.type},error:null})}catch(l){if(re(l))return this._returnResult({data:{session:null,redirectType:null},error:l});throw l}}_isImplicitGrantCallback(a){return!!(a.access_token||a.error_description)}async _isPKCECallback(a){const r=await Ea(this.storage,`${this.storageKey}-code-verifier`);return!!(a.code&&r)}async signOut(a={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(a))}async _signOut({scope:a}={scope:"global"}){return await this._useSession(async r=>{var l;const{data:u,error:c}=r;if(c)return this._returnResult({error:c});const h=(l=u.session)===null||l===void 0?void 0:l.access_token;if(h){const{error:m}=await this.admin.signOut(h,a);if(m&&!(Zw(m)&&(m.status===404||m.status===401||m.status===403)))return this._returnResult({error:m})}return a!=="others"&&(await this._removeSession(),await Wn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(a){const r=i_(),l={id:r,callback:a,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,l),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:l}}}async _emitInitialSession(a){return await this._useSession(async r=>{var l,u;try{const{data:{session:c},error:h}=r;if(h)throw h;await((l=this.stateChangeEmitters.get(a))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",c)),this._debug("INITIAL_SESSION","callback id",a,"session",c)}catch(c){await((u=this.stateChangeEmitters.get(a))===null||u===void 0?void 0:u.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",a,"error",c),console.error(c)}})}async resetPasswordForEmail(a,r={}){let l=null,u=null;this.flowType==="pkce"&&([l,u]=await yr(this.storage,this.storageKey,!0));try{return await ue(this.fetch,"POST",`${this.url}/recover`,{body:{email:a,code_challenge:l,code_challenge_method:u,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(c){if(re(c))return this._returnResult({data:null,error:c});throw c}}async getUserIdentities(){var a;try{const{data:r,error:l}=await this.getUser();if(l)throw l;return this._returnResult({data:{identities:(a=r.user.identities)!==null&&a!==void 0?a:[]},error:null})}catch(r){if(re(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(a){return"token"in a?this.linkIdentityIdToken(a):this.linkIdentityOAuth(a)}async linkIdentityOAuth(a){var r;try{const{data:l,error:u}=await this._useSession(async c=>{var h,m,g,p,x;const{data:v,error:w}=c;if(w)throw w;const _=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,a.provider,{redirectTo:(h=a.options)===null||h===void 0?void 0:h.redirectTo,scopes:(m=a.options)===null||m===void 0?void 0:m.scopes,queryParams:(g=a.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await ue(this.fetch,"GET",_,{headers:this.headers,jwt:(x=(p=v.session)===null||p===void 0?void 0:p.access_token)!==null&&x!==void 0?x:void 0})});if(u)throw u;return ot()&&!(!((r=a.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(l?.url),this._returnResult({data:{provider:a.provider,url:l?.url},error:null})}catch(l){if(re(l))return this._returnResult({data:{provider:a.provider,url:null},error:l});throw l}}async linkIdentityIdToken(a){return await this._useSession(async r=>{var l;try{const{error:u,data:{session:c}}=r;if(u)throw u;const{options:h,provider:m,token:g,access_token:p,nonce:x}=a,v=await ue(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(l=c?.access_token)!==null&&l!==void 0?l:void 0,body:{provider:m,id_token:g,access_token:p,nonce:x,link_identity:!0,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:Jt}),{data:w,error:_}=v;return _?this._returnResult({data:{user:null,session:null},error:_}):!w||!w.session||!w.user?this._returnResult({data:{user:null,session:null},error:new pr}):(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("USER_UPDATED",w.session)),this._returnResult({data:w,error:_}))}catch(u){if(re(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}})}async unlinkIdentity(a){try{return await this._useSession(async r=>{var l,u;const{data:c,error:h}=r;if(h)throw h;return await ue(this.fetch,"DELETE",`${this.url}/user/identities/${a.identity_id}`,{headers:this.headers,jwt:(u=(l=c.session)===null||l===void 0?void 0:l.access_token)!==null&&u!==void 0?u:void 0})})}catch(r){if(re(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(a){const r=`#_refreshAccessToken(${a.substring(0,5)}...)`;this._debug(r,"begin");try{const l=Date.now();return await c_(async u=>(u>0&&await u_(200*Math.pow(2,u-1)),this._debug(r,"refreshing attempt",u),await ue(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:a},headers:this.headers,xform:Jt})),(u,c)=>{const h=200*Math.pow(2,u);return c&&fc(c)&&Date.now()+h-l<_r})}catch(l){if(this._debug(r,"error",l),re(l))return this._returnResult({data:{session:null,user:null},error:l});throw l}finally{this._debug(r,"end")}}_isValidSession(a){return typeof a=="object"&&a!==null&&"access_token"in a&&"refresh_token"in a&&"expires_at"in a}async _handleProviderSignIn(a,r){const l=await this._getUrlForProvider(`${this.url}/authorize`,a,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",a,"options",r,"url",l),ot()&&!r.skipBrowserRedirect&&window.location.assign(l),{data:{provider:a,url:l},error:null}}async _recoverAndRefresh(){var a,r;const l="#_recoverAndRefresh()";this._debug(l,"begin");try{const u=await Ea(this.storage,this.storageKey);if(u&&this.userStorage){let h=await Ea(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!h&&(h={user:u.user},await Sr(this.userStorage,this.storageKey+"-user",h)),u.user=(a=h?.user)!==null&&a!==void 0?a:gc()}else if(u&&!u.user&&!u.user){const h=await Ea(this.storage,this.storageKey+"-user");h&&h?.user?(u.user=h.user,await Wn(this.storage,this.storageKey+"-user"),await Sr(this.storage,this.storageKey,u)):u.user=gc()}if(this._debug(l,"session from storage",u),!this._isValidSession(u)){this._debug(l,"session is not valid"),u!==null&&await this._removeSession();return}const c=((r=u.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<hc;if(this._debug(l,`session has${c?"":" not"} expired with margin of ${hc}s`),c){if(this.autoRefreshToken&&u.refresh_token){const{error:h}=await this._callRefreshToken(u.refresh_token);h&&(console.error(h),fc(h)||(this._debug(l,"refresh failed with a non-retryable error, removing the session",h),await this._removeSession()))}}else if(u.user&&u.user.__isUserNotAvailableProxy===!0)try{const{data:h,error:m}=await this._getUser(u.access_token);!m&&h?.user?(u.user=h.user,await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)):this._debug(l,"could not get user data, skipping SIGNED_IN notification")}catch(h){console.error("Error getting user data:",h),this._debug(l,"error getting user data, skipping SIGNED_IN notification",h)}else await this._notifyAllSubscribers("SIGNED_IN",u)}catch(u){this._debug(l,"error",u),console.error(u);return}finally{this._debug(l,"end")}}async _callRefreshToken(a){var r,l;if(!a)throw new Ct;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const u=`#_callRefreshToken(${a.substring(0,5)}...)`;this._debug(u,"begin");try{this.refreshingDeferred=new Ul;const{data:c,error:h}=await this._refreshAccessToken(a);if(h)throw h;if(!c.session)throw new Ct;await this._saveSession(c.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",c.session);const m={data:c.session,error:null};return this.refreshingDeferred.resolve(m),m}catch(c){if(this._debug(u,"error",c),re(c)){const h={data:null,error:c};return fc(c)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(h),h}throw(l=this.refreshingDeferred)===null||l===void 0||l.reject(c),c}finally{this.refreshingDeferred=null,this._debug(u,"end")}}async _notifyAllSubscribers(a,r,l=!0){const u=`#_notifyAllSubscribers(${a})`;this._debug(u,"begin",r,`broadcast = ${l}`);try{this.broadcastChannel&&l&&this.broadcastChannel.postMessage({event:a,session:r});const c=[],h=Array.from(this.stateChangeEmitters.values()).map(async m=>{try{await m.callback(a,r)}catch(g){c.push(g)}});if(await Promise.all(h),c.length>0){for(let m=0;m<c.length;m+=1)console.error(c[m]);throw c[0]}}finally{this._debug(u,"end")}}async _saveSession(a){this._debug("#_saveSession()",a),this.suppressGetSessionWarning=!0;const r=Object.assign({},a),l=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!l&&r.user&&await Sr(this.userStorage,this.storageKey+"-user",{user:r.user});const u=Object.assign({},r);delete u.user;const c=Hm(u);await Sr(this.storage,this.storageKey,c)}else{const u=Hm(r);await Sr(this.storage,this.storageKey,u)}}async _removeSession(){this._debug("#_removeSession()"),await Wn(this.storage,this.storageKey),await Wn(this.storage,this.storageKey+"-code-verifier"),await Wn(this.storage,this.storageKey+"-user"),this.userStorage&&await Wn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const a=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{a&&ot()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",a)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const a=setInterval(()=>this._autoRefreshTokenTick(),_r);this.autoRefreshTicker=a,a&&typeof a=="object"&&typeof a.unref=="function"?a.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(a),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const a=this.autoRefreshTicker;this.autoRefreshTicker=null,a&&clearInterval(a)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const a=Date.now();try{return await this._useSession(async r=>{const{data:{session:l}}=r;if(!l||!l.refresh_token||!l.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const u=Math.floor((l.expires_at*1e3-a)/_r);this._debug("#_autoRefreshTokenTick()",`access token expires in ${u} ticks, a tick lasts ${_r}ms, refresh threshold is ${Cc} ticks`),u<=Cc&&await this._callRefreshToken(l.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(a){if(a.isAcquireTimeout||a instanceof ip)this._debug("auto refresh token tick lock not available");else throw a}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ot()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(a){console.error("_handleVisibilityChange",a)}}async _onVisibilityChanged(a){const r=`#_onVisibilityChanged(${a})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),a||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(a,r,l){const u=[`provider=${encodeURIComponent(r)}`];if(l?.redirectTo&&u.push(`redirect_to=${encodeURIComponent(l.redirectTo)}`),l?.scopes&&u.push(`scopes=${encodeURIComponent(l.scopes)}`),this.flowType==="pkce"){const[c,h]=await yr(this.storage,this.storageKey),m=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(h)}`});u.push(m.toString())}if(l?.queryParams){const c=new URLSearchParams(l.queryParams);u.push(c.toString())}return l?.skipBrowserRedirect&&u.push(`skip_http_redirect=${l.skipBrowserRedirect}`),`${a}?${u.join("&")}`}async _unenroll(a){try{return await this._useSession(async r=>{var l;const{data:u,error:c}=r;return c?this._returnResult({data:null,error:c}):await ue(this.fetch,"DELETE",`${this.url}/factors/${a.factorId}`,{headers:this.headers,jwt:(l=u?.session)===null||l===void 0?void 0:l.access_token})})}catch(r){if(re(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(a){try{return await this._useSession(async r=>{var l,u;const{data:c,error:h}=r;if(h)return this._returnResult({data:null,error:h});const m=Object.assign({friendly_name:a.friendlyName,factor_type:a.factorType},a.factorType==="phone"?{phone:a.phone}:a.factorType==="totp"?{issuer:a.issuer}:{}),{data:g,error:p}=await ue(this.fetch,"POST",`${this.url}/factors`,{body:m,headers:this.headers,jwt:(l=c?.session)===null||l===void 0?void 0:l.access_token});return p?this._returnResult({data:null,error:p}):(a.factorType==="totp"&&g.type==="totp"&&(!((u=g?.totp)===null||u===void 0)&&u.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),this._returnResult({data:g,error:null}))})}catch(r){if(re(r))return this._returnResult({data:null,error:r});throw r}}async _verify(a){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var l;const{data:u,error:c}=r;if(c)return this._returnResult({data:null,error:c});const h=Object.assign({challenge_id:a.challengeId},"webauthn"in a?{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_response:a.webauthn.type==="create"?H_(a.webauthn.credential_response):$_(a.webauthn.credential_response)})}:{code:a.code}),{data:m,error:g}=await ue(this.fetch,"POST",`${this.url}/factors/${a.factorId}/verify`,{body:h,headers:this.headers,jwt:(l=u?.session)===null||l===void 0?void 0:l.access_token});return g?this._returnResult({data:null,error:g}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+m.expires_in},m)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",m),this._returnResult({data:m,error:g}))})}catch(r){if(re(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(a){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var l;const{data:u,error:c}=r;if(c)return this._returnResult({data:null,error:c});const h=await ue(this.fetch,"POST",`${this.url}/factors/${a.factorId}/challenge`,{body:a,headers:this.headers,jwt:(l=u?.session)===null||l===void 0?void 0:l.access_token});if(h.error)return h;const{data:m}=h;if(m.type!=="webauthn")return{data:m,error:null};switch(m.webauthn.type){case"create":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:L_(m.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:q_(m.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(re(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(a){const{data:r,error:l}=await this._challenge({factorId:a.factorId});return l?this._returnResult({data:null,error:l}):await this._verify({factorId:a.factorId,challengeId:r.id,code:a.code})}async _listFactors(){var a;const{data:{user:r},error:l}=await this.getUser();if(l)return{data:null,error:l};const u={all:[],phone:[],totp:[],webauthn:[]};for(const c of(a=r?.factors)!==null&&a!==void 0?a:[])u.all.push(c),c.status==="verified"&&u[c.factor_type].push(c);return{data:u,error:null}}async _getAuthenticatorAssuranceLevel(){var a,r;const{data:{session:l},error:u}=await this.getSession();if(u)return this._returnResult({data:null,error:u});if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=mc(l.access_token);let h=null;c.aal&&(h=c.aal);let m=h;((r=(a=l.user.factors)===null||a===void 0?void 0:a.filter(x=>x.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(m="aal2");const p=c.amr||[];return{data:{currentLevel:h,nextLevel:m,currentAuthenticationMethods:p},error:null}}async _getAuthorizationDetails(a){try{return await this._useSession(async r=>{const{data:{session:l},error:u}=r;return u?this._returnResult({data:null,error:u}):l?await ue(this.fetch,"GET",`${this.url}/oauth/authorizations/${a}`,{headers:this.headers,jwt:l.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new Ct})})}catch(r){if(re(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(a,r){try{return await this._useSession(async l=>{const{data:{session:u},error:c}=l;if(c)return this._returnResult({data:null,error:c});if(!u)return this._returnResult({data:null,error:new Ct});const h=await ue(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:u.access_token,body:{action:"approve"},xform:m=>({data:m,error:null})});return h.data&&h.data.redirect_url&&ot()&&!r?.skipBrowserRedirect&&window.location.assign(h.data.redirect_url),h})}catch(l){if(re(l))return this._returnResult({data:null,error:l});throw l}}async _denyAuthorization(a,r){try{return await this._useSession(async l=>{const{data:{session:u},error:c}=l;if(c)return this._returnResult({data:null,error:c});if(!u)return this._returnResult({data:null,error:new Ct});const h=await ue(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:u.access_token,body:{action:"deny"},xform:m=>({data:m,error:null})});return h.data&&h.data.redirect_url&&ot()&&!r?.skipBrowserRedirect&&window.location.assign(h.data.redirect_url),h})}catch(l){if(re(l))return this._returnResult({data:null,error:l});throw l}}async _listOAuthGrants(){try{return await this._useSession(async a=>{const{data:{session:r},error:l}=a;return l?this._returnResult({data:null,error:l}):r?await ue(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new Ct})})}catch(a){if(re(a))return this._returnResult({data:null,error:a});throw a}}async _revokeOAuthGrant(a){try{return await this._useSession(async r=>{const{data:{session:l},error:u}=r;return u?this._returnResult({data:null,error:u}):l?(await ue(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:l.access_token,query:{client_id:a.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Ct})})}catch(r){if(re(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(a,r={keys:[]}){let l=r.keys.find(m=>m.kid===a);if(l)return l;const u=Date.now();if(l=this.jwks.keys.find(m=>m.kid===a),l&&this.jwks_cached_at+Xw>u)return l;const{data:c,error:h}=await ue(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(h)throw h;return!c.keys||c.keys.length===0||(this.jwks=c,this.jwks_cached_at=u,l=c.keys.find(m=>m.kid===a),!l)?null:l}async getClaims(a,r={}){try{let l=a;if(!l){const{data:_,error:j}=await this.getSession();if(j||!_.session)return this._returnResult({data:null,error:j});l=_.session.access_token}const{header:u,payload:c,signature:h,raw:{header:m,payload:g}}=mc(l);r?.allowExpired||y_(c.exp);const p=!u.alg||u.alg.startsWith("HS")||!u.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(u.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!p){const{error:_}=await this.getUser(l);if(_)throw _;return{data:{claims:c,header:u,signature:h},error:null}}const x=v_(u.alg),v=await crypto.subtle.importKey("jwk",p,x,!0,["verify"]);if(!await crypto.subtle.verify(x,v,h,r_(`${m}.${g}`)))throw new Uc("Invalid JWT signature");return{data:{claims:c,header:u,signature:h},error:null}}catch(l){if(re(l))return this._returnResult({data:null,error:l});throw l}}}$s.nextInstanceID={};const I_=$s;class Z_ extends I_{constructor(a){super(a)}}class F_{constructor(a,r,l){var u,c,h;this.supabaseUrl=a,this.supabaseKey=r;const m=Yw(a);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",m),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",m),this.storageUrl=new URL("storage/v1",m),this.functionsUrl=new URL("functions/v1",m);const g=`sb-${m.hostname.split(".")[0]}-auth-token`,p={db:Mw,realtime:Lw,auth:Object.assign(Object.assign({},Bw),{storageKey:g}),global:Dw},x=Gw(l??{},p);this.storageKey=(u=x.auth.storageKey)!==null&&u!==void 0?u:"",this.headers=(c=x.global.headers)!==null&&c!==void 0?c:{},x.accessToken?(this.accessToken=x.accessToken,this.auth=new Proxy({},{get:(v,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((h=x.auth)!==null&&h!==void 0?h:{},this.headers,x.global.fetch),this.fetch=$w(r,this._getAccessToken.bind(this),x.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},x.realtime)),this.accessToken&&this.accessToken().then(v=>this.realtime.setAuth(v)).catch(v=>console.warn("Failed to set initial Realtime auth token:",v)),this.rest=new Lx(new URL("rest/v1",m).href,{headers:this.headers,schema:x.db.schema,fetch:this.fetch}),this.storage=new kw(this.storageUrl.href,this.headers,this.fetch,l?.storage),x.accessToken||this._listenForAuthEvents()}get functions(){return new Ux(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(a){return this.rest.from(a)}schema(a){return this.rest.schema(a)}rpc(a,r={},l={head:!1,get:!1,count:void 0}){return this.rest.rpc(a,r,l)}channel(a,r={config:{}}){return this.realtime.channel(a,r)}getChannels(){return this.realtime.getChannels()}removeChannel(a){return this.realtime.removeChannel(a)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var a,r;if(this.accessToken)return await this.accessToken();const{data:l}=await this.auth.getSession();return(r=(a=l.session)===null||a===void 0?void 0:a.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:a,persistSession:r,detectSessionInUrl:l,storage:u,userStorage:c,storageKey:h,flowType:m,lock:g,debug:p,throwOnError:x},v,w){const _={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Z_({url:this.authUrl.href,headers:Object.assign(Object.assign({},_),v),storageKey:h,autoRefreshToken:a,persistSession:r,detectSessionInUrl:l,storage:u,userStorage:c,flowType:m,lock:g,debug:p,throwOnError:x,fetch:w,hasCustomAuthorizationHeader:Object.keys(this.headers).some(j=>j.toLowerCase()==="authorization")})}_initRealtimeClient(a){return new tw(this.realtimeUrl.href,Object.assign(Object.assign({},a),{params:Object.assign({apikey:this.supabaseKey},a?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,l)=>{this._handleTokenChanged(r,"CLIENT",l?.access_token)})}_handleTokenChanged(a,r,l){(a==="TOKEN_REFRESHED"||a==="SIGNED_IN")&&this.changedAccessToken!==l?(this.changedAccessToken=l,this.realtime.setAuth(l)):a==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const W_=(i,a,r)=>new F_(i,a,r);function e1(){if(typeof window<"u"||typeof process>"u")return!1;const i=process.version;if(i==null)return!1;const a=i.match(/^v(\d+)\./);return a?parseInt(a[1],10)<=18:!1}e1()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const t1="https://iilycdzgxneeziufgahn.supabase.co",n1="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlpbHljZHpneG5lZXppdWZnYWhuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ1OTk4ODMsImV4cCI6MjA4MDE3NTg4M30.cpjQcpPKZgOud3GnaAo6aC7c07n3mzVzQJ8LzEFmjBg",Ne=W_(t1,n1),up=U.createContext();function a1({children:i}){const[a,r]=U.useState(!0),[l,u]=U.useState(!1),[c,h]=U.useState([]),[m,g]=U.useState(null),[p,x]=U.useState(null),[v,w]=U.useState([]),[_,j]=U.useState({}),[O,T]=U.useState(null),k=I=>({id:I.id.toString(),title:I.title,author:I.author,genre:I.genre,pageCount:I.pages,rating:I.rating,coverImage:I.image_url,addedBy:I.added_by,pitch:I.pitch,scope:I.scope||"IN_SCOPE",finalScore:0}),z=I=>{const ae=_[I.id]||{},A=Object.values(ae);if(A.length===0)return{finalScore:0,breakdown:{}};if(A.some(se=>se.veto))return{finalScore:0,breakdown:{veto:!0}};const Y=A.reduce((se,le)=>se+(le.score||0),0)/A.length,fe=A.filter(se=>se.passion).length*.5,E=A.reduce((se,le)=>se+Math.pow((le.score||0)-Y,2),0)/A.length,Q=Math.sqrt(E)>2?.5:0;let X=Y+fe-Q;return{finalScore:Math.max(0,Math.min(10,X)).toFixed(1),breakdown:{avg:Y,passion:fe,penalty:Q}}};U.useEffect(()=>{if(!Ne){u(!0),r(!1);return}Ne.auth.getSession().then(({data:{session:q}})=>{g(q),q?.user?.user_metadata?.full_name&&x(q.user.user_metadata.full_name)});const{data:{subscription:I}}=Ne.auth.onAuthStateChange((q,Y)=>{g(Y),Y?.user?.user_metadata?.full_name?x(Y.user.user_metadata.full_name):x(null)});(async()=>{r(!0);try{const{data:q,error:Y}=await Ne.from("members").select("name");if(Y)throw Y;q&&h(q.map(Q=>Q.name));const{data:ee,error:fe}=await Ne.from("books").select("*, votes(*)");if(fe)throw fe;if(ee){const Q=ee.map(k);w(Q);const X={};ee.forEach(se=>{se.votes&&se.votes.length>0&&(X[se.id]={},se.votes.forEach(le=>{X[se.id][le.user_name]={score:le.score!==void 0?le.score:le.value,value:le.score!==void 0?le.score:le.value,type:le.veto_reason?"veto":"standard",veto:!!le.veto_reason,vetoReason:le.veto_reason,reason:le.veto_reason,passion:le.passion}}))}),j(X)}const{data:E,error:G}=await Ne.from("cycles").select("voting_deadline").eq("status","voting_open").single();!G&&E&&T(E.voting_deadline)}catch(q){console.error("Error fetching data:",q),w([])}finally{r(!1)}})();const A=Ne.channel("public:data").on("postgres_changes",{event:"*",schema:"public",table:"books"},q=>{q.eventType==="INSERT"?w(Y=>[...Y,k(q.new)]):q.eventType==="DELETE"?w(Y=>Y.filter(ee=>ee.id!==q.old.id.toString())):q.eventType==="UPDATE"&&w(Y=>Y.map(ee=>ee.id===q.new.id.toString()?{...ee,...k(q.new)}:ee))}).on("postgres_changes",{event:"*",schema:"public",table:"votes"},q=>{if(q.eventType==="INSERT"||q.eventType==="UPDATE"){const Y=q.new;j(ee=>{const E={...ee[Y.book_id]||{},[Y.user_name]:{score:Y.score!==void 0?Y.score:Y.value,value:Y.score!==void 0?Y.score:Y.value,type:Y.veto_reason?"veto":"standard",veto:!!Y.veto_reason,vetoReason:Y.veto_reason,reason:Y.veto_reason,passion:Y.passion}};return{...ee,[Y.book_id]:E}}),w(ee=>ee.map(fe=>(fe.id===Y.book_id.toString(),fe)))}}).on("postgres_changes",{event:"*",schema:"public",table:"members"},q=>{q.eventType==="INSERT"&&h(Y=>[...Y,q.new.name])}).subscribe();return()=>{I.unsubscribe(),Ne.removeChannel(A)}},[]);const C=async I=>{if(c.length>=10||c.includes(I)||!Ne)return!1;const{error:ae}=await Ne.from("members").insert([{name:I}]);return!ae},K=async(I,ae)=>{const{data:A,error:q}=await Ne.auth.signInWithPassword({email:I,password:ae});if(q)throw q;return A},W=async(I,ae,A)=>{const{data:q,error:Y}=await Ne.auth.signUp({email:I,password:ae,options:{data:{full_name:A}}});if(Y)throw Y;return q.user&&await C(A),q},J=async()=>{await Ne.auth.signOut(),x(null),g(null)},P=async I=>{if(v.length>=60){alert("Club limit (60) reached! No more nominations allowed.");return}if(v.filter(Y=>Y.addedBy===p).length>=10){alert("You have reached your limit (10 books). Please vote now.");return}if(!Ne)return;const{data:A,error:q}=await Ne.from("books").insert([{title:I.title,author:I.author,genre:I.genre,pages:I.pageCount,rating:I.rating,image_url:I.coverImage,added_by:I.addedBy,pitch:I.pitch,ifiye_score:0}]).select();q?(console.error("Supabase Insert Error:",q),alert("Failed to add book: "+q.message)):A&&w(Y=>[...Y,...A.map(k)])},ye=async(I,ae)=>{if(Ne)try{const A={book_id:I,user_name:p,score:ae.score,veto_reason:ae.vetoReason,passion:ae.score>=9},{error:q}=await Ne.from("votes").upsert(A,{onConflict:"book_id, user_name"});q?(console.error("Vote Error:",q),alert("Failed to submit vote: "+q.message)):j(Y=>({...Y,[I]:{...Y[I]||{},[p]:{score:ae.score,value:ae.score,type:ae.veto?"veto":"standard",veto:ae.veto,vetoReason:ae.vetoReason,reason:ae.vetoReason,passion:ae.score>=9}}}))}catch(A){console.error("Vote Exception:",A),alert("An unexpected error occurred while voting.")}},ne=async I=>{Ne&&await Ne.from("books").delete().eq("id",I)},ce=async(I,ae)=>{if(!Ne)return;const A={};ae.title&&(A.title=ae.title),ae.author&&(A.author=ae.author),ae.category&&(A.category=ae.category),ae.pages&&(A.pages=ae.pages),ae.coverImage&&(A.image_url=ae.coverImage),ae.pitch&&(A.pitch=ae.pitch),ae.scope&&(A.scope=ae.scope),await Ne.from("books").update(A).eq("id",I)},Se=async I=>{T(I),Ne&&await Ne.from("cycles").update({voting_deadline:I}).eq("status","voting_open")},de=p&&(p==="Mohamed Sugule"||p.toLowerCase()==="admin"),ut=async(I=!1)=>{if(!Ne)return;const{data:ae}=await Ne.from("books").select("id");if(ae){const q=ae.map(Y=>Y.id);q.length>0&&await Ne.from("books").delete().in("id",q)}const{data:A}=await Ne.from("votes").select("id");if(A){const q=A.map(Y=>Y.id);q.length>0&&await Ne.from("votes").delete().in("id",q)}if(I){const{data:q}=await Ne.from("members").select("id");if(q){const Y=q.map(ee=>ee.id);Y.length>0&&await Ne.from("members").delete().in("id",Y)}x(null),localStorage.removeItem("ifiye_current_user")}};return l?f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-950 text-red-500 p-8 text-center",children:f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Connection Error"}),f.jsx("p",{children:"Could not connect to Supabase. Please check your internet connection or configuration."})]})}):f.jsx(up.Provider,{value:{members:c,currentUser:p,books:v,votes:_,isAdmin:de,addMember:C,login:K,signUp:W,logout:J,addBook:P,castVote:ye,deleteBook:ne,updateBook:ce,resetData:ut,isLoading:a,calculateScore:z,votingDeadline:O,updateDeadline:Se},children:i})}function an(){return U.useContext(up)}const r1=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),cp=(...i)=>i.filter((a,r,l)=>!!a&&a.trim()!==""&&l.indexOf(a)===r).join(" ").trim();var s1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const i1=U.forwardRef(({color:i="currentColor",size:a=24,strokeWidth:r=2,absoluteStrokeWidth:l,className:u="",children:c,iconNode:h,...m},g)=>U.createElement("svg",{ref:g,...s1,width:a,height:a,stroke:i,strokeWidth:l?Number(r)*24/Number(a):r,className:cp("lucide",u),...m},[...h.map(([p,x])=>U.createElement(p,x)),...Array.isArray(c)?c:[c]]));const Ae=(i,a)=>{const r=U.forwardRef(({className:l,...u},c)=>U.createElement(i1,{ref:c,iconNode:a,className:cp(`lucide-${r1(i)}`,l),...u}));return r.displayName=`${i}`,r};const Dc=Ae("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);const Or=Ae("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);const l1=Ae("ChartNoAxesColumn",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);const dp=Ae("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const o1=Ae("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const u1=Ae("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);const Mc=Ae("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const c1=Ae("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);const yc=Ae("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);const hp=Ae("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);const d1=Ae("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);const h1=Ae("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const f1=Ae("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);const Ms=Ae("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);const m1=Ae("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);const fp=Ae("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const g1=Ae("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);const p1=Ae("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const y1=Ae("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);const v1=Ae("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const b1=Ae("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const Ar=Ae("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);const x1=Ae("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);const Qm=Ae("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);const w1=Ae("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const Wc=Ae("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const Er=Ae("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);const mp=Ae("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);const Jm=Ae("Vote",[["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}],["path",{d:"M5 7c0-1.1.9-2 2-2h10a2 2 0 0 1 2 2v12H5V7Z",key:"1ezoue"}],["path",{d:"M22 19H2",key:"nuriw5"}]]);const Ps=Ae("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function gp(i){var a,r,l="";if(typeof i=="string"||typeof i=="number")l+=i;else if(typeof i=="object")if(Array.isArray(i)){var u=i.length;for(a=0;a<u;a++)i[a]&&(r=gp(i[a]))&&(l&&(l+=" "),l+=r)}else for(r in i)i[r]&&(l&&(l+=" "),l+=r);return l}function _1(){for(var i,a,r=0,l="",u=arguments.length;r<u;r++)(i=arguments[r])&&(a=gp(i))&&(l&&(l+=" "),l+=a);return l}const ed="-",S1=i=>{const a=E1(i),{conflictingClassGroups:r,conflictingClassGroupModifiers:l}=i;return{getClassGroupId:h=>{const m=h.split(ed);return m[0]===""&&m.length!==1&&m.shift(),pp(m,a)||j1(h)},getConflictingClassGroupIds:(h,m)=>{const g=r[h]||[];return m&&l[h]?[...g,...l[h]]:g}}},pp=(i,a)=>{if(i.length===0)return a.classGroupId;const r=i[0],l=a.nextPart.get(r),u=l?pp(i.slice(1),l):void 0;if(u)return u;if(a.validators.length===0)return;const c=i.join(ed);return a.validators.find(({validator:h})=>h(c))?.classGroupId},Xm=/^\[(.+)\]$/,j1=i=>{if(Xm.test(i)){const a=Xm.exec(i)[1],r=a?.substring(0,a.indexOf(":"));if(r)return"arbitrary.."+r}},E1=i=>{const{theme:a,prefix:r}=i,l={nextPart:new Map,validators:[]};return N1(Object.entries(i.classGroups),r).forEach(([c,h])=>{Bc(h,l,c,a)}),l},Bc=(i,a,r,l)=>{i.forEach(u=>{if(typeof u=="string"){const c=u===""?a:Im(a,u);c.classGroupId=r;return}if(typeof u=="function"){if(T1(u)){Bc(u(l),a,r,l);return}a.validators.push({validator:u,classGroupId:r});return}Object.entries(u).forEach(([c,h])=>{Bc(h,Im(a,c),r,l)})})},Im=(i,a)=>{let r=i;return a.split(ed).forEach(l=>{r.nextPart.has(l)||r.nextPart.set(l,{nextPart:new Map,validators:[]}),r=r.nextPart.get(l)}),r},T1=i=>i.isThemeGetter,N1=(i,a)=>a?i.map(([r,l])=>{const u=l.map(c=>typeof c=="string"?a+c:typeof c=="object"?Object.fromEntries(Object.entries(c).map(([h,m])=>[a+h,m])):c);return[r,u]}):i,O1=i=>{if(i<1)return{get:()=>{},set:()=>{}};let a=0,r=new Map,l=new Map;const u=(c,h)=>{r.set(c,h),a++,a>i&&(a=0,l=r,r=new Map)};return{get(c){let h=r.get(c);if(h!==void 0)return h;if((h=l.get(c))!==void 0)return u(c,h),h},set(c,h){r.has(c)?r.set(c,h):u(c,h)}}},yp="!",A1=i=>{const{separator:a,experimentalParseClassName:r}=i,l=a.length===1,u=a[0],c=a.length,h=m=>{const g=[];let p=0,x=0,v;for(let T=0;T<m.length;T++){let k=m[T];if(p===0){if(k===u&&(l||m.slice(T,T+c)===a)){g.push(m.slice(x,T)),x=T+c;continue}if(k==="/"){v=T;continue}}k==="["?p++:k==="]"&&p--}const w=g.length===0?m:m.substring(x),_=w.startsWith(yp),j=_?w.substring(1):w,O=v&&v>x?v-x:void 0;return{modifiers:g,hasImportantModifier:_,baseClassName:j,maybePostfixModifierPosition:O}};return r?m=>r({className:m,parseClassName:h}):h},R1=i=>{if(i.length<=1)return i;const a=[];let r=[];return i.forEach(l=>{l[0]==="["?(a.push(...r.sort(),l),r=[]):r.push(l)}),a.push(...r.sort()),a},C1=i=>({cache:O1(i.cacheSize),parseClassName:A1(i),...S1(i)}),k1=/\s+/,z1=(i,a)=>{const{parseClassName:r,getClassGroupId:l,getConflictingClassGroupIds:u}=a,c=[],h=i.trim().split(k1);let m="";for(let g=h.length-1;g>=0;g-=1){const p=h[g],{modifiers:x,hasImportantModifier:v,baseClassName:w,maybePostfixModifierPosition:_}=r(p);let j=!!_,O=l(j?w.substring(0,_):w);if(!O){if(!j){m=p+(m.length>0?" "+m:m);continue}if(O=l(w),!O){m=p+(m.length>0?" "+m:m);continue}j=!1}const T=R1(x).join(":"),k=v?T+yp:T,z=k+O;if(c.includes(z))continue;c.push(z);const C=u(O,j);for(let K=0;K<C.length;++K){const W=C[K];c.push(k+W)}m=p+(m.length>0?" "+m:m)}return m};function U1(){let i=0,a,r,l="";for(;i<arguments.length;)(a=arguments[i++])&&(r=vp(a))&&(l&&(l+=" "),l+=r);return l}const vp=i=>{if(typeof i=="string")return i;let a,r="";for(let l=0;l<i.length;l++)i[l]&&(a=vp(i[l]))&&(r&&(r+=" "),r+=a);return r};function D1(i,...a){let r,l,u,c=h;function h(g){const p=a.reduce((x,v)=>v(x),i());return r=C1(p),l=r.cache.get,u=r.cache.set,c=m,m(g)}function m(g){const p=l(g);if(p)return p;const x=z1(g,r);return u(g,x),x}return function(){return c(U1.apply(null,arguments))}}const qe=i=>{const a=r=>r[i]||[];return a.isThemeGetter=!0,a},bp=/^\[(?:([a-z-]+):)?(.+)\]$/i,M1=/^\d+\/\d+$/,B1=new Set(["px","full","screen"]),L1=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,q1=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,H1=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,$1=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,V1=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Sn=i=>Tr(i)||B1.has(i)||M1.test(i),ea=i=>Ur(i,"length",I1),Tr=i=>!!i&&!Number.isNaN(Number(i)),vc=i=>Ur(i,"number",Tr),Cs=i=>!!i&&Number.isInteger(Number(i)),G1=i=>i.endsWith("%")&&Tr(i.slice(0,-1)),pe=i=>bp.test(i),ta=i=>L1.test(i),Y1=new Set(["length","size","percentage"]),K1=i=>Ur(i,Y1,xp),P1=i=>Ur(i,"position",xp),Q1=new Set(["image","url"]),J1=i=>Ur(i,Q1,F1),X1=i=>Ur(i,"",Z1),ks=()=>!0,Ur=(i,a,r)=>{const l=bp.exec(i);return l?l[1]?typeof a=="string"?l[1]===a:a.has(l[1]):r(l[2]):!1},I1=i=>q1.test(i)&&!H1.test(i),xp=()=>!1,Z1=i=>$1.test(i),F1=i=>V1.test(i),W1=()=>{const i=qe("colors"),a=qe("spacing"),r=qe("blur"),l=qe("brightness"),u=qe("borderColor"),c=qe("borderRadius"),h=qe("borderSpacing"),m=qe("borderWidth"),g=qe("contrast"),p=qe("grayscale"),x=qe("hueRotate"),v=qe("invert"),w=qe("gap"),_=qe("gradientColorStops"),j=qe("gradientColorStopPositions"),O=qe("inset"),T=qe("margin"),k=qe("opacity"),z=qe("padding"),C=qe("saturate"),K=qe("scale"),W=qe("sepia"),J=qe("skew"),P=qe("space"),ye=qe("translate"),ne=()=>["auto","contain","none"],ce=()=>["auto","hidden","clip","visible","scroll"],Se=()=>["auto",pe,a],de=()=>[pe,a],ut=()=>["",Sn,ea],I=()=>["auto",Tr,pe],ae=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],A=()=>["solid","dashed","dotted","double","none"],q=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Y=()=>["start","end","center","between","around","evenly","stretch"],ee=()=>["","0",pe],fe=()=>["auto","avoid","all","avoid-page","page","left","right","column"],E=()=>[Tr,pe];return{cacheSize:500,separator:":",theme:{colors:[ks],spacing:[Sn,ea],blur:["none","",ta,pe],brightness:E(),borderColor:[i],borderRadius:["none","","full",ta,pe],borderSpacing:de(),borderWidth:ut(),contrast:E(),grayscale:ee(),hueRotate:E(),invert:ee(),gap:de(),gradientColorStops:[i],gradientColorStopPositions:[G1,ea],inset:Se(),margin:Se(),opacity:E(),padding:de(),saturate:E(),scale:E(),sepia:ee(),skew:E(),space:de(),translate:de()},classGroups:{aspect:[{aspect:["auto","square","video",pe]}],container:["container"],columns:[{columns:[ta]}],"break-after":[{"break-after":fe()}],"break-before":[{"break-before":fe()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ae(),pe]}],overflow:[{overflow:ce()}],"overflow-x":[{"overflow-x":ce()}],"overflow-y":[{"overflow-y":ce()}],overscroll:[{overscroll:ne()}],"overscroll-x":[{"overscroll-x":ne()}],"overscroll-y":[{"overscroll-y":ne()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[O]}],"inset-x":[{"inset-x":[O]}],"inset-y":[{"inset-y":[O]}],start:[{start:[O]}],end:[{end:[O]}],top:[{top:[O]}],right:[{right:[O]}],bottom:[{bottom:[O]}],left:[{left:[O]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Cs,pe]}],basis:[{basis:Se()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",pe]}],grow:[{grow:ee()}],shrink:[{shrink:ee()}],order:[{order:["first","last","none",Cs,pe]}],"grid-cols":[{"grid-cols":[ks]}],"col-start-end":[{col:["auto",{span:["full",Cs,pe]},pe]}],"col-start":[{"col-start":I()}],"col-end":[{"col-end":I()}],"grid-rows":[{"grid-rows":[ks]}],"row-start-end":[{row:["auto",{span:[Cs,pe]},pe]}],"row-start":[{"row-start":I()}],"row-end":[{"row-end":I()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",pe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",pe]}],gap:[{gap:[w]}],"gap-x":[{"gap-x":[w]}],"gap-y":[{"gap-y":[w]}],"justify-content":[{justify:["normal",...Y()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...Y(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...Y(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[z]}],px:[{px:[z]}],py:[{py:[z]}],ps:[{ps:[z]}],pe:[{pe:[z]}],pt:[{pt:[z]}],pr:[{pr:[z]}],pb:[{pb:[z]}],pl:[{pl:[z]}],m:[{m:[T]}],mx:[{mx:[T]}],my:[{my:[T]}],ms:[{ms:[T]}],me:[{me:[T]}],mt:[{mt:[T]}],mr:[{mr:[T]}],mb:[{mb:[T]}],ml:[{ml:[T]}],"space-x":[{"space-x":[P]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[P]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",pe,a]}],"min-w":[{"min-w":[pe,a,"min","max","fit"]}],"max-w":[{"max-w":[pe,a,"none","full","min","max","fit","prose",{screen:[ta]},ta]}],h:[{h:[pe,a,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[pe,a,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[pe,a,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[pe,a,"auto","min","max","fit"]}],"font-size":[{text:["base",ta,ea]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",vc]}],"font-family":[{font:[ks]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",pe]}],"line-clamp":[{"line-clamp":["none",Tr,vc]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Sn,pe]}],"list-image":[{"list-image":["none",pe]}],"list-style-type":[{list:["none","disc","decimal",pe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[i]}],"placeholder-opacity":[{"placeholder-opacity":[k]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[i]}],"text-opacity":[{"text-opacity":[k]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...A(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Sn,ea]}],"underline-offset":[{"underline-offset":["auto",Sn,pe]}],"text-decoration-color":[{decoration:[i]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:de()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",pe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",pe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[k]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ae(),P1]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",K1]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},J1]}],"bg-color":[{bg:[i]}],"gradient-from-pos":[{from:[j]}],"gradient-via-pos":[{via:[j]}],"gradient-to-pos":[{to:[j]}],"gradient-from":[{from:[_]}],"gradient-via":[{via:[_]}],"gradient-to":[{to:[_]}],rounded:[{rounded:[c]}],"rounded-s":[{"rounded-s":[c]}],"rounded-e":[{"rounded-e":[c]}],"rounded-t":[{"rounded-t":[c]}],"rounded-r":[{"rounded-r":[c]}],"rounded-b":[{"rounded-b":[c]}],"rounded-l":[{"rounded-l":[c]}],"rounded-ss":[{"rounded-ss":[c]}],"rounded-se":[{"rounded-se":[c]}],"rounded-ee":[{"rounded-ee":[c]}],"rounded-es":[{"rounded-es":[c]}],"rounded-tl":[{"rounded-tl":[c]}],"rounded-tr":[{"rounded-tr":[c]}],"rounded-br":[{"rounded-br":[c]}],"rounded-bl":[{"rounded-bl":[c]}],"border-w":[{border:[m]}],"border-w-x":[{"border-x":[m]}],"border-w-y":[{"border-y":[m]}],"border-w-s":[{"border-s":[m]}],"border-w-e":[{"border-e":[m]}],"border-w-t":[{"border-t":[m]}],"border-w-r":[{"border-r":[m]}],"border-w-b":[{"border-b":[m]}],"border-w-l":[{"border-l":[m]}],"border-opacity":[{"border-opacity":[k]}],"border-style":[{border:[...A(),"hidden"]}],"divide-x":[{"divide-x":[m]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[m]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[k]}],"divide-style":[{divide:A()}],"border-color":[{border:[u]}],"border-color-x":[{"border-x":[u]}],"border-color-y":[{"border-y":[u]}],"border-color-s":[{"border-s":[u]}],"border-color-e":[{"border-e":[u]}],"border-color-t":[{"border-t":[u]}],"border-color-r":[{"border-r":[u]}],"border-color-b":[{"border-b":[u]}],"border-color-l":[{"border-l":[u]}],"divide-color":[{divide:[u]}],"outline-style":[{outline:["",...A()]}],"outline-offset":[{"outline-offset":[Sn,pe]}],"outline-w":[{outline:[Sn,ea]}],"outline-color":[{outline:[i]}],"ring-w":[{ring:ut()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[i]}],"ring-opacity":[{"ring-opacity":[k]}],"ring-offset-w":[{"ring-offset":[Sn,ea]}],"ring-offset-color":[{"ring-offset":[i]}],shadow:[{shadow:["","inner","none",ta,X1]}],"shadow-color":[{shadow:[ks]}],opacity:[{opacity:[k]}],"mix-blend":[{"mix-blend":[...q(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":q()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[l]}],contrast:[{contrast:[g]}],"drop-shadow":[{"drop-shadow":["","none",ta,pe]}],grayscale:[{grayscale:[p]}],"hue-rotate":[{"hue-rotate":[x]}],invert:[{invert:[v]}],saturate:[{saturate:[C]}],sepia:[{sepia:[W]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[l]}],"backdrop-contrast":[{"backdrop-contrast":[g]}],"backdrop-grayscale":[{"backdrop-grayscale":[p]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[x]}],"backdrop-invert":[{"backdrop-invert":[v]}],"backdrop-opacity":[{"backdrop-opacity":[k]}],"backdrop-saturate":[{"backdrop-saturate":[C]}],"backdrop-sepia":[{"backdrop-sepia":[W]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[h]}],"border-spacing-x":[{"border-spacing-x":[h]}],"border-spacing-y":[{"border-spacing-y":[h]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",pe]}],duration:[{duration:E()}],ease:[{ease:["linear","in","out","in-out",pe]}],delay:[{delay:E()}],animate:[{animate:["none","spin","ping","pulse","bounce",pe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[K]}],"scale-x":[{"scale-x":[K]}],"scale-y":[{"scale-y":[K]}],rotate:[{rotate:[Cs,pe]}],"translate-x":[{"translate-x":[ye]}],"translate-y":[{"translate-y":[ye]}],"skew-x":[{"skew-x":[J]}],"skew-y":[{"skew-y":[J]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",pe]}],accent:[{accent:["auto",i]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",pe]}],"caret-color":[{caret:[i]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":de()}],"scroll-mx":[{"scroll-mx":de()}],"scroll-my":[{"scroll-my":de()}],"scroll-ms":[{"scroll-ms":de()}],"scroll-me":[{"scroll-me":de()}],"scroll-mt":[{"scroll-mt":de()}],"scroll-mr":[{"scroll-mr":de()}],"scroll-mb":[{"scroll-mb":de()}],"scroll-ml":[{"scroll-ml":de()}],"scroll-p":[{"scroll-p":de()}],"scroll-px":[{"scroll-px":de()}],"scroll-py":[{"scroll-py":de()}],"scroll-ps":[{"scroll-ps":de()}],"scroll-pe":[{"scroll-pe":de()}],"scroll-pt":[{"scroll-pt":de()}],"scroll-pr":[{"scroll-pr":de()}],"scroll-pb":[{"scroll-pb":de()}],"scroll-pl":[{"scroll-pl":de()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",pe]}],fill:[{fill:[i,"none"]}],"stroke-w":[{stroke:[Sn,ea,vc]}],stroke:[{stroke:[i,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},eS=D1(W1);function Ut(...i){return eS(_1(i))}function wp({size:i="large"}){return f.jsxs("div",{className:"flex flex-col items-center justify-center select-none",children:[f.jsx("h1",{className:`font-serif font-black text-transparent bg-clip-text bg-gradient-to-r from-amber-200 via-yellow-400 to-amber-600 ${i==="large"?"text-5xl":"text-2xl"}`,children:"IFIYE"}),f.jsx("span",{className:`text-amber-500/80 font-sans font-medium tracking-[0.6em] uppercase ${i==="large"?"text-xs mt-1":"text-[0.5rem]"}`,children:"Book Club"})]})}function tS(){const{login:i,signUp:a,members:r}=an(),[l,u]=U.useState(!0),[c,h]=U.useState(""),[m,g]=U.useState(""),[p,x]=U.useState(""),[v,w]=U.useState(""),[_,j]=U.useState(!1),[O,T]=U.useState(!1),k=async z=>{z.preventDefault(),w(""),j(!0);try{if(l)await i(c,m);else{if(!p.trim())throw new Error("Full Name is required");if(r.length>=10)throw new Error("Club is full (10 members max)");await a(c,m,p)}}catch(C){w(C.message)}finally{j(!1)}};return f.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:f.jsx("div",{className:"max-w-md w-full bg-gray-900/60 backdrop-blur-md rounded-2xl shadow-2xl overflow-hidden border border-white/10 animate-in fade-in slide-in-from-bottom-8 duration-1000",children:f.jsxs("div",{className:"p-8",children:[f.jsxs("div",{className:"text-center mb-8",children:[f.jsx("div",{className:"mb-4 transform hover:scale-105 transition-transform duration-500",children:f.jsx(wp,{size:"large"})}),f.jsx("p",{className:"text-gray-400 font-serif italic",children:'"A room without books is like a body without a soul."'})]}),f.jsxs("div",{className:"flex bg-black/40 p-1 rounded-lg mb-8 border border-white/5",children:[f.jsx("button",{onClick:()=>u(!0),className:Ut("flex-1 py-2 text-sm font-bold rounded-md transition-all",l?"bg-amber-500 text-gray-900 shadow-lg":"text-gray-500 hover:text-gray-300"),children:"Login"}),f.jsx("button",{onClick:()=>u(!1),className:Ut("flex-1 py-2 text-sm font-bold rounded-md transition-all",l?"text-gray-500 hover:text-gray-300":"bg-amber-500 text-gray-900 shadow-lg"),children:"Sign Up"})]}),f.jsxs("form",{onSubmit:k,className:"space-y-4",children:[!l&&f.jsxs("div",{className:"relative group",children:[f.jsx("input",{type:"text",value:p,onChange:z=>x(z.target.value),placeholder:"Full Name",className:"w-full px-4 py-3 bg-black/40 border border-white/10 rounded-lg text-gray-200 placeholder:text-gray-600 focus:border-amber-500 outline-none font-serif transition-colors",required:!l}),f.jsx(mp,{className:"absolute right-3 top-3 text-gray-600",size:20})]}),f.jsxs("div",{className:"relative group",children:[f.jsx("input",{type:"email",value:c,onChange:z=>h(z.target.value),placeholder:"Email Address",className:"w-full px-4 py-3 bg-black/40 border border-white/10 rounded-lg text-gray-200 placeholder:text-gray-600 focus:border-amber-500 outline-none font-sans transition-colors",required:!0}),f.jsx(g1,{className:"absolute right-3 top-3 text-gray-600",size:20})]}),f.jsxs("div",{className:"relative group",children:[f.jsx("input",{type:O?"text":"password",value:m,onChange:z=>g(z.target.value),placeholder:"Password",className:"w-full px-4 py-3 bg-black/40 border border-white/10 rounded-lg text-gray-200 placeholder:text-gray-600 focus:border-amber-500 outline-none font-sans transition-colors",required:!0}),f.jsx("button",{type:"button",onClick:()=>T(!O),className:"absolute right-3 top-3 text-gray-600 hover:text-gray-400 transition-colors",children:O?f.jsx(d1,{size:20}):f.jsx(h1,{size:20})})]}),v&&f.jsxs("div",{className:"p-3 bg-red-900/20 border border-red-900/50 rounded-lg text-red-400 text-xs font-bold flex items-center gap-2",children:[f.jsx("span",{className:"w-1.5 h-1.5 bg-red-500 rounded-full"})," ",v]}),f.jsxs("button",{type:"submit",disabled:_,className:"w-full py-3 bg-gradient-to-r from-amber-600 to-yellow-600 text-white rounded-lg font-bold hover:from-amber-500 hover:to-yellow-500 transition-all shadow-lg shadow-amber-900/20 flex items-center justify-center gap-2 transform active:scale-[0.98] disabled:opacity-50 disabled:cursor-not-allowed",children:[_?"Processing...":l?"Enter Club":"Join Club",!_&&f.jsx(Dc,{size:18})]})]}),f.jsx("div",{className:"mt-8 text-center",children:f.jsx("p",{className:"text-[10px] uppercase tracking-widest text-gray-600 font-bold",children:"Est. 2025  Private Members Only"})})]})})})}function _p({onClose:i,editingBook:a=null}){const{addBook:r,updateBook:l,currentUser:u}=an(),[c,h]=U.useState(1),[m,g]=U.useState(!1),[p,x]=U.useState([]),[v,w]=U.useState({title:"",author:"",category:"",pages:"",rating:"",coverUrl:"",pitch:""});U.useEffect(()=>{a&&(w({title:a.title,author:a.author,category:a.genre,pages:a.pageCount,rating:a.rating,coverUrl:a.coverImage,pitch:a.pitch||""}),h(2))},[a]);const _=["Fiction","Non-Fiction","Mystery","Sci-Fi","Fantasy","Horror","Romance","Manga","Biography","History"],j=C=>["Horror","Romance","Manga"].includes(C)?"OUT_OF_SCOPE":"IN_SCOPE",O=async()=>{if(v.title.trim()){g(!0),x([]);try{const K=await(await fetch(`https://www.googleapis.com/books/v1/volumes?q=${encodeURIComponent(v.title)}&maxResults=5`)).json();K.items&&K.items.length>0&&x(K.items.map(W=>{const J=W.volumeInfo,P=J.imageLinks,ye=P?.extraLarge||P?.large||P?.medium||P?.thumbnail;return{id:W.id,title:J.title,author:J.authors?J.authors[0]:"Unknown Author",pages:J.pageCount||0,rating:J.averageRating||0,coverUrl:ye,year:J.publishedDate?J.publishedDate.substring(0,4):"N/A"}}))}catch(C){console.error("Failed to fetch book data",C)}finally{g(!1)}}},T=C=>{w(K=>({...K,title:C.title,author:C.author,pages:C.pages,rating:C.rating,coverUrl:C.coverUrl||""})),h(2)},k=()=>{if(c===2){if(!v.category)return;h(3)}else if(c===3){if(!v.pitch.trim())return;h(4)}},z=()=>{const C=j(v.category),K={title:v.title,author:v.author,genre:v.category,pageCount:parseInt(v.pages),rating:parseFloat(v.rating)||0,coverImage:v.coverUrl,pitch:v.pitch,addedBy:u,scope:C};a?l(a.id,K):r({...K,addedAt:new Date().toISOString()}),i()};return f.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center p-4 z-[60]",children:f.jsxs("div",{className:"bg-gray-900 w-full max-w-2xl rounded-lg overflow-hidden shadow-2xl flex flex-col max-h-[90vh] border border-yellow-600/30",children:[f.jsxs("div",{className:"bg-gray-950 p-6 flex justify-between items-center border-b border-yellow-600/20",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-2xl font-serif text-yellow-500",children:a?"Edit Nomination":"Nominate a Book"}),f.jsxs("p",{className:"text-gray-500 text-sm",children:["Step ",c," of 4"]})]}),f.jsx("button",{onClick:i,className:"text-gray-500 hover:text-gray-300",children:f.jsx(Ps,{})})]}),f.jsx("div",{className:"h-1 bg-gray-800 w-full",children:f.jsx("div",{className:"h-full bg-yellow-500 transition-all duration-300",style:{width:`${c/4*100}%`}})}),f.jsxs("div",{className:"p-8 overflow-y-auto flex-1",children:[c===1&&f.jsxs("div",{className:"space-y-6 animate-in slide-in-from-right-4",children:[f.jsx("h4",{className:"text-xl font-serif text-white font-bold border-b border-gray-800 pb-2",children:"1. Find the Book"}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Title Search"}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("input",{required:!0,className:"flex-1 p-3 bg-gray-950 border border-gray-800 rounded text-gray-300 focus:border-yellow-500 outline-none text-lg font-serif placeholder:text-gray-700",value:v.title,onChange:C=>w({...v,title:C.target.value}),placeholder:"Enter book title...",onKeyDown:C=>C.key==="Enter"&&O()}),f.jsx("button",{type:"button",onClick:O,disabled:m||!v.title.trim(),className:"px-4 bg-yellow-600 text-gray-950 rounded hover:bg-yellow-500 disabled:opacity-50 transition-colors font-bold",children:m?f.jsx(fp,{className:"animate-spin",size:20}):f.jsx(v1,{size:20})})]})]}),p.length>0&&f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mt-4",children:p.map(C=>f.jsxs("div",{onClick:()=>T(C),className:"flex gap-4 p-3 bg-gray-950 border border-gray-800 rounded hover:border-yellow-500/50 cursor-pointer transition-all group",children:[f.jsx("div",{className:"w-16 h-24 bg-gray-800 flex-shrink-0",children:C.coverUrl&&f.jsx("img",{src:C.coverUrl,alt:"",className:"w-full h-full object-cover"})}),f.jsxs("div",{className:"overflow-hidden",children:[f.jsx("h5",{className:"font-bold text-gray-200 truncate group-hover:text-yellow-500 transition-colors",children:C.title}),f.jsx("p",{className:"text-sm text-gray-500 truncate",children:C.author}),f.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:[C.year,"  ",C.pages," pages"]})]})]},C.id))})]}),c===2&&f.jsxs("div",{className:"space-y-6 animate-in slide-in-from-right-4",children:[f.jsx("h4",{className:"text-xl font-serif text-white font-bold border-b border-gray-800 pb-2",children:"2. Verification"}),f.jsxs("div",{className:"flex gap-6",children:[f.jsx("div",{className:"w-32 h-48 bg-gray-950 rounded flex-shrink-0 border border-gray-800",children:v.coverUrl&&f.jsx("img",{src:v.coverUrl,alt:"",className:"w-full h-full object-cover rounded"})}),f.jsxs("div",{className:"flex-1 space-y-4",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-2xl font-serif font-bold text-white",children:v.title}),f.jsx("p",{className:"text-gray-500 italic",children:v.author})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Category"}),f.jsxs("select",{required:!0,className:"w-full p-3 bg-gray-950 border border-gray-800 rounded text-gray-300 focus:border-yellow-500 outline-none",value:v.category,onChange:C=>w({...v,category:C.target.value}),children:[f.jsx("option",{value:"",children:"Select..."}),_.map(C=>f.jsx("option",{value:C,children:C},C))]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Pages"}),f.jsx("input",{required:!0,type:"number",className:"w-full p-3 bg-gray-950 border border-gray-800 rounded text-gray-300 focus:border-yellow-500 outline-none",value:v.pages,onChange:C=>w({...v,pages:C.target.value})})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"External Rating (0-5)"}),v.rating>0?f.jsxs("div",{className:"flex items-center gap-2 p-3 bg-green-900/20 border border-green-900/50 rounded text-green-400",children:[f.jsx(dp,{size:18}),f.jsxs("span",{className:"font-bold",children:[v.rating," / 5.0"]}),f.jsx("span",{className:"text-xs opacity-60 ml-auto",children:"Verified by Google"})]}):f.jsxs("div",{className:"relative",children:[f.jsx("input",{required:!0,type:"number",step:"0.1",max:"5",className:"w-full p-3 bg-gray-950 border border-yellow-600/50 rounded text-yellow-500 focus:border-yellow-500 outline-none",value:v.rating,onChange:C=>w({...v,rating:C.target.value}),placeholder:"Enter rating (e.g. 4.2)"}),f.jsx("div",{className:"absolute right-3 top-3 text-yellow-600/50",children:f.jsx(Mc,{size:20})})]})]})]})]})]}),c===3&&f.jsxs("div",{className:"space-y-6 animate-in slide-in-from-right-4",children:[f.jsx("h4",{className:"text-xl font-serif text-white font-bold border-b border-gray-800 pb-2",children:"3. The Defense"}),f.jsxs("div",{children:[f.jsxs("label",{className:"block text-sm font-bold text-yellow-500 mb-2",children:["Why must we read this? ",f.jsx("span",{className:"text-red-500",children:"*"})]}),f.jsx("textarea",{required:!0,className:"w-full p-4 bg-gray-950 border border-gray-800 rounded text-gray-300 focus:border-yellow-500 outline-none min-h-[200px] font-serif text-lg leading-relaxed placeholder:text-gray-800",placeholder:"Persuade us. What makes this book essential reading for the club?",value:v.pitch,onChange:C=>w({...v,pitch:C.target.value})}),f.jsxs("p",{className:"text-xs text-gray-600 mt-2 text-right",children:[v.pitch.length," characters"]})]})]}),c===4&&f.jsxs("div",{className:"space-y-6 animate-in slide-in-from-right-4",children:[f.jsxs("h4",{className:"text-xl font-serif text-white font-bold border-b border-gray-800 pb-2",children:["4. Confirm ",a?"Update":"Nomination"]}),f.jsxs("div",{className:"flex gap-6 bg-gray-950 p-6 rounded-lg border border-gray-800 shadow-sm",children:[v.coverUrl&&f.jsx("img",{src:v.coverUrl,alt:"",className:"w-32 h-48 object-cover rounded shadow-md"}),f.jsxs("div",{className:"flex-1",children:[f.jsx("h3",{className:"text-2xl font-serif font-bold text-white mb-1",children:v.title}),f.jsx("p",{className:"text-gray-500 italic mb-4",children:v.author}),f.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm mb-4 text-gray-400",children:[f.jsxs("div",{children:[f.jsx("span",{className:"font-bold text-gray-300",children:"Category:"})," ",v.category]}),f.jsxs("div",{children:[f.jsx("span",{className:"font-bold text-gray-300",children:"Pages:"})," ",v.pages]})]}),f.jsx("div",{className:"bg-gray-900 p-4 rounded border-l-4 border-yellow-500",children:f.jsxs("p",{className:"font-serif italic text-gray-300",children:['"',v.pitch,'"']})})]})]}),v.category&&["Horror","Romance","Manga"].includes(v.category)&&f.jsxs("div",{className:"flex items-center gap-2 text-red-400 text-sm bg-red-900/10 p-4 rounded border border-red-900/20",children:[f.jsx(Mc,{size:20}),f.jsx("span",{className:"font-bold",children:"Warning: This category is Out of Scope. It will receive a 0.0 Relevance Score."})]})]})]}),f.jsxs("div",{className:"p-6 bg-gray-950 border-t border-gray-800 flex justify-between items-center",children:[c>1?f.jsx("button",{onClick:()=>h(c-1),className:"px-6 py-2 text-gray-500 hover:text-white font-bold uppercase text-sm tracking-wider",children:"Back"}):f.jsx("div",{}),c<4?f.jsx("button",{onClick:k,disabled:c===1&&p.length===0||c===2&&(!v.category||!v.rating&&v.rating!==0)||c===3&&!v.pitch.trim(),className:"px-8 py-3 bg-yellow-600 text-gray-950 font-serif font-bold rounded hover:bg-yellow-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-lg hover:shadow-yellow-500/20",children:"Next Step"}):f.jsx("button",{onClick:z,className:"px-8 py-3 bg-yellow-500 text-gray-950 font-serif font-bold rounded hover:bg-yellow-400 transition-all shadow-lg hover:shadow-yellow-500/20",children:a?"Update Nomination":"Confirm & Nominate"})]})]})})}function nS({onClose:i}){const{books:a,addBook:r,currentUser:l,deleteBook:u,updateBook:c,isAdmin:h,isLoading:m}=an(),[g,p]=U.useState(!1),[x,v]=U.useState(1),[w,_]=U.useState(!1),[j,O]=U.useState(null),[T,k]=U.useState([]),[z,C]=U.useState({title:"",author:"",category:"",pages:"",rating:"",coverUrl:"",pitch:""}),K=["Fiction","Non-Fiction","Mystery","Sci-Fi","Fantasy","Horror","Romance","Manga","Biography","History"],W=ne=>{switch(ne){case"Horror":return"bg-red-900 text-white";case"Romance":return"bg-pink-900 text-white";case"Manga":return"bg-purple-900 text-white";case"Sci-Fi":return"bg-blue-900 text-white";case"Fantasy":return"bg-indigo-900 text-white";case"Fiction":return"bg-emerald-900 text-white";case"Non-Fiction":return"bg-amber-900 text-white";default:return"bg-gray-800 text-yellow-500"}},J=ne=>{C({title:ne.title,author:ne.author,category:ne.genre,pages:ne.pageCount,rating:ne.rating,coverUrl:ne.coverImage,pitch:ne.pitch||""}),O(ne.id),v(2),p(!0)},P=ne=>{window.confirm(`Are you sure you want to withdraw "${ne.title}"?`)&&u(ne.id)},ye=()=>{p(!1),O(null),v(1),k([]),C({title:"",author:"",category:"",pages:"",rating:"",coverUrl:"",pitch:""})};return f.jsx("div",{className:"fixed inset-0 bg-gray-950/95 z-50 overflow-y-auto p-4 md:p-8",children:f.jsxs("div",{className:"max-w-7xl mx-auto",children:[f.jsxs("div",{className:"flex justify-between items-center mb-8",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsxs("button",{onClick:i,className:"flex items-center gap-2 px-4 py-2 bg-white/5 hover:bg-white/10 rounded-lg text-gray-300 transition-colors font-serif",children:[f.jsx(Ms,{size:18}),f.jsx("span",{children:"Home"})]}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-3xl font-serif text-yellow-500",children:"The Library"}),f.jsx("p",{className:"text-gray-500",children:"Curated selection for the club"})]})]}),f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsxs("button",{onClick:()=>p(!0),className:"flex items-center gap-2 px-6 py-2 bg-yellow-500 text-gray-950 font-serif font-bold rounded-lg hover:bg-yellow-400 transition-colors shadow-lg hover:shadow-yellow-500/20",children:[f.jsx(p1,{size:18}),f.jsx("span",{children:"Nominate Book"})]}),f.jsx("button",{onClick:i,className:"p-2 hover:bg-white/10 rounded-full transition-colors",children:f.jsx(Ps,{className:"text-gray-400"})})]})]}),f.jsxs("div",{className:"space-y-12 mb-12",children:[K.filter(ne=>a.some(ce=>ce.genre===ne)).map(ne=>f.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-700",children:[f.jsxs("div",{className:"relative h-24 mb-6 rounded-lg overflow-hidden flex items-center px-8 border border-yellow-600/20 group",children:[f.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-950 via-gray-900 to-transparent z-10"}),f.jsx("div",{className:Ut("absolute inset-0 opacity-30 bg-cover bg-center transition-transform duration-1000 group-hover:scale-105",W(ne).split(" ")[0])}),f.jsxs("div",{className:"relative z-20 flex items-center gap-4",children:[f.jsx("div",{className:"w-12 h-12 rounded-full bg-yellow-500/10 flex items-center justify-center border border-yellow-600/30 text-yellow-500",children:f.jsx(Or,{size:24})}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-2xl font-serif font-bold text-yellow-500",children:ne}),f.jsxs("p",{className:"text-gray-400 text-sm italic",children:[a.filter(ce=>ce.genre===ne).length," books"]})]})]})]}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:a.filter(ce=>ce.genre===ne).map(ce=>f.jsxs("div",{className:"aspect-[2/3] bg-gray-900 rounded-lg flex flex-col relative group overflow-hidden shadow-xl border border-yellow-600/10 hover:shadow-2xl hover:shadow-yellow-500/5 transition-all duration-300",children:[ce.coverImage?f.jsxs("div",{className:"absolute inset-0 z-0",children:[f.jsx("img",{src:ce.coverImage,alt:"",className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"}),f.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-gray-950 via-gray-950/90 to-transparent opacity-90 group-hover:opacity-80 transition-opacity"})]}):f.jsx("div",{className:"absolute inset-0 bg-gray-800"}),ce.scope==="OUT_OF_SCOPE"&&f.jsx("div",{className:"absolute top-4 left-4 px-2 py-1 text-xs font-bold rounded uppercase tracking-wider z-20 shadow-lg bg-red-600 text-white",children:"Out of Scope"}),(ce.addedBy===l||h)&&f.jsxs("div",{className:"absolute top-4 right-4 z-30 flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:[f.jsx("button",{onClick:Se=>{Se.stopPropagation(),J(ce)},className:"p-2 bg-yellow-500/90 text-gray-900 rounded-full hover:bg-yellow-400 hover:scale-110 transition-all shadow-lg",title:"Edit Nomination",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:f.jsx("path",{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"})})}),f.jsx("button",{onClick:Se=>{Se.stopPropagation(),P(ce)},className:"p-2 bg-red-600/90 text-white rounded-full hover:bg-red-500 hover:scale-110 transition-all shadow-lg",title:"Withdraw Nomination",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("polyline",{points:"3 6 5 6 21 6"}),f.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]}),f.jsxs("div",{className:"flex-1 flex flex-col justify-end p-6 z-10 relative text-gray-300 transform transition-transform duration-300 group-hover:-translate-y-2",children:[f.jsx("h3",{className:"font-serif text-xl font-bold mb-1 line-clamp-2 leading-tight text-white drop-shadow-md",children:ce.title}),f.jsx("p",{className:"text-yellow-500/80 font-serif italic mb-4 text-sm",children:ce.author}),ce.pitch&&f.jsxs("div",{className:"mb-4 relative group-hover:opacity-100 transition-opacity",children:[f.jsx("div",{className:"absolute -top-2 -left-2 text-yellow-500/20 text-4xl font-serif",children:""}),f.jsx("p",{className:"text-xs text-gray-400 italic line-clamp-3 pl-2 border-l-2 border-yellow-500/30",children:ce.pitch})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs border-t border-white/10 pt-4 text-gray-500",children:[f.jsxs("div",{children:[f.jsx("span",{className:"block font-bold uppercase tracking-wider mb-0.5 text-gray-400",children:"Pages"}),ce.pageCount]}),f.jsxs("div",{className:"text-right",children:[f.jsx("span",{className:"block font-bold uppercase tracking-wider mb-0.5 text-gray-400",children:"Rating"}),ce.rating?ce.rating.toFixed(1):"N/A"]})]}),f.jsx("div",{className:"mt-4 pt-2 border-t border-white/5 flex items-center justify-between text-[10px] text-gray-600 uppercase tracking-widest",children:f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx(Ar,{size:10}),f.jsx("span",{children:"Member Nomination"})]})})]})]},ce.id))})]},ne)),m?f.jsx("div",{className:"flex justify-center py-20",children:f.jsx(fp,{className:"animate-spin text-yellow-500",size:48})}):a.length===0?f.jsxs("div",{className:"text-center py-20",children:[f.jsx("div",{className:"inline-block p-6 rounded-full bg-gray-900 mb-4",children:f.jsx(Or,{size:48,className:"text-gray-700"})}),f.jsx("h3",{className:"text-xl font-serif text-gray-600",children:"The library is empty."}),f.jsx("p",{className:"text-gray-700 text-sm mt-2",children:"Be the first to nominate a book."})]}):null]}),g&&f.jsx(_p,{onClose:ye,editingBook:j?a.find(ne=>ne.id===j):null})]})})}function aS({onClose:i}){const{books:a,votes:r,currentUser:l,castVote:u,votingDeadline:c}=an(),[h,m]=U.useState(0),[g,p]=U.useState(5),[x,v]=U.useState(""),[w,_]=U.useState(!1),j=a[h],O=r[j?.id]?.[l],T=c&&new Date>new Date(c);U.useEffect(()=>{g>=9?_(!0):_(!1)},[g]);const k=()=>{g===0&&!x.trim()||(u(j.id,{score:g,veto:g===0,vetoReason:g===0?x:null,timestamp:new Date().toISOString()}),h<a.length-1?(m(z=>z+1),p(5),v("")):i())};return T?f.jsx("div",{className:"fixed inset-0 bg-gray-950/95 z-50 flex items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsx("h2",{className:"text-3xl font-serif text-red-500 mb-4",children:"Voting Cycle Closed"}),f.jsx("p",{className:"text-gray-400 mb-6",children:"The deadline for this cycle has passed."}),f.jsxs("button",{onClick:i,className:"text-white underline flex items-center gap-2 justify-center hover:text-yellow-500 transition-colors",children:[f.jsx(Ms,{size:16})," Return Home"]})]})}):j?f.jsxs("div",{className:"fixed inset-0 bg-gray-950 z-50 flex flex-col",children:[f.jsxs("div",{className:"p-6 flex justify-between items-center border-b border-white/10 bg-gray-950/50 backdrop-blur-md z-10",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsxs("button",{onClick:i,className:"flex items-center gap-2 px-3 py-1.5 bg-white/5 hover:bg-white/10 rounded text-gray-400 hover:text-white transition-colors font-serif text-sm",children:[f.jsx(Ms,{size:14}),f.jsx("span",{children:"Home"})]}),f.jsxs("div",{className:"text-gray-500 font-serif",children:["Voting Booth  ",h+1," of ",a.length]})]}),f.jsx("button",{onClick:i,className:"text-gray-400 hover:text-yellow-500",children:f.jsx(Ps,{})})]}),f.jsxs("div",{className:"flex-1 flex flex-col md:flex-row overflow-hidden",children:[f.jsx("div",{className:"w-full md:w-1/2 p-8 md:p-12 flex flex-col items-center justify-center bg-black/40 relative",children:f.jsxs("div",{className:"relative w-full max-w-md aspect-[2/3] shadow-2xl rounded-lg overflow-hidden border-4 border-white/5 group",children:[j.coverImage?f.jsx("img",{src:j.coverImage,alt:j.title,className:"w-full h-full object-cover rounded-md shadow-lg"}):f.jsx("div",{className:"w-full h-full bg-gray-900 flex items-center justify-center text-gray-800",children:f.jsx(Or,{size:64})}),f.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/90 via-black/80 to-transparent p-8 pt-24 text-center",children:[f.jsx("h2",{className:"text-3xl md:text-4xl font-serif text-white mb-2 font-bold leading-tight drop-shadow-lg",children:j.title}),f.jsx("p",{className:"text-xl text-yellow-500 font-serif italic",children:j.author}),f.jsxs("div",{className:"flex items-center justify-center gap-3 mt-4",children:[f.jsx("div",{className:"inline-block px-3 py-1 rounded border border-white/20 text-xs uppercase tracking-widest text-gray-400",children:j.genre}),f.jsxs("div",{className:"flex items-center gap-1 px-3 py-1 rounded border border-white/10 text-xs uppercase tracking-widest text-gray-500 bg-white/5",children:[f.jsx(Ar,{size:10}),f.jsx("span",{children:"Member Nomination"})]})]}),j.pitch&&f.jsxs("div",{className:"mt-8 text-left bg-black/40 p-6 rounded-lg border border-white/5 max-h-48 overflow-y-auto custom-scrollbar",children:[f.jsxs("h4",{className:"text-xs font-bold uppercase text-gray-500 mb-2 flex items-center gap-2",children:[f.jsx(Or,{size:12}),"The Pitch"]}),f.jsxs("p",{className:"text-gray-300 font-serif italic leading-relaxed text-sm",children:['"',j.pitch,'"']})]})]})]})}),f.jsx("div",{className:"w-full md:w-1/2 p-8 md:p-12 flex items-center justify-center bg-gray-900/50",children:f.jsx("div",{className:"w-full max-w-lg",children:O?f.jsxs("div",{className:"bg-white/5 rounded-lg p-8 text-center backdrop-blur-sm border border-white/10",children:[f.jsx("div",{className:"w-20 h-20 bg-yellow-500 rounded-full flex items-center justify-center mx-auto mb-6 text-gray-900 shadow-lg shadow-yellow-500/20",children:f.jsx(dp,{size:40})}),f.jsx("h3",{className:"text-3xl font-serif text-yellow-500 mb-2",children:"Vote Recorded"}),f.jsxs("p",{className:"text-gray-400 mb-8 text-lg",children:["You gave this book a ",f.jsx("span",{className:"text-white font-bold",children:O.score.toFixed(1)})]}),f.jsx("button",{onClick:()=>{h<a.length-1?(m(z=>z+1),p(5),v("")):i()},className:"px-8 py-4 bg-yellow-500 text-gray-900 font-bold rounded hover:bg-yellow-400 transition-colors w-full text-lg shadow-lg hover:shadow-yellow-500/20",children:"Next Book"})]}):f.jsxs("div",{className:"bg-gray-900 rounded-xl p-8 shadow-2xl relative overflow-hidden border border-yellow-600/20",children:[w&&f.jsx("div",{className:"absolute top-4 right-4 animate-bounce",children:f.jsxs("div",{className:"bg-yellow-500 text-gray-900 text-xs font-bold uppercase px-4 py-2 rounded-full flex items-center gap-2 shadow-lg ring-4 ring-yellow-500/30",children:[f.jsx(f1,{size:16,fill:"currentColor"}),"Passion Bonus!"]})}),f.jsxs("div",{className:"mb-10 mt-4",children:[f.jsxs("div",{className:"flex justify-between items-end mb-6",children:[f.jsx("label",{className:"text-gray-400 font-bold uppercase text-sm tracking-wider",children:"Your Score"}),f.jsx("span",{className:Ut("text-6xl font-serif font-bold transition-colors duration-300",g===0?"text-red-500":"text-yellow-500"),children:g.toFixed(1)})]}),f.jsx("div",{className:"relative h-12 flex items-center",children:f.jsx("input",{type:"range",min:"0",max:"10",step:"0.1",value:g,onChange:z=>p(parseFloat(z.target.value)),disabled:j.addedBy===l,className:Ut("w-full h-3 bg-gray-800 rounded-lg appearance-none cursor-pointer transition-all",j.addedBy===l?"cursor-not-allowed opacity-50":"accent-yellow-500 hover:accent-yellow-400")})}),j.addedBy===l&&f.jsxs("div",{className:"mt-4 p-3 bg-orange-900/20 border border-orange-500/30 rounded text-orange-400 text-sm font-bold flex items-center gap-2 justify-center",children:[f.jsx(Ar,{size:16})," You championed this book."]}),f.jsxs("div",{className:"flex justify-between text-xs text-gray-600 mt-2 font-bold uppercase tracking-widest",children:[f.jsx("span",{children:"Veto (0)"}),f.jsx("span",{children:"Neutral (5)"}),f.jsx("span",{children:"Masterpiece (10)"})]})]}),g===0&&j.addedBy!==l&&f.jsxs("div",{className:"mb-8 animate-in fade-in slide-in-from-top-4 duration-300",children:[f.jsxs("label",{className:"block text-red-500 font-bold text-sm mb-2 flex items-center gap-2",children:[f.jsx(Wc,{size:16}),"Veto Reason Required"]}),f.jsx("textarea",{value:x,onChange:z=>v(z.target.value),placeholder:"Why are you vetoing this book? Please provide a valid reason.",className:"w-full p-4 bg-red-900/10 border border-red-900/30 rounded-lg text-red-400 placeholder:text-red-900/40 focus:outline-none focus:border-red-500 focus:ring-1 focus:ring-red-500 resize-none",rows:3})]}),f.jsx("button",{onClick:()=>{j.addedBy===l?h<a.length-1?(m(z=>z+1),p(5),v("")):i():k()},disabled:j.addedBy!==l&&g===0&&!x.trim(),className:Ut("w-full py-4 rounded-lg font-serif font-bold text-xl transition-all transform active:scale-[0.98] shadow-lg",j.addedBy===l?"bg-gray-800 text-gray-400 hover:bg-gray-700 hover:text-white":g===0?"bg-red-600 text-white hover:bg-red-500 disabled:opacity-50 disabled:cursor-not-allowed shadow-red-900/20":"bg-yellow-500 text-gray-900 hover:bg-yellow-400 shadow-yellow-500/20"),children:j.addedBy===l?"Skip (Champion)":g===0?"CAST VETO":O?"UPDATE MY VOTE":"SUBMIT VOTE"})]})})})]})]}):f.jsx("div",{className:"fixed inset-0 bg-gray-950/95 z-50 flex items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsx("h2",{className:"text-3xl font-serif text-yellow-500 mb-4",children:"The Library is Empty"}),f.jsxs("button",{onClick:i,className:"text-gray-400 underline flex items-center gap-2 justify-center hover:text-white transition-colors",children:[f.jsx(Ms,{size:16})," Return Home"]})]})})}function rS({onClose:i}){const{books:a,votes:r,members:l,calculateScore:u,isLoading:c}=an(),[h,m]=U.useState(null);if(c)return f.jsx("div",{className:"flex items-center justify-center py-20",children:f.jsxs("div",{className:"text-yellow-500 font-bold text-xl animate-pulse flex items-center gap-2",children:[f.jsx(Er,{size:24,className:"animate-spin"}),"Loading Leaderboard..."]})});if(!a||a.length===0)return f.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[f.jsx("h2",{className:"text-3xl font-serif text-yellow-500 mb-4",children:"The Leaderboard"}),f.jsx("p",{className:"text-gray-500 mb-8",children:"No books have been nominated yet."}),f.jsx("div",{className:"p-6 bg-white/5 rounded-lg border border-white/10 max-w-md",children:f.jsxs("p",{className:"text-sm text-gray-400",children:["Be the first to nominate a book! Go to the ",f.jsx("span",{className:"text-amber-500 font-bold",children:"Library"})," to add your pick."]})})]});const g=a.map(w=>{const _=u(w);return{...w,..._}}).sort((w,_)=>parseFloat(_.finalScore)-parseFloat(w.finalScore)),p=g.filter(w=>parseFloat(w.finalScore)>=80),x=g.filter(w=>parseFloat(w.finalScore)>=60&&parseFloat(w.finalScore)<80),v=g.filter(w=>parseFloat(w.finalScore)<60);return f.jsxs("div",{className:"max-w-4xl mx-auto pb-20",children:[f.jsxs("div",{className:"text-center mb-12",children:[f.jsx("h2",{className:"text-4xl font-serif text-yellow-500 mb-2",children:"The Leaderboard"}),f.jsx("p",{className:"text-gray-500",children:"The algorithm has spoken"})]}),f.jsxs("div",{className:"space-y-12",children:[p.length>0&&f.jsxs("div",{className:"animate-in slide-in-from-bottom-4 duration-700",children:[f.jsxs("div",{className:"flex items-center gap-4 mb-6 justify-center",children:[f.jsx("div",{className:"h-px bg-gradient-to-r from-transparent via-yellow-500 to-transparent w-full max-w-[100px]"}),f.jsxs("div",{className:"flex items-center gap-2 text-yellow-500",children:[f.jsx(Er,{size:24,className:"fill-yellow-500 animate-pulse"}),f.jsx("h3",{className:"text-2xl font-serif font-bold tracking-widest uppercase",children:"Qualified"}),f.jsx(Er,{size:24,className:"fill-yellow-500 animate-pulse"})]}),f.jsx("div",{className:"h-px bg-gradient-to-r from-transparent via-yellow-500 to-transparent w-full max-w-[100px]"})]}),f.jsx("div",{className:"space-y-6",children:p.map(w=>f.jsx(bc,{book:w,votes:r[w.id]||{},expanded:h===w.id,onToggle:()=>m(h===w.id?null:w.id),tier:"qualified"},w.id))})]}),x.length>0&&f.jsxs("div",{className:"animate-in slide-in-from-bottom-8 duration-1000 delay-150",children:[f.jsxs("div",{className:"flex items-center gap-4 mb-6 justify-center opacity-80",children:[f.jsx("div",{className:"h-px bg-gray-600 w-full max-w-[100px]"}),f.jsx("h3",{className:"text-lg font-serif text-gray-400 uppercase tracking-widest",children:"On List"}),f.jsx("div",{className:"h-px bg-gray-600 w-full max-w-[100px]"})]}),f.jsx("div",{className:"space-y-4",children:x.map(w=>f.jsx(bc,{book:w,votes:r[w.id]||{},expanded:h===w.id,onToggle:()=>m(h===w.id?null:w.id),tier:"on-list"},w.id))})]}),v.length>0&&f.jsxs("div",{className:"animate-in slide-in-from-bottom-8 duration-1000 delay-300 opacity-60 hover:opacity-100 transition-opacity",children:[f.jsxs("div",{className:"flex items-center gap-4 mb-6 justify-center opacity-50",children:[f.jsx("div",{className:"h-px bg-gray-800 w-full max-w-[100px]"}),f.jsx("h3",{className:"text-sm font-serif text-gray-600 uppercase tracking-widest",children:"Discarded"}),f.jsx("div",{className:"h-px bg-gray-800 w-full max-w-[100px]"})]}),f.jsx("div",{className:"space-y-4 grayscale hover:grayscale-0 transition-all duration-500",children:v.map(w=>f.jsx(bc,{book:w,votes:r[w.id]||{},expanded:h===w.id,onToggle:()=>m(h===w.id?null:w.id),tier:"discarded"},w.id))})]}),g.length===0&&f.jsx("div",{className:"text-center py-12 text-gray-700 italic",children:"No books have been nominated yet."})]})]})}function bc({book:i,votes:a,expanded:r,onToggle:l,tier:u}){const{isAdmin:c}=an(),h=u==="qualified",m=u==="discarded",g=Object.keys(a).length,p=i.breakdown||{},x=`
         Acclaim: ${p.acclaimScore?.toFixed(1)||0}
         Relevance: ${p.relevanceScore?.toFixed(1)||0}
         Interest: ${p.interestScore?.toFixed(1)||0}
         Passion: ${p.passionScore?.toFixed(1)||0}
    `.trim();return f.jsxs("div",{className:Ut("relative rounded-lg shadow-lg transition-all overflow-hidden border",h?"bg-gradient-to-r from-gray-900 to-gray-800 border-yellow-500 ring-4 ring-yellow-500/20 shadow-yellow-500/10":"bg-gray-900 border-gray-800 hover:border-gray-700",m&&"bg-gray-950 border-gray-900 opacity-75"),children:[h&&f.jsx("div",{className:"absolute top-0 right-0 p-2 z-10",children:f.jsxs("div",{className:"bg-yellow-500 text-gray-900 text-xs font-bold px-2 py-1 rounded shadow flex items-center gap-1",children:[f.jsx(Er,{size:12,fill:"currentColor"}),"QUALIFIED"]})}),f.jsxs("div",{className:"p-6 flex items-center gap-6 cursor-pointer hover:bg-white/5 transition-colors",onClick:l,children:[f.jsxs("div",{className:Ut("flex-shrink-0 w-16 h-16 flex items-center justify-center rounded-full border-4 font-serif font-bold text-2xl shadow-inner relative group/score",h?"border-yellow-500 text-yellow-500 bg-yellow-500/10":"border-gray-700 text-gray-500 bg-gray-800"),title:x,children:[i.finalScore,f.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 w-48 bg-gray-950 border border-yellow-500/30 rounded p-2 shadow-xl opacity-0 group-hover/score:opacity-100 transition-opacity pointer-events-none z-20 text-xs text-gray-300",children:[f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{children:" Acclaim"}),f.jsx("span",{className:"text-yellow-500",children:p.acclaimScore?.toFixed(1)})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{children:" Relevance"}),f.jsx("span",{className:"text-yellow-500",children:p.relevanceScore?.toFixed(1)})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{children:" Interest"}),f.jsx("span",{className:"text-yellow-500",children:p.interestScore?.toFixed(1)})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{children:" Passion"}),f.jsx("span",{className:"text-yellow-500",children:p.passionScore?.toFixed(1)})]})]})]}),f.jsxs("div",{className:"flex-grow",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[f.jsx("h3",{className:Ut("font-serif text-2xl font-bold",h?"text-white":"text-gray-300"),children:i.title}),i.scope==="OUT_OF_SCOPE"&&f.jsx("span",{className:"text-[10px] font-bold uppercase bg-red-900/50 text-red-400 px-2 py-0.5 rounded border border-red-900",children:"Out of Scope"})]}),f.jsx("p",{className:"text-gray-500 text-sm italic font-serif",children:i.author}),f.jsx("div",{className:"flex items-center gap-2 mt-3",children:c?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"flex -space-x-2",children:Object.keys(a).map((v,w)=>f.jsx("div",{className:"w-6 h-6 rounded-full bg-gray-700 border border-gray-900 flex items-center justify-center text-[10px] text-gray-300 font-bold uppercase",title:v,children:v[0]},w))}),g>0&&f.jsxs("span",{className:"text-xs text-gray-600 ml-2",children:[g," voters (Admin View)"]})]}):f.jsx("div",{className:"flex items-center gap-2 text-xs text-gray-500 font-bold uppercase tracking-wider bg-gray-800/50 px-2 py-1 rounded border border-gray-800",children:f.jsxs("span",{children:[" ",g," Members Voted"]})})})]}),f.jsx("div",{className:"text-gray-600",children:r?f.jsx(u1,{size:24}):f.jsx(o1,{size:24})})]}),r&&f.jsx("div",{className:"bg-black/20 border-t border-white/5 p-8 animate-in slide-in-from-top-2",children:f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[f.jsxs("div",{className:"md:col-span-2 bg-white/5 rounded-lg p-6 border border-white/10 mb-4",children:[f.jsxs("h4",{className:"text-sm font-bold uppercase text-gray-500 mb-4 flex items-center gap-2",children:[f.jsx(Er,{size:14}),"Score Breakdown"]}),p.veto?f.jsxs("div",{className:"p-4 bg-red-900/20 border border-red-900/50 rounded text-center",children:[f.jsx("h5",{className:"text-red-500 font-bold text-xl mb-2",children:"VETOED"}),f.jsx("p",{className:"text-red-400/80 text-sm",children:"This book received a veto and has been disqualified (Score: 0)."})]}):g===0?f.jsx("div",{className:"p-4 bg-gray-800/50 border border-gray-700 rounded text-center",children:f.jsx("p",{className:"text-gray-500 italic",children:"No votes have been cast for this book yet."})}):f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center mb-6",children:[f.jsxs("div",{className:"p-3 bg-black/20 rounded border border-white/5",children:[f.jsx("div",{className:"text-xs text-gray-500 uppercase tracking-wider mb-1",children:"Avg Score"}),f.jsx("div",{className:"text-xl font-serif font-bold text-gray-300",children:p.avg?.toFixed(1)||"0.0"})]}),f.jsxs("div",{className:"p-3 bg-black/20 rounded border border-white/5",children:[f.jsx("div",{className:"text-xs text-gray-500 uppercase tracking-wider mb-1",children:"Passion Bonus"}),f.jsxs("div",{className:"text-xl font-serif font-bold text-yellow-500",children:["+",p.passion?.toFixed(1)||"0.0"]})]}),f.jsxs("div",{className:"p-3 bg-black/20 rounded border border-white/5",children:[f.jsx("div",{className:"text-xs text-gray-500 uppercase tracking-wider mb-1",children:"Penalty"}),f.jsxs("div",{className:"text-xl font-serif font-bold text-red-400",children:["-",p.penalty?.toFixed(1)||"0.0"]})]}),f.jsxs("div",{className:"p-3 bg-yellow-900/20 rounded border border-yellow-500/30",children:[f.jsx("div",{className:"text-xs text-yellow-500 uppercase tracking-wider mb-1",children:"Final"}),f.jsx("div",{className:"text-xl font-serif font-bold text-yellow-400",children:i.finalScore})]})]}),f.jsx("div",{className:"text-center text-[10px] text-gray-600 font-mono uppercase tracking-widest",children:"Formula: (Average + Passion) - Penalty = Final Score"})]})]}),f.jsxs("div",{children:[f.jsxs("h4",{className:"text-sm font-bold uppercase text-gray-500 mb-4 flex items-center gap-2",children:[f.jsx(x1,{size:14}),"Vote Log"]}),f.jsx("div",{className:"space-y-2",children:Object.entries(a).length>0?Object.entries(a).map(([v,w])=>f.jsxs("div",{className:"flex justify-between items-center text-sm border-b border-white/5 pb-2 last:border-0",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-5 h-5 rounded-full bg-gray-800 flex items-center justify-center text-[10px] text-gray-500 font-bold",children:f.jsx(mp,{size:12})}),f.jsx("span",{className:"text-gray-500 italic",children:"Book Club Member"})]}),f.jsx("span",{className:Ut("font-bold font-serif",w.score>=9?"text-yellow-500":w.score===0?"text-red-500":"text-gray-400"),children:w.score.toFixed(1)})]},v)):f.jsx("p",{className:"text-sm text-gray-600 italic",children:"No votes yet."})})]}),f.jsxs("div",{children:[f.jsxs("h4",{className:"text-sm font-bold uppercase text-gray-500 mb-4 flex items-center gap-2",children:[f.jsx(Wc,{size:14}),"Veto Log"]}),f.jsxs("div",{className:"space-y-3",children:[Object.entries(a).filter(([v,w])=>w.veto).map(([v,w])=>f.jsxs("div",{className:"bg-red-900/10 border border-red-900/20 rounded p-3 text-sm",children:[f.jsx("div",{className:"font-bold text-red-400 mb-1",children:"Anonymous Veto:"}),f.jsxs("p",{className:"text-red-300/80 italic",children:['"',w.vetoReason,'"']})]},v)),Object.values(a).filter(v=>v.veto).length===0&&f.jsx("p",{className:"text-sm text-gray-600 italic",children:"No vetoes cast."})]})]})]})})]})}const sS=()=>{const{books:i,votes:a,currentUser:r,members:l,votingDeadline:u,isLoading:c}=an(),h=Hc(),[m,g]=U.useState(!1),[p,x]=U.useState(!1);if(c)return f.jsx("div",{className:"flex items-center justify-center h-64",children:f.jsxs("div",{className:"text-amber-500 font-bold text-xl animate-pulse flex items-center gap-2",children:[f.jsx(yc,{size:24,className:"animate-spin"}),"Loading Mission Control..."]})});const v=i||[],w=a||{},_=l||[],j=v.length,O=Object.values(w).flatMap(A=>Object.entries(A).filter(([q,Y])=>q===r)),T=O.length,k=v.some(A=>A.addedBy===r),z=v.filter(A=>A.addedBy===r).length,C=O.filter(A=>(A.score||A.value)>=9).length,K=v.length*_.length,W=Object.values(w).reduce((A,q)=>A+Object.keys(q).length,0),J=K>0?Math.round(W/K*100):0,P=u?new Date(u):null,ne=P?P-new Date:0,ce=P?Math.ceil(ne/(1e3*60*60*24)):null,Se=ce!==null&&ce<=0,de=z<10&&!Se,ut=z>0&&T<j&&!Se;let I="View Leaderboard",ae=()=>h("/leaderboard");return Se?(I="Voting Closed",ae=()=>alert("Voting has ended for this cycle.")):de&&v.length<60?(I="Next Step: Nominate a Book",ae=()=>x(!0)):ut&&(I="Next Step: Enter Booth",ae=()=>h("/vote")),f.jsxs("div",{className:"space-y-8 animate-in fade-in duration-700 pb-12",children:[f.jsxs("div",{className:"bg-gradient-to-r from-gray-900 to-gray-800 border border-white/10 p-10 rounded-2xl shadow-2xl flex flex-col md:flex-row justify-between items-center gap-8 relative overflow-hidden group",children:[f.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-amber-500/10 rounded-full blur-3xl -mr-20 -mt-20 pointer-events-none group-hover:bg-amber-500/20 transition-all duration-1000"}),f.jsxs("div",{className:"z-10",children:[f.jsxs("h2",{className:"text-6xl font-serif text-transparent bg-clip-text bg-gradient-to-r from-white via-gray-200 to-gray-400 font-black mb-3 tracking-tight drop-shadow-sm",children:["Cycle 1: ",f.jsx("span",{className:"italic text-amber-500",children:"The Awakening"})]}),f.jsxs("p",{className:"text-amber-500/80 uppercase tracking-[0.3em] text-xs font-bold flex items-center gap-2",children:[f.jsx(yc,{size:14}),"Status: ",Se?f.jsx("span",{className:"text-red-500 font-black",children:"CLOSED"}):"Voting Open"]})]}),f.jsxs("div",{className:"flex gap-10 z-10",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("p",{className:"text-gray-500 text-[10px] uppercase tracking-widest font-bold mb-1",children:"Nominations"}),f.jsxs("p",{className:"text-4xl font-serif font-bold text-white",children:[j,f.jsx("span",{className:"text-gray-600 text-xl font-sans",children:"/60"})]})]}),f.jsxs("div",{className:"text-center border-l border-white/10 pl-10",children:[f.jsx("p",{className:"text-gray-500 text-[10px] uppercase tracking-widest font-bold mb-1",children:"Participation"}),f.jsxs("p",{className:"text-4xl font-serif font-bold text-white",children:[J,"%"]})]}),f.jsxs("div",{className:"text-center border-l border-white/10 pl-10 hidden md:block",children:[f.jsx("p",{className:"text-gray-500 text-[10px] uppercase tracking-widest font-bold mb-1",children:"Time Remaining"}),Se?f.jsx("div",{className:"inline-block bg-red-900/20 text-red-500 px-4 py-1 rounded-full text-sm font-bold border border-red-500/30 shadow-[0_0_15px_rgba(239,68,68,0.2)]",children:"Time's Up"}):f.jsx("div",{className:"inline-block bg-amber-500/10 text-amber-400 px-4 py-1 rounded-full text-sm font-bold border border-amber-500/20 shadow-[0_0_15px_rgba(245,158,11,0.1)]",children:ce!==null?`${ce} Days`:"TBD"})]})]})]}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[f.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{className:Ut("relative p-8 rounded-2xl border transition-all duration-300 overflow-hidden group hover:scale-[1.02] hover:shadow-2xl hover:shadow-amber-900/10",de?"bg-gray-900/60 backdrop-blur-md border-amber-500/30 ring-1 ring-amber-500/20":"bg-gray-900/40 border-white/5 opacity-60 hover:opacity-100"),children:[f.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:f.jsx(Or,{size:120})}),f.jsxs("div",{className:"relative z-10",children:[f.jsx("div",{className:"w-12 h-12 bg-amber-500/10 rounded-xl flex items-center justify-center mb-6 border border-amber-500/20 text-amber-500",children:f.jsx(Or,{size:24})}),f.jsx("h3",{className:"text-2xl font-serif font-bold text-white mb-2",children:"Nominate"}),f.jsx("p",{className:"text-gray-400 text-sm mb-6 leading-relaxed",children:"Submit a book for the club to consider. You can add up to 10 books per cycle."}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("span",{className:"text-xs font-bold uppercase tracking-widest text-gray-500",children:[z," / 10 Used"]}),de&&f.jsx("button",{onClick:()=>x(!0),className:"px-4 py-2 bg-white/5 hover:bg-white/10 text-white text-xs font-bold uppercase tracking-widest rounded border border-white/10 transition-colors",children:"Add Book"})]})]})]}),f.jsxs("div",{className:Ut("relative p-8 rounded-2xl border transition-all duration-300 overflow-hidden group hover:scale-[1.02] hover:shadow-2xl hover:shadow-amber-900/10",ut?"bg-gray-900/60 backdrop-blur-md border-amber-500/30 ring-1 ring-amber-500/20":"bg-gray-900/40 border-white/5 opacity-60 hover:opacity-100"),children:[f.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:f.jsx(Jm,{size:120})}),f.jsxs("div",{className:"relative z-10",children:[f.jsx("div",{className:"w-12 h-12 bg-amber-500/10 rounded-xl flex items-center justify-center mb-6 border border-amber-500/20 text-amber-500",children:f.jsx(Jm,{size:24})}),f.jsx("h3",{className:"text-2xl font-serif font-bold text-white mb-2",children:"Vote"}),f.jsx("p",{className:"text-gray-400 text-sm mb-6 leading-relaxed",children:"Cast your judgment. Rate books from 0-10. Vetoes require a written defense."}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("span",{className:"text-xs font-bold uppercase tracking-widest text-gray-500",children:[T," / ",j," Voted"]}),ut&&f.jsx("button",{onClick:()=>h("/vote"),className:"px-4 py-2 bg-white/5 hover:bg-white/10 text-white text-xs font-bold uppercase tracking-widest rounded border border-white/10 transition-colors",children:"Enter Booth"})]})]})]})]}),f.jsxs("div",{className:"bg-gray-900/60 backdrop-blur-md border border-white/10 rounded-2xl p-8 flex items-center justify-between group hover:border-amber-500/30 transition-colors",children:[f.jsxs("div",{className:"flex items-center gap-6",children:[f.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-amber-400 to-yellow-600 rounded-full flex items-center justify-center text-gray-900 shadow-lg shadow-amber-500/20",children:f.jsx(Er,{size:32})}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-2xl font-serif font-bold text-white mb-1",children:"The Leaderboard"}),f.jsx("p",{className:"text-gray-400 text-sm",children:"See which books are rising to the top."})]})]}),f.jsx("div",{className:"text-right",children:f.jsxs("button",{onClick:()=>h("/leaderboard"),className:"px-6 py-3 bg-white/5 hover:bg-white/10 text-white font-bold rounded-lg border border-white/10 transition-colors flex items-center gap-2 group-hover:bg-amber-500 group-hover:text-gray-900 group-hover:border-amber-500",children:["View Rankings ",f.jsx(Dc,{size:16})]})})]})]}),f.jsxs("div",{className:"lg:col-span-1 bg-gray-900/80 backdrop-blur-sm border border-white/5 rounded-2xl p-8 flex flex-col relative overflow-hidden",children:[f.jsx("div",{className:"absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-transparent via-amber-500/20 to-transparent"}),f.jsxs("h3",{className:"text-white font-serif font-bold text-xl mb-8 flex items-center gap-3",children:[f.jsx(l1,{size:20,className:"text-amber-500"})," Your Status"]}),f.jsxs("div",{className:"space-y-8 flex-1",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-gray-500 text-[10px] uppercase tracking-widest font-bold mb-3",children:"Your Nominations"}),k?f.jsx("div",{className:"bg-black/20 p-4 rounded-lg border border-white/5",children:v.filter(A=>A.addedBy===r).map(A=>f.jsx("p",{className:"text-amber-100 text-sm font-medium truncate mb-2 last:mb-0 font-serif",children:A.title},A.id))}):f.jsx("p",{className:"text-gray-600 text-sm italic",children:"No nomination yet."})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-gray-500 text-[10px] uppercase tracking-widest font-bold mb-3",children:"Your Votes"}),f.jsxs("div",{className:"flex items-end gap-2 mb-2",children:[f.jsx("span",{className:"text-4xl font-serif font-bold text-white",children:T}),f.jsxs("span",{className:"text-gray-500 text-sm mb-1 font-medium",children:["/ ",j]})]}),f.jsx("div",{className:"w-full h-1 bg-gray-800 rounded-full overflow-hidden",children:f.jsx("div",{className:"h-full bg-amber-500 transition-all duration-500 shadow-[0_0_10px_rgba(245,158,11,0.5)]",style:{width:`${j>0?T/j*100:0}%`}})})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-gray-500 text-[10px] uppercase tracking-widest font-bold mb-3",children:"Passion Score"}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("span",{className:"text-3xl font-serif font-bold text-white",children:C}),f.jsx("span",{className:"text-xs text-gray-500",children:"votes rated 9+"})]})]}),f.jsxs("div",{className:"pt-6 border-t border-white/5",children:[f.jsxs("p",{className:"text-gray-500 text-[10px] uppercase tracking-widest font-bold mb-3 flex items-center gap-2",children:[f.jsx(yc,{size:12})," Waiting For"]}),(()=>{const A=new Set;Object.values(w).forEach(ee=>{Object.keys(ee).forEach(fe=>A.add(fe))});const q=_.filter(ee=>!A.has(ee));let Y=[...new Set(q)];return Y.includes("Mohamed Abdirrahman")&&Y.includes("Mohamed Abdirahman")&&(Y=Y.filter(ee=>ee!=="Mohamed Abdirrahman")),Y.length===0&&_.length>0?f.jsxs("div",{className:"text-green-400 text-sm font-bold flex items-center gap-2",children:[f.jsx(c1,{size:14})," All Votes In!"]}):f.jsx("div",{className:"flex flex-wrap gap-2",children:Y.length>0?Y.map(ee=>f.jsx("span",{className:"px-2 py-1 bg-red-900/10 text-red-400 text-[10px] font-bold uppercase tracking-wider rounded border border-red-900/20",children:ee},ee)):f.jsx("span",{className:"text-gray-600 text-xs italic",children:"No members found."})})})()]})]}),f.jsx("div",{className:"mt-8 pt-6 border-t border-white/5",children:f.jsxs("button",{onClick:ae,disabled:Se&&I==="Voting Closed",className:Ut("w-full py-4 rounded-lg font-bold transition-all flex items-center justify-center gap-2 shadow-lg",Se&&I==="Voting Closed"?"bg-gray-800 text-gray-500 cursor-not-allowed":"bg-gradient-to-r from-amber-600 to-yellow-600 text-white hover:from-amber-500 hover:to-yellow-500 shadow-amber-900/20 hover:shadow-amber-900/40 transform active:scale-[0.98]"),children:[I," ",f.jsx(Dc,{size:16})]})})]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-4",children:[f.jsxs("div",{className:"bg-gray-900/40 border border-white/5 rounded-xl p-6 flex items-start gap-4 hover:bg-gray-900/60 transition-colors",children:[f.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg text-gray-400",children:f.jsx(Ar,{size:24})}),f.jsxs("div",{children:[f.jsx("h4",{className:"text-white font-bold font-serif mb-1",children:"Fairness Protocol Active"}),f.jsxs("div",{className:"flex flex-wrap gap-x-4 gap-y-1 text-sm text-gray-500 mb-3",children:[f.jsxs("span",{className:"flex items-center gap-1",children:[f.jsx("span",{className:"w-1.5 h-1.5 bg-green-500 rounded-full"})," No Self-Voting"]}),f.jsxs("span",{className:"flex items-center gap-1",children:[f.jsx("span",{className:"w-1.5 h-1.5 bg-green-500 rounded-full"})," Anonymous Noms"]}),f.jsxs("span",{className:"flex items-center gap-1",children:[f.jsx("span",{className:"w-1.5 h-1.5 bg-green-500 rounded-full"})," Weighted Scoring"]})]}),f.jsxs("button",{onClick:()=>g(!0),className:"text-amber-500 text-xs font-bold hover:text-amber-400 flex items-center gap-1 uppercase tracking-wider",children:["View Algorithm ",f.jsx(m1,{size:12})]})]})]}),f.jsxs("div",{className:"bg-gray-900/40 border border-white/5 rounded-xl p-6 flex items-center justify-between opacity-75",children:[f.jsxs("div",{children:[f.jsx("h4",{className:"text-white font-bold font-serif mb-1",children:"Taste Calibration"}),f.jsx("p",{className:"text-gray-500 text-sm",children:"Calibration will appear after your first finished cycle."})]}),f.jsxs("div",{className:"text-right",children:[f.jsx("p",{className:"text-gray-600 text-[10px] uppercase font-bold tracking-widest",children:"Alignment"}),f.jsx("p",{className:"text-2xl font-bold text-gray-700 font-serif",children:"--%"})]})]})]}),m&&f.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4 animate-in fade-in duration-200",children:f.jsxs("div",{className:"bg-gray-900 border border-amber-500/30 rounded-xl max-w-lg w-full p-8 shadow-2xl relative",children:[f.jsx("button",{onClick:()=>g(!1),className:"absolute top-4 right-4 text-gray-500 hover:text-white",children:""}),f.jsxs("h3",{className:"text-2xl font-serif text-white font-bold mb-6 flex items-center gap-3",children:[f.jsx(Ar,{className:"text-amber-500"})," The Ifiye Algorithm"]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"bg-gray-800/50 p-4 rounded-lg border border-gray-800",children:[f.jsxs("div",{className:"flex justify-between mb-1",children:[f.jsx("span",{className:"text-white font-bold",children:"External Rating"}),f.jsx("span",{className:"text-amber-500 font-mono",children:"30%"})]}),f.jsx("p",{className:"text-gray-400 text-sm",children:"Based on Google Books rating (normalized)."})]}),f.jsxs("div",{className:"bg-gray-800/50 p-4 rounded-lg border border-gray-800",children:[f.jsxs("div",{className:"flex justify-between mb-1",children:[f.jsx("span",{className:"text-white font-bold",children:"Relevance"}),f.jsx("span",{className:"text-amber-500 font-mono",children:"30%"})]}),f.jsx("p",{className:"text-gray-400 text-sm",children:"Fixed bonus for books matching the club's scope."})]}),f.jsxs("div",{className:"bg-gray-800/50 p-4 rounded-lg border border-gray-800",children:[f.jsxs("div",{className:"flex justify-between mb-1",children:[f.jsx("span",{className:"text-white font-bold",children:"Member Interest"}),f.jsx("span",{className:"text-amber-500 font-mono",children:"25%"})]}),f.jsx("p",{className:"text-gray-400 text-sm",children:"Average of all member votes cast."})]}),f.jsxs("div",{className:"bg-gray-800/50 p-4 rounded-lg border border-gray-800",children:[f.jsxs("div",{className:"flex justify-between mb-1",children:[f.jsx("span",{className:"text-white font-bold",children:"Passion Score"}),f.jsx("span",{className:"text-amber-500 font-mono",children:"15%"})]}),f.jsx("p",{className:"text-gray-400 text-sm",children:"Bonus based on percentage of votes rated 9.0+."})]})]}),f.jsx("div",{className:"mt-6 pt-6 border-t border-gray-800 text-center",children:f.jsx("p",{className:"text-gray-500 text-xs italic",children:'"The algorithm ensures that quality and passion outweigh mediocrity."'})})]})}),p&&f.jsx(_p,{onClose:()=>x(!1)})]})};function iS({onClose:i}){const{isAdmin:a,updateDeadline:r,votingDeadline:l}=an(),[u,c]=U.useState("books"),[h,m]=U.useState([]),[g,p]=U.useState(!1),[x,v]=U.useState(null);U.useEffect(()=>{w(u)},[u]);const w=async O=>{p(!0),v(null);try{const{data:T,error:k}=await Ne.from(O).select("*").order("id",{ascending:!1});if(k)throw k;m(T||[])}catch(T){console.error(`Error fetching ${O}:`,T),v(T.message)}finally{p(!1)}};if(!a)return f.jsx("div",{className:"fixed inset-0 bg-gray-950 z-50 flex items-center justify-center",children:f.jsxs("div",{className:"text-center p-8 border border-red-900/50 rounded-xl bg-red-900/10",children:[f.jsx(Mc,{size:48,className:"mx-auto text-red-500 mb-4"}),f.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Access Denied"}),f.jsx("p",{className:"text-gray-400 mb-6",children:"You do not have permission to view this area."}),f.jsx("button",{onClick:i,className:"px-6 py-2 bg-gray-800 hover:bg-gray-700 rounded text-white transition-colors",children:"Return Home"})]})});const _=()=>{if(g)return f.jsx("div",{className:"p-12 text-center text-yellow-500 animate-pulse",children:"Loading data studio..."});if(x)return f.jsxs("div",{className:"p-12 text-center text-red-500",children:["Error: ",x]});if(h.length===0)return f.jsxs("div",{className:"p-12 text-center text-gray-500 italic",children:["No records found in '",u,"'."]});const O=Object.keys(h[0]);return f.jsx("div",{className:"overflow-x-auto border border-gray-800 rounded-lg shadow-xl",children:f.jsxs("table",{className:"w-full text-left text-sm text-gray-400",children:[f.jsx("thead",{className:"bg-gray-900 text-yellow-500 uppercase font-bold tracking-wider text-xs",children:f.jsx("tr",{children:O.map(T=>f.jsx("th",{className:"px-6 py-4 border-b border-gray-800 whitespace-nowrap",children:T.replace(/_/g," ")},T))})}),f.jsx("tbody",{className:"divide-y divide-gray-800 bg-gray-950/50",children:h.map((T,k)=>f.jsx("tr",{className:"hover:bg-white/5 transition-colors",children:O.map(z=>f.jsx("td",{className:"px-6 py-4 whitespace-nowrap max-w-xs truncate",children:typeof T[z]=="object"?JSON.stringify(T[z]):String(T[z])},`${k}-${z}`))},k))})]})})},j=()=>{if(!h||h.length===0)return;const O=Object.keys(h[0]),T=[O.join(","),...h.map(K=>O.map(W=>{const J=K[W]===null||K[W]===void 0?"":K[W];return`"${(typeof J=="object"?JSON.stringify(J):String(J)).replace(/"/g,'""')}"`}).join(","))].join(`
`),k=new Blob([T],{type:"text/csv;charset=utf-8;"}),z=document.createElement("a"),C=URL.createObjectURL(k);z.setAttribute("href",C),z.setAttribute("download",`ifiye_${u}_export_${new Date().toISOString().split("T")[0]}.csv`),z.style.visibility="hidden",document.body.appendChild(z),z.click(),document.body.removeChild(z)};return f.jsxs("div",{className:"fixed inset-0 bg-gray-950 z-50 overflow-hidden flex flex-col",children:[f.jsxs("div",{className:"bg-gray-900 border-b border-yellow-600/30 p-4 flex justify-between items-center shadow-lg z-10",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsxs("button",{onClick:i,className:"flex items-center gap-2 px-3 py-1.5 bg-gray-800 hover:bg-gray-700 rounded text-gray-300 transition-colors font-serif text-sm",children:[f.jsx(Ms,{size:14}),f.jsx("span",{children:"Back"})]}),f.jsxs("div",{className:"flex items-center gap-2 text-yellow-500 font-bold font-serif text-xl",children:[f.jsx(hp,{size:20}),f.jsx("span",{children:"Data Studio"})]})]}),f.jsxs("div",{className:"flex items-center gap-2 bg-gray-800 p-2 rounded border border-gray-700",children:[f.jsx("span",{className:"text-xs text-gray-400 font-bold uppercase",children:"Deadline:"}),f.jsx("input",{type:"date",value:l?l.split("T")[0]:"",className:"bg-gray-900 text-white text-sm rounded px-2 py-1 border border-gray-700 focus:border-yellow-500 outline-none",onChange:O=>{confirm("Are you sure you want to update the voting deadline?")&&r(O.target.value)}})]}),f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsxs("button",{onClick:j,disabled:g||h.length===0,className:"px-4 py-2 bg-yellow-600 text-gray-900 font-bold rounded hover:bg-yellow-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 text-sm",children:[f.jsx(Qm,{size:16}),"Download CSV"]}),f.jsx("button",{onClick:()=>w(u),className:"p-2 text-gray-400 hover:text-white transition-colors",title:"Refresh Data",children:f.jsx(y1,{size:18,className:g?"animate-spin":""})}),f.jsx("button",{onClick:i,className:"text-gray-500 hover:text-white transition-colors",children:f.jsx(Ps,{size:24})})]})]}),f.jsx("div",{className:"bg-gray-900/50 border-b border-gray-800 px-4 flex gap-1",children:["books","votes","members"].map(O=>f.jsx("button",{onClick:()=>c(O),className:`px-6 py-3 text-sm font-bold uppercase tracking-widest border-b-2 transition-colors ${u===O?"border-yellow-500 text-yellow-500 bg-white/5":"border-transparent text-gray-500 hover:text-gray-300 hover:bg-white/5"}`,children:O},O))}),f.jsx("div",{className:"flex-1 overflow-auto p-6 bg-gray-950",children:f.jsxs("div",{className:"max-w-7xl mx-auto",children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsxs("h3",{className:"text-white font-bold flex items-center gap-2",children:[f.jsx(Qm,{size:16,className:"text-gray-500"}),"Viewing: ",f.jsx("span",{className:"text-yellow-500 uppercase",children:u})]}),f.jsxs("span",{className:"text-xs text-gray-500 font-mono",children:[h.length," records found"]})]}),_()]})})]})}function lS({onClose:i}){const{resetData:a,updateDeadline:r}=an(),[l,u]=U.useState(!1),c=()=>{window.confirm("WARNING: This will delete ALL books, votes, and rankings. This action cannot be undone. Are you sure?")&&(a(l),window.location.reload())};return f.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center p-4 z-[70]",children:f.jsxs("div",{className:"bg-parchment w-full max-w-md rounded-lg overflow-hidden shadow-2xl border border-gold/20",children:[f.jsxs("div",{className:"bg-forest-green p-4 flex justify-between items-center border-b border-gold/20",children:[f.jsx("h3",{className:"text-xl font-serif text-gold",children:"Club Administration"}),f.jsx("button",{onClick:i,className:"text-parchment/50 hover:text-parchment",children:f.jsx(Ps,{size:20})})]}),f.jsxs("div",{className:"p-6 space-y-6",children:[f.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-4",children:[f.jsx("h4",{className:"text-gold font-bold mb-2 text-sm uppercase tracking-wider",children:"Voting Deadline"}),f.jsx("p",{className:"text-gray-500 text-xs mb-3",children:"Set the date/time when voting closes."}),f.jsx("input",{type:"datetime-local",className:"w-full p-2 bg-gray-950 border border-gray-800 rounded text-gray-300 focus:border-gold outline-none",onChange:h=>{const m=new Date(h.target.value);r(m.toISOString())}})]}),f.jsxs("div",{className:"border-2 border-crimson/20 bg-crimson/5 rounded-lg p-4",children:[f.jsxs("div",{className:"flex items-center gap-2 text-crimson font-bold mb-2 uppercase tracking-wider text-sm",children:[f.jsx(Wc,{size:16}),"Danger Zone"]}),f.jsx("p",{className:"text-forest-green/70 text-sm mb-4",children:"These actions are irreversible. Proceed with caution."}),f.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[f.jsx("input",{type:"checkbox",id:"deleteMembers",checked:l,onChange:h=>u(h.target.checked),className:"accent-crimson w-4 h-4"}),f.jsx("label",{htmlFor:"deleteMembers",className:"text-forest-green font-bold text-sm cursor-pointer",children:"Also delete all members?"})]}),f.jsxs("button",{onClick:c,className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-crimson text-white font-bold rounded hover:bg-crimson/90 transition-colors shadow-lg",children:[f.jsx(w1,{size:18})," Factory Reset (Delete All Data)"]})]})]})]})})}function oS(){const{currentUser:i,logout:a,isAdmin:r,isLoading:l}=an(),u=Hc(),c=aa(),[h,m]=Fm.useState(!1);if(l)return f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-950 text-amber-500",children:f.jsxs("div",{className:"animate-pulse flex flex-col items-center gap-4",children:[f.jsx("div",{className:"w-12 h-12 border-4 border-amber-500 border-t-transparent rounded-full animate-spin"}),f.jsx("div",{className:"font-serif tracking-widest uppercase text-sm",children:"Loading Library..."})]})});if(!i)return f.jsx(tS,{});const g=p=>c.pathname===p;return f.jsxs("div",{className:"min-h-screen text-gray-300 font-sans selection:bg-amber-500/30",children:[f.jsxs("div",{className:"p-4 md:p-8 max-w-7xl mx-auto",children:[f.jsxs("header",{className:"flex flex-col md:flex-row justify-between items-center mb-8 border-b border-white/10 pb-6 gap-4",children:[f.jsx("div",{className:"flex items-center gap-4 cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>u("/"),children:f.jsx(wp,{size:"small"})}),f.jsxs("nav",{className:"flex items-center gap-6 bg-gray-900/80 backdrop-blur-md px-6 py-2 rounded-full border border-amber-500/30 shadow-[0_0_15px_rgba(245,158,11,0.1)]",children:[f.jsx("button",{onClick:()=>u("/"),className:`text-sm uppercase tracking-widest transition-all duration-300 ${g("/")?"text-amber-400 font-bold drop-shadow-[0_0_8px_rgba(251,191,36,0.6)]":"text-gray-400 hover:text-amber-200 hover:drop-shadow-[0_0_5px_rgba(251,191,36,0.4)]"}`,children:"Dashboard"}),f.jsx("button",{onClick:()=>u("/library"),className:`text-sm uppercase tracking-widest transition-all duration-300 ${g("/library")?"text-amber-400 font-bold drop-shadow-[0_0_8px_rgba(251,191,36,0.6)]":"text-gray-400 hover:text-amber-200 hover:drop-shadow-[0_0_5px_rgba(251,191,36,0.4)]"}`,children:"Library"}),f.jsx("button",{onClick:()=>u("/vote"),className:`text-sm uppercase tracking-widest transition-all duration-300 ${g("/vote")?"text-amber-400 font-bold drop-shadow-[0_0_8px_rgba(251,191,36,0.6)]":"text-gray-400 hover:text-amber-200 hover:drop-shadow-[0_0_5px_rgba(251,191,36,0.4)]"}`,children:"Voting"}),f.jsx("button",{onClick:()=>u("/leaderboard"),className:`text-sm uppercase tracking-widest transition-all duration-300 ${g("/leaderboard")?"text-amber-400 font-bold drop-shadow-[0_0_8px_rgba(251,191,36,0.6)]":"text-gray-400 hover:text-amber-200 hover:drop-shadow-[0_0_5px_rgba(251,191,36,0.4)]"}`,children:"Leaderboard"})]}),f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsxs("div",{className:"text-right hidden md:block",children:[f.jsx("div",{className:"text-xs text-gold uppercase tracking-wider",children:"Member"}),f.jsxs("div",{className:"font-serif italic flex items-center gap-2",children:[i,r&&f.jsx(Ar,{size:14,className:"text-gold",title:"Admin Access"})]})]}),f.jsx("div",{className:"w-10 h-10 rounded-full bg-gold/10 flex items-center justify-center text-gold font-bold border border-gold/30",children:i.charAt(0)})]}),r&&f.jsxs(f.Fragment,{children:[f.jsx("button",{onClick:()=>u("/datastudio"),className:"p-2 border border-gold/30 rounded hover:bg-gold/10 text-gold transition-colors",title:"Data Studio",children:f.jsx(hp,{size:18})}),f.jsx("button",{onClick:()=>m(!0),className:"p-2 border border-gold/30 rounded hover:bg-gold/10 text-gold transition-colors",title:"Admin Settings",children:f.jsx(b1,{size:18})})]}),f.jsx("button",{onClick:a,className:"px-4 py-2 border border-gold/30 rounded text-xs uppercase tracking-widest hover:bg-gold/10 text-gold transition-colors",children:"Logout"})]})]}),f.jsx("main",{children:f.jsxs(Xb,{children:[f.jsx(wr,{path:"/",element:f.jsx(sS,{})}),f.jsx(wr,{path:"/library",element:f.jsx(nS,{onClose:()=>u("/")})}),f.jsx(wr,{path:"/vote",element:f.jsx(aS,{onClose:()=>u("/")})}),f.jsx(wr,{path:"/leaderboard",element:f.jsx(rS,{onClose:()=>u("/")})}),f.jsx(wr,{path:"/datastudio",element:f.jsx(iS,{onClose:()=>u("/")})})]})})]}),h&&f.jsx(lS,{onClose:()=>m(!1)})]})}function uS(){return f.jsx(vx,{children:f.jsx(a1,{children:f.jsx(oS,{})})})}class cS extends Fm.Component{constructor(a){super(a),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(a){return{hasError:!0}}componentDidCatch(a,r){this.setState({error:a,errorInfo:r}),console.error("Uncaught error:",a,r)}render(){return this.state.hasError?f.jsxs("div",{style:{padding:"20px",color:"red",backgroundColor:"#1a1a1a",minHeight:"100vh"},children:[f.jsx("h1",{children:"Something went wrong."}),f.jsxs("details",{style:{whiteSpace:"pre-wrap"},children:[this.state.error&&this.state.error.toString(),f.jsx("br",{}),this.state.errorInfo&&this.state.errorInfo.componentStack]})]}):this.props.children}}ab.createRoot(document.getElementById("root")).render(f.jsx(U.StrictMode,{children:f.jsx(cS,{children:f.jsx(uS,{})})}));
